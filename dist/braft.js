!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("draft-js"),require("react-dom"),require("draft-convert"),require("draftjs-utils"));else if("function"==typeof define&&define.amd)define(["react","draft-js","react-dom","draft-convert","draftjs-utils"],t);else{var n="object"==typeof exports?t(require("react"),require("draft-js"),require("react-dom"),require("draft-convert"),require("draftjs-utils")):t(e.react,e["draft-js"],e["react-dom"],e["draft-convert"],e["draftjs-utils"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e,t,n,r,i){return function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=48)}([function(t,n){t.exports=e},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(28);var u=n(0),l=e(u),c=n(47),s=e(c),f=n(2),d=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.alive=!1,o.responsiveResolveId=null,o.dropDownHandlerElement=null,o.dropDownContentElement=null,o.componentId=o.props.componentId||"BRAFT-DROPDOWN-"+(0,f.UniqueIndex)(),o.state={active:!1,offset:0},a=n,i(o,a)}return o(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;this.alive=!0,this.fixDropDownPosition(),document.body.addEventListener("click",function(t){e.registerClickEvent(t)}),this.responsiveResolveId=s.default.resolve(function(){e.fixDropDownPosition()})}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.hide()}},{key:"componentWillUnmount",value:function(){var e=this;document.body.removeEventListener("click",function(t){e.registerClickEvent(t)}),this.alive=!1,s.default.unresolve(this.responsiveResolveId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,r=t.offset,i=this.props,o=i.caption,a=i.hoverTitle,u=i.disabled,c=i.showDropDownArrow,s=i.arrowActive,f=i.className,d=i.children;return u&&(n=!1),l.default.createElement("div",{id:this.componentId,className:"Braft-dropdown "+(n?"active ":"")+(u?"disabled ":"")+f},l.default.createElement("button",{className:"dropdown-handler",title:a,"data-braft-component-id":this.componentId,ref:function(t){return e.dropDownHandlerElement=t}},l.default.createElement("span",null,o),!1!==c&&l.default.createElement("i",{className:"icon-drop-down"})),l.default.createElement("div",{className:"dropdown-content",style:{marginLeft:r+"px"},ref:function(t){return e.dropDownContentElement=t}},l.default.createElement("i",{style:{marginLeft:-1*r},className:"dropdown-arrow"+(s?" active":"")}),d))}},{key:"fixDropDownPosition",value:function(){var e=0,t=null;t=this.props.viewWrapper?document.querySelector(this.props.viewWrapper).getBoundingClientRect():document.body.getBoundingClientRect();var n=this.dropDownHandlerElement.getBoundingClientRect(),r=this.dropDownContentElement.getBoundingClientRect(),i=n.right-n.width/2+r.width/2,o=n.left+n.width/2-r.width/2;i=t.right-i,o-=t.left,i<10?e=i-10:o<10&&(e=-1*o+10),e!==this.state.offset&&this.setState({offset:e})}},{key:"registerClickEvent",value:function(e){var t=this.props.hideOnBlur,n=!1;e.target.dataset.braftComponentId===this.componentId?n=!!e.target.dataset.keepActive||!this.state.active:!1===t&&(n=this.state.active),this.alive&&this.setState({active:n})}},{key:"show",value:function(){this.setState({active:!0})}},{key:"hide",value:function(){this.setState({active:!1})}}]),t}(l.default.Component);t.default=d}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.UniqueIndex=function(){return isNaN(window.__BRAFT_UNIQUE_INDEX__)?window.__BRAFT_UNIQUE_INDEX__=1:window.__BRAFT_UNIQUE_INDEX__+=1,window.__BRAFT_UNIQUE_INDEX__}}).call(this)}finally{}},function(e,n){e.exports=t},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(58),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},n=t.getHexColor=function(t){if(t=t.replace("color:","").replace(";","").replace(" ",""),/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(t))return t;if(e[t])return e[t];if(0===t.indexOf("rgb")){var n=t.split(","),r=n.length<3?null:"#"+[n[0],n[1],n[2]].map(function(e){var t=parseInt(e.replace(/\D/g,""),10).toString(16);return 1===t.length?"0"+t:t}).join("");return/^#([0-9a-fA-F]{6}|[0-9a-fA-F]{3})$/.test(r)?r:null}return null};t.detectColorsFromHTML=function(e){return"string"!=typeof e?[]:(e.match(/color:[^;]{3,24};/g)||[]).map(n).filter(function(e){return e})}}).call(this)}finally{}},function(e,t){e.exports=n},function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(30);var a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),o(n,[{key:"render",value:function(){var e=this.props,t=e.active,n=e.onClick,r=e.className;return u.default.createElement("div",{onClick:function(){return n()},className:"switch-button "+r+(t?" active":"")},u.default.createElement("span",null))}}]),n}(u.default.Component);t.default=l}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blocks=t.getHeadings=void 0;var e=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(e);t.getHeadings=function(e){return[{key:"header-one",title:e.controls.header+" 1",text:r.default.createElement("h1",null,e.controls.header," 1"),type:"block-type",command:"header-one"},{key:"header-two",title:e.controls.header+" 2",text:r.default.createElement("h2",null,e.controls.header," 2"),type:"block-type",command:"header-two"},{key:"header-three",title:e.controls.header+" 3",text:r.default.createElement("h3",null,e.controls.header," 3"),type:"block-type",command:"header-three"},{key:"header-four",title:e.controls.header+" 4",text:r.default.createElement("h4",null,e.controls.header," 4"),type:"block-type",command:"header-four"},{key:"header-five",title:e.controls.header+" 5",text:r.default.createElement("h5",null,e.controls.header," 5"),type:"block-type",command:"header-five"},{key:"header-six",title:e.controls.header+" 6",text:r.default.createElement("h6",null,e.controls.header," 6"),type:"block-type",command:"header-six"}]},t.blocks={"header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-fiv":"h5","header-six":"h6",unstyled:"p",blockquote:"blockquote"}}).call(this)}finally{}},function(e,t){},function(e,t){},function(e,t,n){(function(e){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(19);var c=n(0),s=r(c),f=n(46),d=r(f),p=n(40),h=r(p),m=n(39),y=r(m),v=n(43),g=r(v),_=n(38),b=r(_),w=n(37),E=r(w),k=n(42),S=r(k),O=n(36),C=r(O),I=n(41),x=r(I),T=n(1),j=r(T),M=function(t){function n(){var e,t,r,a;i(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return t=r=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.mediaPicker=null,r.videoPicker=null,r.audioPicker=null,r.showMediaPicker=function(){r.mediaPicker.show()},a=t,o(r,a)}return a(n,t),l(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.editor,r=t.controls,i=t.media,o=t.addonControls,a=t.language,l=t.colors,c=t.tempColors,f=t.fontSizes,p=t.fontFamilies,m=t.emojis,v=t.viewWrapper,_=n.getSelectionBlockType(),w=(0,d.default)(a),k={editor:n,language:a,viewWrapper:v},O=o.map(function(e,t){if("split"===e.type)return s.default.createElement("span",{key:r.length+t,className:"split-line"});if("dropdown"===e.type){var n=e.text,i=e.className,o=e.showDropDownArrow,a=e.hoverTitle,u=e.component;return s.default.createElement(j.default,{key:t,className:"control-item dropdown "+i,caption:n,showDropDownArrow:o,viewWrapper:v,hoverTitle:a},u)}return s.default.createElement("button",{key:r.length+t,title:e.title,className:"control-item button "+e.className,onClick:function(){return e.onClick()}},e.text)});return s.default.createElement("div",{className:"BraftEditor-controlBar"},s.default.createElement(x.default,u({media:i,ref:function(t){return e.mediaPicker=t},mediaLibrary:n.mediaLibrary},k)),r.map(function(t,n){if("split"===t.toLowerCase())return s.default.createElement("span",{key:n,className:"split-line"});var r=w.find(function(e){return e.key.toLowerCase()===t.toLowerCase()});if(!r)return null;if("headings"===r.type)return s.default.createElement(y.default,u({key:n,current:_,onChange:function(t){return e.applyControl(t,"block-type")}},k));if("text-color"===r.type)return s.default.createElement(g.default,u({key:n,colors:l,tempColors:c},k));if("font-size"===r.type)return s.default.createElement(b.default,u({key:n,fontSizes:f,defaultCaption:r.title},k));if("font-family"===r.type)return s.default.createElement(E.default,u({key:n,fontFamilies:p,defaultCaption:r.title},k));if("emoji"===r.type)return s.default.createElement(C.default,u({key:n,emojis:m,defaultCaption:r.text},k));if("link"===r.type)return s.default.createElement(h.default,u({key:n},k));if("text-align"===r.type)return s.default.createElement(S.default,u({key:n},k));if("media"===r.type)return i.image||i.video||i.audio?s.default.createElement("button",{key:n,title:r.title,className:"control-item button",onClick:e.showMediaPicker},r.text):null;var o=e.getControlItemClassName({type:r.type,command:r.command});return s.default.createElement("button",{key:n,title:r.title,className:o,onClick:function(){return e.applyControl(r.command,r.type)}},r.text)}),O)}},{key:"getControlItemClassName",value:function(e){var t="control-item button",n=e.type,r=e.command;return"inline-style"===n&&this.props.editor.selectionHasInlineStyle(r)?t+=" active":"block-type"===n&&this.props.editor.getSelectionBlockType()===r&&(t+=" active"),t}},{key:"applyControl",value:function(t,n){var r=this;"inline-style"===n?this.props.editor.toggleSelectionInlineStyle(t):"block-type"===n?this.props.editor.toggleSelectionBlockType(t):"editor-state-method"===n&&this.props.editor[t]&&this.props.editor[t](),e(function(){r.props.editor.focus()})}}]),n}(s.default.Component);t.default=M}).call(this)}finally{}}).call(t,n(4).setImmediate)},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFromHTMLConfig=t.getToHTMLConfig=void 0;var e=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(e),i=n(3),o=n(8),a=n(5),u=function(e,t){var n=t.getBlockForKey(e.key),i=n.getEntityAt(0),o=t.getEntity(i),a=o.getType().toLowerCase(),u=e.data,l=u.float,c=u.alignment,s=o.getData(),f=s.url,d=s.link,p=s.link_target,h=s.width,m=s.height;if("image"===a){var y={};return l?y.float=l:c&&(y.textAlign=c),d?r.default.createElement("div",{className:"media-wrap image-wrap",style:y},r.default.createElement("a",{style:{display:"inline-block"},href:d,target:p},r.default.createElement("img",{src:f,width:h,height:m}))):r.default.createElement("div",{className:"media-wrap image-wrap",style:y},r.default.createElement("img",{src:f,width:h,height:m}))}return"audio"===a?r.default.createElement("div",{className:"media-wrap audio-wrap"},r.default.createElement("audio",{controls:!0,src:f})):"video"===a?r.default.createElement("div",{className:"media-wrap video-wrap"},r.default.createElement("video",{controls:!0,src:f,width:h,height:m})):r.default.createElement("p",null)},l=function(e){return function(t){if("strikethrough"===(t=t.toLowerCase()))return r.default.createElement("span",{style:{textDecoration:"line-through"}});if("superscript"===t)return r.default.createElement("sup",null);if("subscript"===t)return r.default.createElement("sub",null);if(0===t.indexOf("color-"))return r.default.createElement("span",{style:{color:"#"+t.split("-")[1]}});if(0===t.indexOf("bgcolor-"))return r.default.createElement("span",{style:{backgroundColor:"#"+t.split("-")[1]}});if(0===t.indexOf("fontsize-"))return r.default.createElement("span",{style:{fontSize:t.split("-")[1]+"px"}});if(0===t.indexOf("fontfamily-")){var n=e.fontFamilies.find(function(e){return e.name.toLowerCase()===t.split("-")[1]});return r.default.createElement("span",{style:{fontFamily:n.family}})}}},c=function(e){return function(t){var n="",r=t.type.toLowerCase(),i=t.data.textAlign;return i&&(n=' style="text-align:'+i+';"'),"atomic"===r?u(t,e):"code-block"===r?{start:"<pre><code"+n+">",end:"</code></pre>"}:o.blocks[r]?{start:"<"+o.blocks[r]+n+">",end:"</"+o.blocks[r]+">"}:void 0}},s=function(e,t){var n=e.type.toLowerCase();return"link"===n?r.default.createElement("a",{href:e.data.href,target:e.data.target},t):"color"===n?r.default.createElement("span",{style:{color:e.data.color}},t):"bg-color"===n?r.default.createElement("span",{style:{backgroundColor:e.data.color}},t):void 0},f=(t.getToHTMLConfig=function(e){return{styleToHTML:l(e),entityToHTML:s,blockToHTML:c(e.contentState)}},function(e,t,n){if("span"===e&&t.style.color){var r=(0,a.getHexColor)(t.style.color);return r?n.add("COLOR-"+r.replace("#","").toUpperCase()):n}if("span"===e&&t.style.backgroundColor){var i=(0,a.getHexColor)(t.style.color);return i?n.add("BGCOLOR-"+i.replace("#","").toUpperCase()):n}return"sup"===e?n.add("SUPERSCRIPT"):"sub"===e?n.add("SUBSCRIPT"):"span"===e&&t.style.fontSize?n.add("FONTSIZE-"+parseInt(t.style.fontSize,10)):"span"===e&&"line-through"===t.style.textDecoration?n.add("STRIKETHROUGH"):n}),d=function(e,t){if("a"===e&&!t.querySelectorAll("img").length){var n=t.href,r=t.target;return i.Entity.create("LINK","MUTABLE",{href:n,target:r})}if("audio"===e)return i.Entity.create("AUDIO","IMMUTABLE",{url:t.src});if("video"===e)return i.Entity.create("VIDEO","IMMUTABLE",{url:t.src});if("img"===e){var o=t.parentNode,a=t.src,u=t.width,l=t.height;u=u||"auto",l=l||"auto";var c={url:a,width:u,height:l};return"a"===o.nodeName.toLowerCase()&&(c.link=o.href,c.link_target=o.target),i.Entity.create("IMAGE","IMMUTABLE",c)}},p=function(e,t){var n=t.style||{};return t.classList&&t.classList.contains("media-wrap")?{type:"atomic",data:{float:n.float,alignment:n.textAlign}}:"img"===e?{type:"atomic",data:{float:n.float,alignment:n.textAlign}}:"p"===e&&n.textAlign?{type:"unstyled",data:{textAlign:n.textAlign}}:void 0};t.getFromHTMLConfig=function(e){return{htmlToStyle:f,htmlToEntity:d,htmlToBlock:p}}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={height:500,language:"zh",controls:["undo","redo","split","font-size","font-family","text-color","bold","italic","underline","strike-through","superscript","subscript","emoji","text-align","split","headings","list_ul","list_ol","blockquote","code","split","link","split","media"],addonControls:[],media:{image:!0,video:!1,audio:!0,uploadFn:null,sourceFn:null},colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00","#7f8c8d","#2c3e50"],fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],fontFamilies:[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:"tahoma, arial, 'Hiragino Sans GB', å®‹ä½“, sans-serif"}],emojis:["ğŸ¤£","ğŸ™Œ","ğŸ’š","ğŸ’›","ğŸ‘","ğŸ˜‰","ğŸ’¯","ğŸ’•","ğŸ’","ğŸ’˜","ğŸ’™","ğŸ’","ğŸ–¤","ğŸ’œ","â¤ï¸","ğŸ˜","ğŸ˜»","ğŸ’“","ğŸ’—","ğŸ˜‹","ğŸ˜‡","ğŸ˜‚","ğŸ˜¹","ğŸ˜˜","ğŸ’–","ğŸ˜","ğŸ˜€","ğŸ¤","ğŸ˜²","ğŸ˜„","ğŸ˜Š","ğŸ‘","ğŸ˜Œ","ğŸ˜ƒ","ğŸ˜…","âœŒï¸","ğŸ¤—","ğŸ’‹","ğŸ˜—","ğŸ˜½","ğŸ˜š","ğŸ¤ ","ğŸ˜™","ğŸ˜º","ğŸ‘„","ğŸ˜¸","ğŸ˜","ğŸ˜¼","ğŸ‘Œ","ğŸ˜","ğŸ˜†","ğŸ˜›","ğŸ™","ğŸ¤","ğŸ™‚","ğŸ¤‘","ğŸ˜","ğŸ˜","ğŸ˜‘","ğŸ¤¤","ğŸ˜¤","ğŸ™ƒ","ğŸ¤¡","ğŸ˜¶","ğŸ˜ª","ğŸ˜´","ğŸ˜µ","ğŸ˜“","ğŸ‘Š","ğŸ˜¦","ğŸ˜·","ğŸ¤","ğŸ˜œ","ğŸ¤“","ğŸ‘»","ğŸ˜¥","ğŸ™„","ğŸ¤”","ğŸ¤’","ğŸ™","ğŸ˜”","ğŸ˜¯","â˜¹ï¸","â˜ ï¸","ğŸ˜°","ğŸ˜©","ğŸ˜–","ğŸ˜•","ğŸ˜’","ğŸ˜£","ğŸ˜¢","ğŸ˜®","ğŸ˜¿","ğŸ¤§","ğŸ˜«","ğŸ¤¥","ğŸ˜","ğŸ˜¬","ğŸ‘","ğŸ’€","ğŸ˜³","ğŸ˜¨","ğŸ¤•","ğŸ¤¢","ğŸ˜±","ğŸ˜­","ğŸ˜ ","ğŸ˜ˆ","ğŸ˜§","ğŸ’”","ğŸ˜Ÿ","ğŸ™€","ğŸ’©","ğŸ‘¿","ğŸ˜¡","ğŸ˜¾","ğŸ–•"]}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),u=n(3),l=n(60),c=function(t){function n(){var t,i,o,a;e(this,n);for(var c=arguments.length,s=Array(c),f=0;f<c;f++)s[f]=arguments[f];return i=o=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(s))),o.triggerChange=function(e){return o.onChange(e),o},o.selectionCollapsed=function(){return o.selectionState.isCollapsed()},o.selectBlock=function(e){var t=e.getKey();return o.triggerChange(u.EditorState.forceSelection(o.editorState,new u.SelectionState({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:e.getLength()})))},o.selectNextBlock=function(e){var t=o.contentState.getBlockAfter(e.getKey());return o.triggerChange(t?o.selectBlock(t):o.editorState)},o.removeBlock=function(e){var t=void 0,n=void 0,r=e.getKey();return t=u.Modifier.removeRange(o.contentState,new u.SelectionState({anchorKey:r,anchorOffset:0,focusKey:r,focusOffset:e.getLength()}),"backward"),t=u.Modifier.setBlockType(t,t.getSelectionAfter(),"unstyled"),n=u.EditorState.push(o.editorState,t,"remove-range"),n=u.EditorState.forceSelection(n,t.getSelectionAfter()),o.triggerChange(n)},o.getSelectionBlock=function(){return o.contentState.getBlockForKey(o.selectionState.getAnchorKey())},o.setSelectionBlockData=function(e){return o.triggerChange((0,l.setBlockData)(o.editorState,e))},o.getSelectionBlockData=function(e){var t=o.getSelectionBlock().getData();return e?t.get(e):t},o.getSelectionBlockType=function(){return o.getSelectionBlock().getType()},o.toggleSelectionBlockType=function(e){return o.triggerChange(u.RichUtils.toggleBlockType(o.editorState,e))},o.getSelectionEntityData=function(e){var t=(0,l.getSelectionEntity)(o.editorState);if(t){var n=o.contentState.getEntity(t);if(n&&n.get("type")===e){var r=n.getData();return{href:r.href,target:r.target}}return{}}return{}},o.getSelectionInlineStyle=function(){return o.editorState.getCurrentInlineStyle()},o.selectionHasInlineStyle=function(e){return o.getSelectionInlineStyle().has(e.toUpperCase())},o.toggleSelectionInlineStyle=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(o.selectionState.isCollapsed())return o;e=e.toUpperCase(),t=t.filter(function(t){return t!==e});var n=(o.getSelectionInlineStyle(),t.length?t.reduce(function(e,t){return u.Modifier.removeInlineStyle(e,o.selectionState,t)},o.contentState):o.contentState),r=t.length?u.EditorState.push(o.editorState,n,"change-inline-style"):o.editorState;return o.triggerChange(u.RichUtils.toggleInlineStyle(r,e))},o.toggleSelectionAlignment=function(e){return o.setSelectionBlockData({textAlign:o.getSelectionBlockData("textAlign")!==e?e:void 0})},o.toggleSelectionColor=function(e){return o.toggleSelectionInlineStyle("COLOR-"+e.replace("#",""),o.colorList.map(function(e){return"COLOR-"+e.replace("#","").toUpperCase()}))},o.toggleSelectionBackgroundColor=function(e){return o.toggleSelectionInlineStyle("BGCOLOR-"+e.replace("#",""),o.colorList.map(function(e){return"BGCOLOR-"+e.replace("#","").toUpperCase()}))},o.toggleSelectionFontSize=function(e){return o.toggleSelectionInlineStyle("FONTSIZE-"+e,o.fontSizeList.map(function(e){return"FONTSIZE-"+e}))},o.toggleSelectionFontFamily=function(e){return o.toggleSelectionInlineStyle("FONTFAMILY-"+e,o.fontFamilyList.map(function(e){return"FONTFAMILY-"+e.name.toUpperCase()}))},o.toggleSelectionLink=function(e,t){var n={href:e,target:t};if(o.selectionState.isCollapsed()||"atomic"===o.getSelectionBlockType())return o;if(!1===e)return o.triggerChange(u.RichUtils.toggleLink(o.editorState,o.selectionState,null)),o;null===e&&delete n.href;var r=o.contentState.createEntity("LINK","MUTABLE",n),i=r.getLastCreatedEntityKey(),a=u.EditorState.set(o.editorState,{currentContent:r});return a=u.RichUtils.toggleLink(a,o.selectionState,i),a=u.EditorState.forceSelection(a,o.selectionState.merge({anchorOffset:o.selectionState.getEndOffset(),focusOffset:o.selectionState.getEndOffset()})),a=u.EditorState.push(a,u.Modifier.insertText(a.getCurrentContent(),a.getSelection()," "),"insert-text"),o.triggerChange(a)},o.insertText=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"atomic"===o.getSelectionBlockType()?o:o.selectionState.isCollapsed()?o.triggerChange(u.EditorState.push(o.editorState,u.Modifier.insertText(o.contentState,o.selectionState,e),"insert-text")):t?o.triggerChange(u.EditorState.push(o.editorState,u.Modifier.replaceText(o.contentState,o.selectionState,e),"replace-text")):o},o.replaceText=function(e){return o.insertText(e)},o.insertMedias=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e.length)return o;"atomic"===o.getSelectionBlockType()&&o.selectNextBlock();var t=e.reduce(function(e,t){var n=t.url,r=t.name,i=t.type,o=t.meta,a=e.getCurrentContent().createEntity(i,"IMMUTABLE",{url:n,name:r,type:i,meta:o}),l=a.getLastCreatedEntityKey();return u.AtomicBlockUtils.insertAtomicBlock(e,l," ")},o.editorState);return o.triggerChange(t)},o.setMediaData=function(e,t){return o.triggerChange(u.EditorState.push(o.editorState,o.contentState.mergeEntityData(e,t),"change-block-data"))},o.removeMedia=function(e){return o.removeBlock(e)},o.setMediaPosition=function(e,t){var n={},r=t.float,i=t.alignment;return void 0!==r&&(n.float=e.getData().get("float")===r?null:r),void 0!==i&&(n.alignment=e.getData().get("alignment")===i?null:i),o.selectBlock(e).setSelectionBlockData(n)},o.undo=function(){return o.triggerChange(u.EditorState.undo(o.editorState))},o.redo=function(){return o.triggerChange(u.EditorState.redo(o.editorState))},o.focus=function(){return o.draftInstance.focus(),o},o.blur=function(){return o.draftInstance.blur(),o},a=i,r(o,a)}return i(n,t),n}(a.default.Component);t.default=c}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function t(){n(this,t),this.items=[]}return i(t,[{key:"setItems",value:function(e){this.items=e||[],this.triggerChange(),this.uploadItems()}},{key:"addItem",value:function(e){this.addItems([e])}},{key:"addItems",value:function(t){this.items=[].concat(e(this.items),e(t)),this.triggerChange(),this.uploadItems()}},{key:"selectItem",value:function(e){this.setItemState(e,{selected:!0})}},{key:"unselectItem",value:function(e){this.setItemState(e,{selected:!1})}},{key:"unselectAllItem",value:function(){this.items=this.items.map(function(e){return r({},e,{selected:!1})}),this.triggerChange()}},{key:"removeItem",value:function(e){this.items=this.items.filter(function(t){return t.id!==e}),this.triggerChange()}},{key:"setItemState",value:function(e,t){this.items=this.items.map(function(n){return n.id===e?r({},n,t):n}),this.triggerChange()}},{key:"uploadItems",value:function(){var e=this;this.items.forEach(function(t,n){if(t.uploading||t.url||t.error)return!1;if("IMAGE"===t.type){var r=URL.createObjectURL(t.file);if(e.createThumbnail(t.id,r),!e.uploadFn)return e.createInlineImage(t.id,r),!1}else if(!e.uploadFn)return e.setItemState(t.id,{error:1}),!1;e.setItemState(t.id,{uploading:!0,uploadProgress:0}),e.uploadFn({file:t.file,libraryId:t.id,success:function(n){e.setItemState(t.id,{file:null,url:n.url,uploadProgress:1,uploading:!1,selected:!0})},progress:function(n){e.setItemState(t.id,{uploading:!0,uploadProgress:n})},error:function(n){e.setItemState(t.id,{uploading:!1,error:2})}})})}},{key:"createThumbnail",value:function(e,t){var n=this;this.compressImage(t,226,226,function(t){n.setItemState(e,{thumbnail:t.url})})}},{key:"createInlineImage",value:function(e,t){var n=this;this.compressImage(t,1280,800,function(t){n.setItemState(e,{url:t.url,uploading:!1,uploadProgress:1,selected:!0})})}},{key:"compressImage",value:function(e,t,n,r){var i=new Image,o=document.createElement("canvas");i.src=e,i.onload=function(){var i=1;if(!(this.width>t||this.height>n))return r({url:e,width:this.width,height:this.height}),!1;i=this.width>this.height?t/this.width:n/this.height,o.width=this.width*i,o.height=this.height*i,o.getContext("2d").drawImage(this,0,0,o.width,o.height),r({url:o.toDataURL("image/png",1),width:o.width,height:o.height})}}},{key:"triggerChange",value:function(e){this.onChange(this.items)}},{key:"onChange",value:function(e){}}]),t}();t.default=o}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(49),i=e(r),o=n(50),a=e(o);t.default={en:i.default,zh:a.default}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.decorators=t.getCustomStyleMap=t.blockStyleFn=t.customBlockRenderMap=t.getBlockRendererFn=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),o=e(i),a=n(34),u=n(52),l=e(u),c=n(53),s=e(c),f=n(51),d=e(f),p=n(56),h=e(p),m=n(57),y=e(m),v=n(55),g=e(v),_=function(e,t){return function(n){var i=n.block.getEntityAt(0),a=n.contentState.getEntity(i),u=a.getData(),c=a.getType(),f=r({},t,{block:e,mediaData:u,entityKey:i});return"IMAGE"===c?o.default.createElement(l.default,f):"AUDIO"===c?o.default.createElement(d.default,f):"VIDEO"===c?o.default.createElement(s.default,f):null}};t.getBlockRendererFn=function(e){return function(t){return"atomic"===t.getType()?{component:_(t,e),editable:!1}:null}},t.customBlockRenderMap=(0,a.Map)({atomic:{element:""}}),t.blockStyleFn=h.default,t.getCustomStyleMap=y.default,t.decorators=g.default}).call(this)}finally{}},function(e,t){e.exports=r},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:T(e)}function n(e){return a(e)?e:j(e)}function r(e){return u(e)?e:M(e)}function i(e){return o(e)&&!l(e)?e:D(e)}function o(e){return!(!e||!e[cn])}function a(e){return!(!e||!e[sn])}function u(e){return!(!e||!e[fn])}function l(e){return a(e)||u(e)}function c(e){return!(!e||!e[dn])}function s(e){return e.value=!1,e}function f(e){e&&(e.value=!0)}function d(){}function p(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function h(e){return void 0===e.size&&(e.size=e.__iterate(y)),e.size}function m(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function y(){return!0}function v(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function g(e,t){return b(e,t,0)}function _(e,t){return b(e,t,t)}function b(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function w(e){this.next=e}function E(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function k(){return{value:void 0,done:!0}}function S(e){return!!I(e)}function O(e){return e&&"function"==typeof e.next}function C(e){var t=I(e);return t&&t.call(e)}function I(e){var t=e&&(En&&e[En]||e[kn]);if("function"==typeof t)return t}function x(e){return e&&"number"==typeof e.length}function T(e){return null===e||void 0===e?R():o(e)?e.toSeq():B(e)}function j(e){return null===e||void 0===e?R().toKeyedSeq():o(e)?a(e)?e.toSeq():e.fromEntrySeq():q(e)}function M(e){return null===e||void 0===e?R():o(e)?a(e)?e.entrySeq():e.toIndexedSeq():F(e)}function D(e){return(null===e||void 0===e?R():o(e)?a(e)?e.entrySeq():e:F(e)).toSetSeq()}function z(e){this._array=e,this.size=e.length}function P(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function A(e){this._iterable=e,this.size=e.length||e.size}function N(e){this._iterator=e,this._iteratorCache=[]}function L(e){return!(!e||!e[On])}function R(){return Cn||(Cn=new z([]))}function q(e){var t=Array.isArray(e)?new z(e).fromEntrySeq():O(e)?new N(e).fromEntrySeq():S(e)?new A(e).fromEntrySeq():"object"==typeof e?new P(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function F(e){var t=U(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function B(e){var t=U(e)||"object"==typeof e&&new P(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function U(e){return x(e)?new z(e):O(e)?new N(e):S(e)?new A(e):void 0}function K(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var u=i[n?o-a:a];if(!1===t(u[1],r?u[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function H(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new w(function(){var e=i[n?o-a:a];return a++>o?k():E(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function W(e,t){return t?V(t,e,"",{"":e}):G(e)}function V(e,t,n,r){return Array.isArray(t)?e.call(r,n,M(t).map(function(n,r){return V(e,n,r,t)})):J(t)?e.call(r,n,j(t).map(function(n,r){return V(e,n,r,t)})):t}function G(e){return Array.isArray(e)?M(e).map(G).toList():J(e)?j(e).map(G).toMap():e}function J(e){return e&&(e.constructor===Object||void 0===e.constructor)}function Q(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function Y(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||u(e)!==u(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!l(e);if(c(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&Q(i[1],e)&&(n||Q(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var s=e;e=t,t=s}var f=!0,d=t.__iterate(function(t,r){if(n?!e.has(t):i?!Q(t,e.get(r,yn)):!Q(e.get(r,yn),t))return f=!1,!1});return f&&e.size===d}function X(e,t){if(!(this instanceof X))return new X(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(In)return In;In=this}}function Z(e,t){if(!e)throw new Error(t)}function $(e,t,n){if(!(this instanceof $))return new $(e,t,n);if(Z(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(xn)return xn;xn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function re(){}function ie(e){return e>>>1&1073741824|3221225471&e}function oe(e){if(!1===e||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return ie(n)}if("string"===t)return e.length>Nn?ae(e):ue(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return le(e);if("function"==typeof e.toString)return ue(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=qn[e];return void 0===t&&(t=ue(e),Rn===Ln&&(Rn=0,qn={}),Rn++,qn[e]=t),t}function ue(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ie(t)}function le(e){var t;if(zn&&void 0!==(t=Tn.get(e)))return t;if(void 0!==(t=e[An]))return t;if(!Dn){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[An]))return t;if(void 0!==(t=ce(e)))return t}if(t=++Pn,1073741824&Pn&&(Pn=0),zn)Tn.set(e,t);else{if(void 0!==Mn&&!1===Mn(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Dn)Object.defineProperty(e,An,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[An]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[An]=t}}return t}function ce(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function se(e){Z(e!==1/0,"Cannot perform this action with an infinite size.")}function fe(e){return null===e||void 0===e?Ee():de(e)&&!c(e)?e:Ee().withMutations(function(t){var r=n(e);se(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function de(e){return!(!e||!e[Fn])}function pe(e,t){this.ownerID=e,this.entries=t}function he(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function me(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function ye(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function ve(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ge(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&be(e._root)}function _e(e,t){return E(e,t[0],t[1])}function be(e,t){return{node:e,index:0,__prev:t}}function we(e,t,n,r){var i=Object.create(Bn);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Ee(){return Un||(Un=we(0))}function ke(e,t,n){var r,i;if(e._root){var o=s(vn),a=s(gn);if(r=Se(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===yn?-1:1:0)}else{if(n===yn)return e;i=1,r=new pe(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?we(i,r):Ee()}function Se(e,t,n,r,i,o,a,u){return e?e.update(t,n,r,i,o,a,u):o===yn?e:(f(u),f(a),new ve(t,r,[i,o]))}function Oe(e){return e.constructor===ve||e.constructor===ye}function Ce(e,t,n,r,i){if(e.keyHash===r)return new ye(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&mn,u=(0===n?r:r>>>n)&mn;return new he(t,1<<a|1<<u,a===u?[Ce(e,t,n+pn,r,i)]:(o=new ve(t,r,i),a<u?[e,o]:[o,e]))}function Ie(e,t,n,r){e||(e=new d);for(var i=new ve(e,oe(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function xe(e,t,n,r){for(var i=0,o=0,a=new Array(n),u=0,l=1,c=t.length;u<c;u++,l<<=1){var s=t[u];void 0!==s&&u!==r&&(i|=l,a[o++]=s)}return new he(e,i,a)}function Te(e,t,n,r,i){for(var o=0,a=new Array(hn),u=0;0!==n;u++,n>>>=1)a[u]=1&n?t[o++]:void 0;return a[r]=i,new me(e,o+1,a)}function je(e,t,r){for(var i=[],a=0;a<r.length;a++){var u=r[a],l=n(u);o(u)||(l=l.map(function(e){return W(e)})),i.push(l)}return ze(e,t,i)}function Me(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):Q(e,t)?e:t}function De(e){return function(t,n,r){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return Q(t,i)?t:i}}function ze(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,yn,function(e){return e===yn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function Pe(e,t,n,r){var i=e===yn,o=t.next();if(o.done){var a=i?n:e,u=r(a);return u===a?e:u}Z(i||e&&e.set,"invalid keyPath");var l=o.value,c=i?yn:e.get(l,yn),s=Pe(c,t,n,r);return s===c?e:s===yn?e.remove(l):(i?Ee():e).set(l,s)}function Ae(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function Ne(e,t,n,r){var i=r?e:p(e);return i[t]=n,i}function Le(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,u=0;u<i;u++)u===t?(o[u]=n,a=-1):o[u]=e[u+a];return o}function Re(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}function qe(e){var t=He();if(null===e||void 0===e)return t;if(Fe(e))return e;var n=r(e),i=n.size;return 0===i?t:(se(i),i>0&&i<hn?Ke(0,i,pn,null,new Be(n.toArray())):t.withMutations(function(e){e.setSize(i),n.forEach(function(t,n){return e.set(n,t)})}))}function Fe(e){return!(!e||!e[Vn])}function Be(e,t){this.array=e,this.ownerID=t}function Ue(e,t){function n(e,t,n){return 0===t?r(e,n):i(e,t,n)}function r(e,n){var r=n===u?l&&l.array:e&&e.array,i=n>o?0:o-n,c=a-n;return c>hn&&(c=hn),function(){if(i===c)return Qn;var e=t?--c:i++;return r&&r[e]}}function i(e,r,i){var u,l=e&&e.array,c=i>o?0:o-i>>r,s=1+(a-i>>r);return s>hn&&(s=hn),function(){for(;;){if(u){var e=u();if(e!==Qn)return e;u=null}if(c===s)return Qn;var o=t?--s:c++;u=n(l&&l[o],r-pn,i+(o<<r))}}}var o=e._origin,a=e._capacity,u=Xe(a),l=e._tail;return n(e._root,e._level,0)}function Ke(e,t,n,r,i,o,a){var u=Object.create(Gn);return u.size=t-e,u._origin=e,u._capacity=t,u._level=n,u._root=r,u._tail=i,u.__ownerID=o,u.__hash=a,u.__altered=!1,u}function He(){return Jn||(Jn=Ke(0,0,pn))}function We(e,t,n){if((t=m(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Qe(e,t).set(0,n):Qe(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=s(gn);return t>=Xe(e._capacity)?r=Ve(r,e.__ownerID,0,t,n,o):i=Ve(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ke(e._origin,e._capacity,e._level,i,r):e}function Ve(e,t,n,r,i,o){var a=r>>>n&mn,u=e&&a<e.array.length;if(!u&&void 0===i)return e;var l;if(n>0){var c=e&&e.array[a],s=Ve(c,t,n-pn,r,i,o);return s===c?e:(l=Ge(e,t),l.array[a]=s,l)}return u&&e.array[a]===i?e:(f(o),l=Ge(e,t),void 0===i&&a===l.array.length-1?l.array.pop():l.array[a]=i,l)}function Ge(e,t){return t&&e&&t===e.ownerID?e:new Be(e?e.array.slice():[],t)}function Je(e,t){if(t>=Xe(e._capacity))return e._tail;if(t<1<<e._level+pn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&mn],r-=pn;return n}}function Qe(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new d,i=e._origin,o=e._capacity,a=i+t,u=void 0===n?o:n<0?o+n:i+n;if(a===i&&u===o)return e;if(a>=u)return e.clear();for(var l=e._level,c=e._root,s=0;a+s<0;)c=new Be(c&&c.array.length?[void 0,c]:[],r),l+=pn,s+=1<<l;s&&(a+=s,i+=s,u+=s,o+=s);for(var f=Xe(o),p=Xe(u);p>=1<<l+pn;)c=new Be(c&&c.array.length?[c]:[],r),l+=pn;var h=e._tail,m=p<f?Je(e,u-1):p>f?new Be([],r):h;if(h&&p>f&&a<o&&h.array.length){c=Ge(c,r);for(var y=c,v=l;v>pn;v-=pn){var g=f>>>v&mn;y=y.array[g]=Ge(y.array[g],r)}y.array[f>>>pn&mn]=h}if(u<o&&(m=m&&m.removeAfter(r,0,u)),a>=p)a-=p,u-=p,l=pn,c=null,m=m&&m.removeBefore(r,0,a);else if(a>i||p<f){for(s=0;c;){var _=a>>>l&mn;if(_!==p>>>l&mn)break;_&&(s+=(1<<l)*_),l-=pn,c=c.array[_]}c&&a>i&&(c=c.removeBefore(r,l,a-s)),c&&p<f&&(c=c.removeAfter(r,l,p-s)),s&&(a-=s,u-=s)}return e.__ownerID?(e.size=u-a,e._origin=a,e._capacity=u,e._level=l,e._root=c,e._tail=m,e.__hash=void 0,e.__altered=!0,e):Ke(a,u,l,c,m)}function Ye(e,t,n){for(var i=[],a=0,u=0;u<n.length;u++){var l=n[u],c=r(l);c.size>a&&(a=c.size),o(l)||(c=c.map(function(e){return W(e)})),i.push(c)}return a>e.size&&(e=e.setSize(a)),ze(e,t,i)}function Xe(e){return e<hn?0:e-1>>>pn<<pn}function Ze(e){return null===e||void 0===e?tt():$e(e)?e:tt().withMutations(function(t){var r=n(e);se(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function $e(e){return de(e)&&c(e)}function et(e,t,n,r){var i=Object.create(Ze.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function tt(){return Yn||(Yn=et(Ee(),He()))}function nt(e,t,n){var r,i,o=e._map,a=e._list,u=o.get(t),l=void 0!==u;if(n===yn){if(!l)return e;a.size>=hn&&a.size>=2*o.size?(i=a.filter(function(e,t){return void 0!==e&&u!==t}),r=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=u===a.size-1?a.pop():a.set(u,void 0))}else if(l){if(n===a.get(u)[1])return e;r=o,i=a.set(u,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):et(r,i)}function rt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function ut(e){var t=xt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Tt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===wn){var r=e.__iterator(t,n);return new w(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===bn?_n:bn,n)},t}function lt(e,t,n){var r=xt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,yn);return o===yn?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,a){return!1!==r(t.call(n,e,i,a),i,o)},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(wn,i);return new w(function(){var i=o.next();if(i.done)return i;var a=i.value,u=a[0];return E(r,u,t.call(n,a[1],u,e),i)})},r}function ct(e,t){var n=xt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=ut(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Tt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function st(e,t,n,r){var i=xt(e);return r&&(i.has=function(r){var i=e.get(r,yn);return i!==yn&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,yn);return o!==yn&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,u=0;return e.__iterate(function(e,o,l){if(t.call(n,e,o,l))return u++,i(e,r?o:u-1,a)},o),u},i.__iteratorUncached=function(i,o){var a=e.__iterator(wn,o),u=0;return new w(function(){for(;;){var o=a.next();if(o.done)return o;var l=o.value,c=l[0],s=l[1];if(t.call(n,s,c,e))return E(i,r?c:u++,s,o)}})},i}function ft(e,t,n){var r=fe().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}function dt(e,t,n){var r=a(e),i=(c(e)?Ze():fe()).asMutable();e.__iterate(function(o,a){i.update(t.call(n,o,a,e),function(e){return e=e||[],e.push(r?[a,o]:o),e})});var o=It(e);return i.map(function(t){return St(e,o(t))})}function pt(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),v(t,n,i))return e;var o=g(t,i),a=_(n,i);if(o!==o||a!==a)return pt(e.toSeq().cacheResult(),t,n,r);var u,l=a-o;l===l&&(u=l<0?0:l);var c=xt(e);return c.size=0===u?u:e.size&&u||void 0,!r&&L(e)&&u>=0&&(c.get=function(t,n){return t=m(this,t),t>=0&&t<u?e.get(t+o,n):n}),c.__iterateUncached=function(t,n){var i=this;if(0===u)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,l=!0,c=0;return e.__iterate(function(e,n){if(!l||!(l=a++<o))return c++,!1!==t(e,r?n:c-1,i)&&c!==u}),c},c.__iteratorUncached=function(t,n){if(0!==u&&n)return this.cacheResult().__iterator(t,n);var i=0!==u&&e.__iterator(t,n),a=0,l=0;return new w(function(){for(;a++<o;)i.next();if(++l>u)return k();var e=i.next();return r||t===bn?e:t===_n?E(t,l-1,void 0,e):E(t,l-1,e.value[1],e)})},c}function ht(e,t,n){var r=xt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate(function(e,i,u){return t.call(n,e,i,u)&&++a&&r(e,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(wn,i),u=!0;return new w(function(){if(!u)return k();var e=a.next();if(e.done)return e;var i=e.value,l=i[0],c=i[1];return t.call(n,c,l,o)?r===wn?e:E(r,l,c,e):(u=!1,k())})},r}function mt(e,t,n,r){var i=xt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var u=!0,l=0;return e.__iterate(function(e,o,c){if(!u||!(u=t.call(n,e,o,c)))return l++,i(e,r?o:l-1,a)}),l},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var u=e.__iterator(wn,o),l=!0,c=0;return new w(function(){var e,o,s;do{if(e=u.next(),e.done)return r||i===bn?e:i===_n?E(i,c++,void 0,e):E(i,c++,e.value[1],e);var f=e.value;o=f[0],s=f[1],l&&(l=t.call(n,s,o,a))}while(l);return i===wn?e:E(i,o,s,e)})},i}function yt(e,t){var r=a(e),i=[e].concat(t).map(function(e){return o(e)?r&&(e=n(e)):e=r?q(e):F(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var l=i[0];if(l===e||r&&a(l)||u(e)&&u(l))return l}var c=new z(i);return r?c=c.toKeyedSeq():u(e)||(c=c.toSetSeq()),c=c.flatten(!0),c.size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),c}function vt(e,t,n){var r=xt(e);return r.__iterateUncached=function(r,i){function a(e,c){var s=this;e.__iterate(function(e,i){return(!t||c<t)&&o(e)?a(e,c+1):!1===r(e,n?i:u++,s)&&(l=!0),!l},i)}var u=0,l=!1;return a(e,0),u},r.__iteratorUncached=function(r,i){var a=e.__iterator(r,i),u=[],l=0;return new w(function(){for(;a;){var e=a.next();if(!1===e.done){var c=e.value;if(r===wn&&(c=c[1]),t&&!(u.length<t)||!o(c))return n?e:E(r,l++,c,e);u.push(a),a=c.__iterator(r,i)}else a=u.pop()}return k()})},r}function gt(e,t,n){var r=It(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}function _t(e,t){var n=xt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||!1!==n(t,o++,i))&&!1!==n(e,o++,i)},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(bn,r),a=0;return new w(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?E(n,a++,t):E(n,a++,i.value,i)})},n}function bt(e,t,n){t||(t=jt);var r=a(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?j(o):u(e)?M(o):D(o)}function wt(e,t,n){if(t||(t=jt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Et(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Et(t,e,n)?n:e})}function Et(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function kt(e,n,r){var i=xt(e);return i.size=new z(r).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(bn,t),i=0;!(n=r.next()).done&&!1!==e(n.value,i++,this););return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=t(e),C(i?e.reverse():e)}),a=0,u=!1;return new w(function(){var t;return u||(t=o.map(function(e){return e.next()}),u=t.some(function(e){return e.done})),u?k():E(e,a++,n.apply(null,t.map(function(e){return e.value})))})},i}function St(e,t){return L(e)?t:e.constructor(t)}function Ot(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ct(e){return se(e.size),h(e)}function It(e){return a(e)?n:u(e)?r:i}function xt(e){return Object.create((a(e)?j:u(e)?M:D).prototype)}function Tt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):T.prototype.cacheResult.call(this)}function jt(e,t){return e>t?1:e<t?-1:0}function Mt(e){var n=C(e);if(!n){if(!x(e))throw new TypeError("Expected iterable or array-like: "+e);n=C(t(e))}return n}function Dt(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);At(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=fe(o)},i=r.prototype=Object.create(Xn);return i.constructor=r,r}function zt(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Pt(e){return e._name||e.constructor.name||"Record"}function At(e,t){try{t.forEach(Nt.bind(void 0,e))}catch(e){}}function Nt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Z(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Lt(e){return null===e||void 0===e?Bt():Rt(e)&&!c(e)?e:Bt().withMutations(function(t){var n=i(e);se(n.size),n.forEach(function(e){return t.add(e)})})}function Rt(e){return!(!e||!e[Zn])}function qt(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Ft(e,t){var n=Object.create($n);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Bt(){return er||(er=Ft(Ee()))}function Ut(e){return null===e||void 0===e?Wt():Kt(e)?e:Wt().withMutations(function(t){var n=i(e);se(n.size),n.forEach(function(e){return t.add(e)})})}function Kt(e){return Rt(e)&&c(e)}function Ht(e,t){var n=Object.create(tr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Wt(){return nr||(nr=Ht(tt()))}function Vt(e){return null===e||void 0===e?Qt():Gt(e)?e:Qt().unshiftAll(e)}function Gt(e){return!(!e||!e[rr])}function Jt(e,t,n,r){var i=Object.create(ir);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Qt(){return or||(or=Jt(0))}function Yt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Xt(e,t){return t}function Zt(e,t){return[t,e]}function $t(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):e}function nn(){return p(arguments)}function rn(e,t){return e<t?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=c(e),n=a(e),r=t?1:0;return an(e.__iterate(n?t?function(e,t){r=31*r+un(oe(e),oe(t))|0}:function(e,t){r=r+un(oe(e),oe(t))|0}:t?function(e){r=31*r+oe(e)|0}:function(e){r=r+oe(e)|0}),r)}function an(e,t){return t=jn(t,3432918353),t=jn(t<<15|t>>>-15,461845907),t=jn(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=jn(t^t>>>16,2246822507),t=jn(t^t>>>13,3266489909),t=ie(t^t>>>16)}function un(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var ln=Array.prototype.slice;e(n,t),e(r,t),e(i,t),t.isIterable=o,t.isKeyed=a,t.isIndexed=u,t.isAssociative=l,t.isOrdered=c,t.Keyed=n,t.Indexed=r,t.Set=i;var cn="@@__IMMUTABLE_ITERABLE__@@",sn="@@__IMMUTABLE_KEYED__@@",fn="@@__IMMUTABLE_INDEXED__@@",dn="@@__IMMUTABLE_ORDERED__@@",pn=5,hn=1<<pn,mn=hn-1,yn={},vn={value:!1},gn={value:!1},_n=0,bn=1,wn=2,En="function"==typeof Symbol&&Symbol.iterator,kn="@@iterator",Sn=En||kn;w.prototype.toString=function(){return"[Iterator]"},w.KEYS=_n,w.VALUES=bn,w.ENTRIES=wn,w.prototype.inspect=w.prototype.toSource=function(){return this.toString()},w.prototype[Sn]=function(){return this},e(T,t),T.of=function(){return T(arguments)},T.prototype.toSeq=function(){return this},T.prototype.toString=function(){return this.__toString("Seq {","}")},T.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},T.prototype.__iterate=function(e,t){return K(this,e,t,!0)},T.prototype.__iterator=function(e,t){return H(this,e,t,!0)},e(j,T),j.prototype.toKeyedSeq=function(){return this},e(M,T),M.of=function(){return M(arguments)},M.prototype.toIndexedSeq=function(){return this},M.prototype.toString=function(){return this.__toString("Seq [","]")},M.prototype.__iterate=function(e,t){return K(this,e,t,!1)},M.prototype.__iterator=function(e,t){return H(this,e,t,!1)},e(D,T),D.of=function(){return D(arguments)},D.prototype.toSetSeq=function(){return this},T.isSeq=L,T.Keyed=j,T.Set=D,T.Indexed=M;var On="@@__IMMUTABLE_SEQ__@@";T.prototype[On]=!0,e(z,M),z.prototype.get=function(e,t){return this.has(e)?this._array[m(this,e)]:t},z.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(!1===e(n[t?r-i:i],i,this))return i+1;return i},z.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new w(function(){return i>r?k():E(e,i,n[t?r-i++:i++])})},e(P,j),P.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},P.prototype.has=function(e){return this._object.hasOwnProperty(e)},P.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(!1===e(n[a],a,this))return o+1}return o},P.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new w(function(){var a=r[t?i-o:o];return o++>i?k():E(e,a,n[a])})},P.prototype[dn]=!0,e(A,M),A.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=C(n),i=0;if(O(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,i++,this););return i},A.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=C(n);if(!O(r))return new w(k);var i=0;return new w(function(){var t=r.next();return t.done?t:E(e,i++,t.value)})},e(N,M),N.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(!1===e(r[i],i++,this))return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,!1===e(a,i++,this))break}return i},N.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new w(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return E(e,i,r[i++])})};var Cn;e(X,M),X.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},X.prototype.get=function(e,t){return this.has(e)?this._value:t},X.prototype.includes=function(e){return Q(this._value,e)},X.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:new X(this._value,_(t,n)-g(e,n))},X.prototype.reverse=function(){return this},X.prototype.indexOf=function(e){return Q(this._value,e)?0:-1},X.prototype.lastIndexOf=function(e){return Q(this._value,e)?this.size:-1},X.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},X.prototype.__iterator=function(e,t){var n=this,r=0;return new w(function(){return r<n.size?E(e,r++,n._value):k()})},X.prototype.equals=function(e){return e instanceof X?Q(this._value,e._value):Y(e)};var In;e($,M),$.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},$.prototype.get=function(e,t){return this.has(e)?this._start+m(this,e)*this._step:t},$.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},$.prototype.slice=function(e,t){return v(e,t,this.size)?this:(e=g(e,this.size),t=_(t,this.size),t<=e?new $(0,0):new $(this.get(e,this._end),this.get(t,this._end),this._step))},$.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},$.prototype.lastIndexOf=function(e){return this.indexOf(e)},$.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(!1===e(i,o,this))return o+1;i+=t?-r:r}return o},$.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new w(function(){var a=i;return i+=t?-r:r,o>n?k():E(e,o++,a)})},$.prototype.equals=function(e){return e instanceof $?this._start===e._start&&this._end===e._end&&this._step===e._step:Y(this,e)};var xn;e(ee,t),e(te,ee),e(ne,ee),e(re,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=re;var Tn,jn="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){e|=0,t|=0;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},Mn=Object.isExtensible,Dn=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),zn="function"==typeof WeakMap;zn&&(Tn=new WeakMap);var Pn=0,An="__immutablehash__";"function"==typeof Symbol&&(An=Symbol(An));var Nn=16,Ln=255,Rn=0,qn={};e(fe,te),fe.prototype.toString=function(){return this.__toString("Map {","}")},fe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},fe.prototype.set=function(e,t){return ke(this,e,t)},fe.prototype.setIn=function(e,t){return this.updateIn(e,yn,function(){return t})},fe.prototype.remove=function(e){return ke(this,e,yn)},fe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return yn})},fe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},fe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Pe(this,Mt(e),t,n);return r===yn?void 0:r},fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Ee()},fe.prototype.merge=function(){return je(this,void 0,arguments)},fe.prototype.mergeWith=function(e){return je(this,e,ln.call(arguments,1))},fe.prototype.mergeIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,Ee(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},fe.prototype.mergeDeep=function(){return je(this,Me,arguments)},fe.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return je(this,De(e),t)},fe.prototype.mergeDeepIn=function(e){var t=ln.call(arguments,1);return this.updateIn(e,Ee(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},fe.prototype.sort=function(e){return Ze(bt(this,e))},fe.prototype.sortBy=function(e,t){return Ze(bt(this,t,e))},fe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},fe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},fe.prototype.asImmutable=function(){return this.__ensureOwner()},fe.prototype.wasAltered=function(){return this.__altered},fe.prototype.__iterator=function(e,t){return new ge(this,e,t)},fe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?we(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},fe.isMap=de;var Fn="@@__IMMUTABLE_MAP__@@",Bn=fe.prototype;Bn[Fn]=!0,Bn.delete=Bn.remove,Bn.removeIn=Bn.deleteIn,pe.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Q(n,i[o][0]))return i[o][1];return r},pe.prototype.update=function(e,t,n,r,i,o,a){for(var u=i===yn,l=this.entries,c=0,s=l.length;c<s&&!Q(r,l[c][0]);c++);var d=c<s;if(d?l[c][1]===i:u)return this;if(f(a),(u||!d)&&f(o),!u||1!==l.length){if(!d&&!u&&l.length>=Kn)return Ie(e,l,r,i);var h=e&&e===this.ownerID,m=h?l:p(l);return d?u?c===s-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),h?(this.entries=m,this):new pe(e,m)}},he.prototype.get=function(e,t,n,r){void 0===t&&(t=oe(n));var i=1<<((0===e?t:t>>>e)&mn),o=this.bitmap;return 0==(o&i)?r:this.nodes[Ae(o&i-1)].get(e+pn,t,n,r)},he.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=oe(r));var u=(0===t?n:n>>>t)&mn,l=1<<u,c=this.bitmap,s=0!=(c&l);if(!s&&i===yn)return this;var f=Ae(c&l-1),d=this.nodes,p=s?d[f]:void 0,h=Se(p,e,t+pn,n,r,i,o,a);if(h===p)return this;if(!s&&h&&d.length>=Hn)return Te(e,d,c,u,h);if(s&&!h&&2===d.length&&Oe(d[1^f]))return d[1^f];if(s&&h&&1===d.length&&Oe(h))return h;var m=e&&e===this.ownerID,y=s?h?c:c^l:c|l,v=s?h?Ne(d,f,h,m):Re(d,f,m):Le(d,f,h,m);return m?(this.bitmap=y,this.nodes=v,this):new he(e,y,v)},me.prototype.get=function(e,t,n,r){void 0===t&&(t=oe(n));var i=(0===e?t:t>>>e)&mn,o=this.nodes[i];return o?o.get(e+pn,t,n,r):r},me.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=oe(r));var u=(0===t?n:n>>>t)&mn,l=i===yn,c=this.nodes,s=c[u];if(l&&!s)return this;var f=Se(s,e,t+pn,n,r,i,o,a);if(f===s)return this;var d=this.count;if(s){if(!f&&--d<Wn)return xe(e,c,d,u)}else d++;var p=e&&e===this.ownerID,h=Ne(c,u,f,p);return p?(this.count=d,this.nodes=h,this):new me(e,d,h)},ye.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(Q(n,i[o][0]))return i[o][1];return r},ye.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=oe(r));var u=i===yn;if(n!==this.keyHash)return u?this:(f(a),f(o),Ce(this,e,t,n,[r,i]));for(var l=this.entries,c=0,s=l.length;c<s&&!Q(r,l[c][0]);c++);var d=c<s;if(d?l[c][1]===i:u)return this;if(f(a),(u||!d)&&f(o),u&&2===s)return new ve(e,this.keyHash,l[1^c]);var h=e&&e===this.ownerID,m=h?l:p(l);return d?u?c===s-1?m.pop():m[c]=m.pop():m[c]=[r,i]:m.push([r,i]),h?(this.entries=m,this):new ye(e,this.keyHash,m)},ve.prototype.get=function(e,t,n,r){return Q(n,this.entry[0])?this.entry[1]:r},ve.prototype.update=function(e,t,n,r,i,o,a){var u=i===yn,l=Q(r,this.entry[0]);return(l?i===this.entry[1]:u)?this:(f(a),u?void f(o):l?e&&e===this.ownerID?(this.entry[1]=i,this):new ve(e,this.keyHash,[r,i]):(f(o),Ce(this,e,t,oe(r),[r,i])))},pe.prototype.iterate=ye.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===e(n[t?i-r:r]))return!1},he.prototype.iterate=me.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&!1===o.iterate(e,t))return!1}},ve.prototype.iterate=function(e,t){return e(this.entry)},e(ge,w),ge.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return _e(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return _e(e,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return _e(e,o.entry);t=this._stack=be(o,t)}continue}t=this._stack=this._stack.__prev}return k()};var Un,Kn=hn/4,Hn=hn/2,Wn=hn/4;e(qe,ne),qe.of=function(){return this(arguments)},qe.prototype.toString=function(){return this.__toString("List [","]")},qe.prototype.get=function(e,t){if((e=m(this,e))>=0&&e<this.size){e+=this._origin;var n=Je(this,e);return n&&n.array[e&mn]}return t},qe.prototype.set=function(e,t){return We(this,e,t)},qe.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},qe.prototype.insert=function(e,t){return this.splice(e,0,t)},qe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=pn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):He()},qe.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Qe(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},qe.prototype.pop=function(){return Qe(this,0,-1)},qe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Qe(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},qe.prototype.shift=function(){return Qe(this,1)},qe.prototype.merge=function(){return Ye(this,void 0,arguments)},qe.prototype.mergeWith=function(e){return Ye(this,e,ln.call(arguments,1))},qe.prototype.mergeDeep=function(){return Ye(this,Me,arguments)},qe.prototype.mergeDeepWith=function(e){var t=ln.call(arguments,1);return Ye(this,De(e),t)},qe.prototype.setSize=function(e){return Qe(this,0,e)},qe.prototype.slice=function(e,t){var n=this.size;return v(e,t,n)?this:Qe(this,g(e,n),_(t,n))},qe.prototype.__iterator=function(e,t){var n=0,r=Ue(this,t);return new w(function(){var t=r();return t===Qn?k():E(e,n++,t)})},qe.prototype.__iterate=function(e,t){for(var n,r=0,i=Ue(this,t);(n=i())!==Qn&&!1!==e(n,r++,this););return r},qe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ke(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},qe.isList=Fe;var Vn="@@__IMMUTABLE_LIST__@@",Gn=qe.prototype;Gn[Vn]=!0,Gn.delete=Gn.remove,Gn.setIn=Bn.setIn,Gn.deleteIn=Gn.removeIn=Bn.removeIn,Gn.update=Bn.update,Gn.updateIn=Bn.updateIn,Gn.mergeIn=Bn.mergeIn,Gn.mergeDeepIn=Bn.mergeDeepIn,Gn.withMutations=Bn.withMutations,Gn.asMutable=Bn.asMutable,Gn.asImmutable=Bn.asImmutable,Gn.wasAltered=Bn.wasAltered,Be.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&mn;if(r>=this.array.length)return new Be([],e);var i,o=0===r;if(t>0){var a=this.array[r];if((i=a&&a.removeBefore(e,t-pn,n))===a&&o)return this}if(o&&!i)return this;var u=Ge(this,e);if(!o)for(var l=0;l<r;l++)u.array[l]=void 0;return i&&(u.array[r]=i),u},Be.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&mn;if(r>=this.array.length)return this;var i;if(t>0){var o=this.array[r];if((i=o&&o.removeAfter(e,t-pn,n))===o&&r===this.array.length-1)return this}var a=Ge(this,e);return a.array.splice(r+1),i&&(a.array[r]=i),a};var Jn,Qn={};e(Ze,fe),Ze.of=function(){return this(arguments)},Ze.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Ze.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},Ze.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},Ze.prototype.set=function(e,t){return nt(this,e,t)},Ze.prototype.remove=function(e){return nt(this,e,yn)},Ze.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Ze.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},Ze.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Ze.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},Ze.isOrderedMap=$e,Ze.prototype[dn]=!0,Ze.prototype.delete=Ze.prototype.remove;var Yn;e(rt,j),rt.prototype.get=function(e,t){return this._iter.get(e,t)},rt.prototype.has=function(e){return this._iter.has(e)},rt.prototype.valueSeq=function(){return this._iter.valueSeq()},rt.prototype.reverse=function(){var e=this,t=ct(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},rt.prototype.map=function(e,t){var n=this,r=lt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},rt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Ct(this):0,function(i){return e(i,t?--n:n++,r)}),t)},rt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(bn,t),r=t?Ct(this):0;return new w(function(){var i=n.next();return i.done?i:E(e,t?--r:r++,i.value,i)})},rt.prototype[dn]=!0,e(it,M),it.prototype.includes=function(e){return this._iter.includes(e)},it.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(bn,t),r=0;return new w(function(){var t=n.next();return t.done?t:E(e,r++,t.value,t)})},e(ot,D),ot.prototype.has=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(bn,t);return new w(function(){var t=n.next();return t.done?t:E(e,t.value,t.value,t)})},e(at,j),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Ot(t);var r=o(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(bn,t);return new w(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Ot(r);var i=o(r);return E(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},it.prototype.cacheResult=rt.prototype.cacheResult=ot.prototype.cacheResult=at.prototype.cacheResult=Tt,e(Dt,te),Dt.prototype.toString=function(){return this.__toString(Pt(this)+" {","}")},Dt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Dt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Dt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=zt(this,Ee()))},Dt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Pt(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:zt(this,n)},Dt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:zt(this,t)},Dt.prototype.wasAltered=function(){return this._map.wasAltered()},Dt.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},Dt.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},Dt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?zt(this,t,e):(this.__ownerID=e,this._map=t,this)};var Xn=Dt.prototype;Xn.delete=Xn.remove,Xn.deleteIn=Xn.removeIn=Bn.removeIn,Xn.merge=Bn.merge,Xn.mergeWith=Bn.mergeWith,Xn.mergeIn=Bn.mergeIn,Xn.mergeDeep=Bn.mergeDeep,Xn.mergeDeepWith=Bn.mergeDeepWith,Xn.mergeDeepIn=Bn.mergeDeepIn,Xn.setIn=Bn.setIn,Xn.update=Bn.update,Xn.updateIn=Bn.updateIn,Xn.withMutations=Bn.withMutations,Xn.asMutable=Bn.asMutable,Xn.asImmutable=Bn.asImmutable,e(Lt,re),Lt.of=function(){return this(arguments)},Lt.fromKeys=function(e){return this(n(e).keySeq())},Lt.prototype.toString=function(){return this.__toString("Set {","}")},Lt.prototype.has=function(e){return this._map.has(e)},Lt.prototype.add=function(e){return qt(this,this._map.set(e,!0))},Lt.prototype.remove=function(e){return qt(this,this._map.remove(e))},Lt.prototype.clear=function(){return qt(this,this._map.clear())},Lt.prototype.union=function(){var e=ln.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Lt.prototype.intersect=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return i(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Lt.prototype.subtract=function(){var e=ln.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return i(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Lt.prototype.merge=function(){return this.union.apply(this,arguments)},Lt.prototype.mergeWith=function(e){var t=ln.call(arguments,1);return this.union.apply(this,t)},Lt.prototype.sort=function(e){return Ut(bt(this,e))},Lt.prototype.sortBy=function(e,t){return Ut(bt(this,t,e))},Lt.prototype.wasAltered=function(){return this._map.wasAltered()},Lt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Lt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Lt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Lt.isSet=Rt;var Zn="@@__IMMUTABLE_SET__@@",$n=Lt.prototype;$n[Zn]=!0,$n.delete=$n.remove,$n.mergeDeep=$n.merge,$n.mergeDeepWith=$n.mergeWith,$n.withMutations=Bn.withMutations,$n.asMutable=Bn.asMutable,$n.asImmutable=Bn.asImmutable,$n.__empty=Bt,$n.__make=Ft;var er;e(Ut,Lt),Ut.of=function(){return this(arguments)},Ut.fromKeys=function(e){return this(n(e).keySeq())},Ut.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ut.isOrderedSet=Kt;var tr=Ut.prototype;tr[dn]=!0,tr.__empty=Wt,tr.__make=Ht;var nr;e(Vt,ne),Vt.of=function(){return this(arguments)},Vt.prototype.toString=function(){return this.__toString("Stack [","]")},Vt.prototype.get=function(e,t){var n=this._head;for(e=m(this,e);n&&e--;)n=n.next;return n?n.value:t},Vt.prototype.peek=function(){return this._head&&this._head.value},Vt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Jt(e,t)},Vt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;se(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Jt(t,n)},Vt.prototype.pop=function(){return this.slice(1)},Vt.prototype.unshift=function(){return this.push.apply(this,arguments)},Vt.prototype.unshiftAll=function(e){return this.pushAll(e)},Vt.prototype.shift=function(){return this.pop.apply(this,arguments)},Vt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Qt()},Vt.prototype.slice=function(e,t){if(v(e,t,this.size))return this;var n=g(e,this.size);if(_(t,this.size)!==this.size)return ne.prototype.slice.call(this,e,t);for(var r=this.size-n,i=this._head;n--;)i=i.next;return this.__ownerID?(this.size=r,this._head=i,this.__hash=void 0,this.__altered=!0,this):Jt(r,i)},Vt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Jt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Vt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Vt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new w(function(){if(r){var t=r.value;return r=r.next,E(e,n++,t)}return k()})},Vt.isStack=Gt;var rr="@@__IMMUTABLE_STACK__@@",ir=Vt.prototype;ir[rr]=!0,ir.withMutations=Bn.withMutations,ir.asMutable=Bn.asMutable,ir.asImmutable=Bn.asImmutable,ir.wasAltered=Bn.wasAltered;var or;t.Iterator=w,Yt(t,{toArray:function(){se(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new it(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new rt(this,!0)},toMap:function(){return fe(this.toKeyedSeq())},toObject:function(){se(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return Ze(this.toKeyedSeq())},toOrderedSet:function(){return Ut(a(this)?this.valueSeq():this)},toSet:function(){return Lt(a(this)?this.valueSeq():this)},toSetSeq:function(){return new ot(this)},toSeq:function(){return u(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Vt(a(this)?this.valueSeq():this)},toList:function(){return qe(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return St(this,yt(this,ln.call(arguments,0)))},includes:function(e){return this.some(function(t){return Q(t,e)})},entries:function(){return this.__iterator(wn)},every:function(e,t){se(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return St(this,st(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,i,o){if(e.call(t,r,i,o))return n=[i,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return se(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){se(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(_n)},map:function(e,t){return St(this,lt(this,e,t))},reduce:function(e,t,n){se(this.size);var r,i;return arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return St(this,ct(this,!0))},slice:function(e,t){return St(this,pt(this,e,t,!0))},some:function(e,t){return!this.every($t(e),t)},sort:function(e){return St(this,bt(this,e))},values:function(){return this.__iterator(bn)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return ft(this,e,t)},equals:function(e){return Y(this,e)},entrySeq:function(){var e=this;if(e._cache)return new z(e._cache);var t=e.toSeq().map(Zt).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter($t(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(y)},flatMap:function(e,t){return St(this,gt(this,e,t))},flatten:function(e){return St(this,vt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return Q(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=Mt(e);!(n=i.next()).done;){var o=n.value;if((r=r&&r.get?r.get(o,yn):yn)===yn)return t}return r},groupBy:function(e,t){return dt(this,e,t)},has:function(e){return this.get(e,yn)!==yn},hasIn:function(e){return this.getIn(e,yn)!==yn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keySeq:function(){return this.toSeq().map(Xt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return wt(this,e)},maxBy:function(e,t){return wt(this,t,e)},min:function(e){return wt(this,e?en(e):rn)},minBy:function(e,t){return wt(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return St(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return St(this,mt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile($t(e),t)},sortBy:function(e,t){return St(this,bt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return St(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return St(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile($t(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var ar=t.prototype;ar[cn]=!0,ar[Sn]=ar.values,ar.__toJS=ar.toArray,ar.__toStringMapper=tn,ar.inspect=ar.toSource=function(){return this.toString()},ar.chain=ar.flatMap,ar.contains=ar.includes,function(){try{Object.defineProperty(ar,"length",{get:function(){if(!t.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Yt(n,{flip:function(){return St(this,ut(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return Q(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return Q(t,e)})},mapEntries:function(e,t){var n=this,r=0;return St(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return St(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var ur=n.prototype;return ur[sn]=!0,ur[Sn]=ar.entries,ur.__toJS=ar.toObject,ur.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Yt(r,{toKeyedSeq:function(){return new rt(this,!1)},filter:function(e,t){return St(this,st(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return St(this,ct(this,!1))},slice:function(e,t){return St(this,pt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=g(e,e<0?this.count():this.size);var r=this.slice(0,e);return St(this,1===n?r:r.concat(p(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return St(this,vt(this,e,!1))},get:function(e,t){return e=m(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=m(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return St(this,_t(this,e))},interleave:function(){var e=[this].concat(p(arguments)),t=kt(this.toSeq(),M.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),St(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return St(this,mt(this,e,t,!1))},zip:function(){return St(this,kt(this,nn,[this].concat(p(arguments))))},zipWith:function(e){var t=p(arguments);return t[0]=this,St(this,kt(this,e,t))}}),r.prototype[fn]=!0,r.prototype[dn]=!0,Yt(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=ar.includes,Yt(j,n.prototype),Yt(M,r.prototype),Yt(D,i.prototype),Yt(te,n.prototype),Yt(ne,r.prototype),Yt(re,i.prototype),{Iterable:t,Seq:T,Collection:ee,Map:fe,OrderedMap:Ze,List:qe,Stack:Vt,Set:Lt,OrderedSet:Ut,Record:Dt,Range:$,Repeat:X,is:Q,fromJS:W}})},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(s===setTimeout)return setTimeout(e,0);if((s===n||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(t){try{return s.call(null,e,0)}catch(t){return s.call(this,e,0)}}}function o(e){if(f===clearTimeout)return clearTimeout(e);if((f===r||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(e);try{return f(e)}catch(t){try{return f.call(null,e)}catch(t){return f.call(this,e)}}}function a(){m&&p&&(m=!1,p.length?h=p.concat(h):y=-1,h.length&&u())}function u(){if(!m){var e=i(a);m=!0;for(var t=h.length;t;){for(p=h,h=[];++y<t;)p&&p[y].run();y=-1,t=h.length}p=null,m=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function c(){}var s,f,d=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:n}catch(e){s=n}try{f="function"==typeof clearTimeout?clearTimeout:r}catch(e){f=r}}();var p,h=[],m=!1,y=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new l(e,t)),1!==h.length||m||i(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.prependListener=c,d.prependOnceListener=c,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(20);var u=n(0),l=e(u),c=n(1),s=e(c),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={page:0},o.insertEmoji=function(e){o.props.editor.insertText(e.target.dataset.emoji)},a=n,i(o,a)}return o(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.defaultCaption,r=(t.onChange,t.language),i=t.emojis,o=t.viewWrapper,a=n||r.controls.emoji;return l.default.createElement(s.default,{caption:a,showDropDownArrow:!1,viewWrapper:o,hoverTitle:r.controls.emoji,className:"control-item dropdown braft-emoji-dropdown"},l.default.createElement("div",{className:"braft-emojis-wrap"},l.default.createElement("ul",{className:"braft-emojis"},i.map(function(t,n){return l.default.createElement("li",{key:n,"data-emoji":t,onClick:e.insertEmoji},t)}))))}}]),t}(l.default.Component);t.default=f}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(21);var u=n(0),l=e(u),c=n(1),s=e(c),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.toggleFontFamily=function(e){o.props.editor.toggleSelectionFontFamily(e.currentTarget.dataset.name)},a=n,i(o,a)}return o(t,e),a(t,[{key:"render",value:function(){var e=this,t=null,n=null,r=this.props,i=r.defaultCaption,o=r.editor,a=(r.onChange,r.language),u=r.fontFamilies,c=r.viewWrapper;u.find(function(e,r){return!!o.selectionHasInlineStyle("FONTFAMILY-"+e.name)&&(t=e.name,n=r,!0)});var f=0===n;return t=t||i||a.controls.fontFamily,l.default.createElement(s.default,{caption:t,viewWrapper:c,hoverTitle:a.controls.fontFamily,arrowActive:f,className:"control-item dropdown font-family-dropdown"},l.default.createElement("ul",{className:"menu"},u.map(function(t,r){return l.default.createElement("li",{key:r,className:"menu-item "+(r===n?"active":""),"data-name":t.name,onClick:e.toggleFontFamily},l.default.createElement("span",{style:{fontFamily:t.family}},t.name))})))}}]),t}(l.default.Component);t.default=f}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(22);var u=n(0),l=e(u),c=n(1),s=e(c),f=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.toggleFontSize=function(e){o.props.editor.toggleSelectionFontSize(e.target.dataset.size)},a=n,i(o,a)}return o(t,e),a(t,[{key:"render",value:function(){var e=this,t=null,n=null,r=this.props,i=r.defaultCaption,o=r.editor,a=r.language,u=r.fontSizes,c=r.viewWrapper;return u.find(function(e){return!!o.selectionHasInlineStyle("FONTSIZE-"+e)&&(t=e+"px",n=e,!0)}),t=t||i||a.controls.fontSize,l.default.createElement(s.default,{caption:t,viewWrapper:c,hoverTitle:a.controls.fontSize,className:"control-item dropdown braft-font-size-dropdown"},l.default.createElement("ul",{className:"braft-font-sizes-wrap"},u.map(function(t,r){return l.default.createElement("li",{key:r,className:t===n?"active":null,"data-size":t,onClick:e.toggleFontSize},t+"px")})))}}]),t}(l.default.Component);t.default=f}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(23);var u=n(0),l=e(u),c=n(8),s=n(1),f=e(s),d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.current,n=e.onChange,r=e.language,i=e.viewWrapper,o=(0,c.getHeadings)(r),a=o.findIndex(function(e){return e.command===t}),u=o[a]?o[a].title:r.controls.normal,s=0===a;return l.default.createElement(f.default,{caption:u,viewWrapper:i,hoverTitle:r.controls.headings,arrowActive:s,className:"control-item dropdown headings-dropdown"},l.default.createElement("ul",{className:"menu"},o.map(function(e,r){var i=t===e.command;return l.default.createElement("li",{key:r,className:"menu-item"+(i?" active":""),onClick:function(){return n(e.command,e.type)}},e.text)})))}}]),t}(l.default.Component);t.default=d}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(24);var u=n(0),l=e(u),c=n(7),s=e(c),f=n(1),d=e(f),p=function(e){function t(){var e,n,o,a;r(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),o.state={href:"",target:""},o.dropDownComponent=null,o.handeKeyDown=function(e){if(13===e.keyCode)return o.handleConfirm(),e.preventDefault(),!1},o.inputLink=function(e){o.setState({href:e.target.value})},o.setTarget=function(){o.setState({target:"_blank"===o.state.target?"":"_blank"})},o.handleCancel=function(){o.dropDownComponent.hide()},o.handleUnlink=function(){o.dropDownComponent.hide(),o.props.editor.toggleSelectionLink()},o.handleConfirm=function(){var e=o.state,t=e.href,n=e.target;o.props.editor.toggleSelectionLink(t,n),o.dropDownComponent.hide()},a=n,i(o,a)}return o(t,e),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.editor.getSelectionEntityData("LINK"),n=t.href,r=t.target;this.setState({href:n||"",target:r||""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.href,r=t.target,i=this.props,o=i.editor,a=i.language,u=i.viewWrapper,c=l.default.createElement("i",{className:"icon-link"}),f=!o.selectionCollapsed()&&"atomic"!==o.getSelectionBlockType();return l.default.createElement("div",{className:"control-item-group"},l.default.createElement(d.default,{caption:c,hoverTitle:a.controls.link,hideOnBlur:!1,viewWrapper:u,showDropDownArrow:!1,disabled:!f,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown link-editor-dropdown"},l.default.createElement("div",{className:"braft-link-editor"},l.default.createElement("div",{className:"input-group"},l.default.createElement("input",{type:"text",value:n,spellCheck:!1,placeholder:a.linkEditor.inputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.inputLink})),l.default.createElement("div",{className:"switch-group"},l.default.createElement(s.default,{active:"_blank"===r,onClick:this.setTarget}),l.default.createElement("label",null,a.linkEditor.openInNewWindow)),l.default.createElement("div",{className:"buttons"},l.default.createElement("a",{onClick:this.handleUnlink,className:"primary pull-left",href:"javascript:void(0);"},l.default.createElement("i",{className:"icon-close"}),l.default.createElement("span",null,a.linkEditor.removeLink)),l.default.createElement("button",{onClick:this.handleConfirm,className:"primary pull-right"},a.base.confirm),l.default.createElement("button",{onClick:this.handleCancel,className:"default pull-right"},a.base.cancel)))),l.default.createElement("button",{title:a.controls.unlink,className:"control-item button",onClick:this.handleUnlink,disabled:!f||!n},l.default.createElement("i",{className:"icon-link-off"})))}}]),t}(l.default.Component);t.default=p}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(25);var l=n(0),c=e(l),s=n(45),f=e(s),d=n(2),p="image/png,image/jpeg,image/gif,image/webp,image/apng,image/svg",h="video/mp4",m="audio/mp3",y=function(e){function t(){var e,n,o,u;r(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return n=o=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={visible:!1,showExternalForm:!1,draging:!1,error:!1,confirmable:!1,external:{url:"",type:[o.props.media.image?"IMAGE":null,o.props.media.video?"VIDEO":null,o.props.media.audio?"AUDIO":null].filter(function(e){return e})[0]},files:[]},o.mediaFileAccept=[o.props.media.image?p:null,o.props.media.video?h:null,o.props.media.audio?m:null].filter(function(e){return e}).join(","),o.toggleFileSelected=function(e){var t=e.id,n=e.selected,r=e.error,i=e.uploading;if(r||i)return!1;n=!n,o.mediaLibrary.setItemState(t,{selected:n})},o.removeFileItem=function(e){o.mediaLibrary.removeItem(e.target.dataset.id),e.stopPropagation()},o.handleDragLeave=function(e){o.setState({draging:!1})},o.handleDragEnter=function(e){o.setState({draging:!0})},o.handleFilesPicked=function(e){var t=e.target.files,n=t.length;e.persist();!function r(i){if(i<n){var a={id:(new Date).getTime()+"_"+(0,d.UniqueIndex)(),file:t[i],name:t[i].name,size:t[i].size,uploadProgress:0,uploading:!1,selected:!1,error:0};0===t[i].type.indexOf("image/")&&o.props.media.image?(a.type="IMAGE",o.mediaLibrary.addItems([a])):0===t[i].type.indexOf("video/")&&o.props.media.video?(a.type="VIDEO",o.mediaLibrary.addItems([a])):0===t[i].type.indexOf("audio/")&&o.props.media.audio&&(a.type="AUDIO",o.mediaLibrary.addItems([a])),setTimeout(function(){r(i+1)},100)}else e.target.value=null}(0)},o.inputExternal=function(e){o.setState({external:a({},o.state.external,{url:e.target.value})})},o.switchExternalType=function(e){o.setState({external:a({},o.state.external,{type:e.target.dataset.type})})},o.confirmAddExternal=function(e){if(13===e.keyCode){var t=o.state.external,n=t.url,r=t.type;n=n.split("|");var i=n.length>1?n[0]:o.props.language.mediaPicker.unnamedItem;n=n.length>1?n[1]:n[0];var a="IMAGE"===r?n:null;o.mediaLibrary.addItems([{thumbnail:a,url:n,name:i,type:r,id:(new Date).getTime()+"_"+(0,d.UniqueIndex)(),uploading:!1,uploadProgress:1,selected:!0}]),o.setState({showExternalForm:!1,external:{url:"",type:"IMAGE"}})}},o.toggleExternalMode=function(){o.setState({showExternalForm:!o.state.showExternalForm})},o.confirmInsertMedia=function(){o.props.editor.insertMedias(o.state.files.filter(function(e){return e.selected})),o.hide()},o.show=function(){o.setState({visible:!0})},o.hide=function(){o.setState({visible:!1},function(){o.mediaLibrary.unselectAllItem()})},u=n,i(o,u)}return o(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this;this.mediaLibrary=this.props.mediaLibrary,this.mediaLibrary.uploadFn=this.props.media.uploadFn||null,this.mediaLibrary.onChange=function(t){e.setState({files:t,confirmable:!!t.filter(function(e){return e.selected}).length})}}},{key:"render",value:function(){var e=this.props,t=(e.media,e.language),n=this.state,r=n.files,i=n.visible,o=n.external,a=n.draging,u=n.confirmable,l=n.showExternalForm,s=c.default.createElement("span",{onClick:this.toggleExternalMode,className:"braft-media-toggle-external-mode"},l?c.default.createElement("span",null,c.default.createElement("i",{className:"icon-add"})," ",t.mediaPicker.addLocalFile):c.default.createElement("span",null,c.default.createElement("i",{className:"icon-add"})," ",t.mediaPicker.addExternalSource));return c.default.createElement(f.default,{title:t.mediaPicker.caption,width:640,height:480,visible:i,language:t,className:"braft-media-picker-modal",showClose:!0,showCancel:!0,bottomText:s,confirmable:u&&!l,onClose:this.hide,onCancel:this.hide,onConfirm:this.confirmInsertMedia},c.default.createElement("div",{className:"braft-media-picker"},c.default.createElement("div",{className:"braft-media-uploader"},r.length?c.default.createElement("div",{className:"braft-media-list-wrap"},this.buildMediaList()):c.default.createElement("div",{onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave,className:"braft-media-drag-uploader "+(a?"active":"")},c.default.createElement("span",{className:"braft-media-drag-tip"},c.default.createElement("input",{accept:this.mediaFileAccept,onChange:this.handleFilesPicked,multiple:!0,type:"file"}),a?t.mediaPicker.dropTip:t.mediaPicker.dragTip)),l?c.default.createElement("div",{className:"braft-media-add-external"},c.default.createElement("div",{className:"braft-media-external-form"},c.default.createElement("input",{onKeyDown:this.confirmAddExternal,value:o.url,onChange:this.inputExternal,placeholder:t.mediaPicker.externalInputPlaceHolder}),c.default.createElement("div",{"data-type":o.type,className:"braft-media-switch-external-type"},c.default.createElement("button",{onClick:this.switchExternalType,"data-type":"IMAGE"},t.media.image),c.default.createElement("button",{onClick:this.switchExternalType,"data-type":"VIDEO"},t.media.video),c.default.createElement("button",{onClick:this.switchExternalType,"data-type":"AUDIO"},t.media.audio)),c.default.createElement("span",{className:"braft-media-external-tip"},t.mediaPicker.externalInputTip))):null)))}},{key:"buildMediaList",value:function(){var e=this;return c.default.createElement("ul",{className:"braft-media-list"},c.default.createElement("li",{className:"braft-media-add-item"},c.default.createElement("i",{className:"icon-add"}),c.default.createElement("input",{accept:this.mediaFileAccept,onChange:this.handleFilesPicked,multiple:!0,type:"file"})),this.state.files.map(function(t,n){var r=null,i=t.uploading?c.default.createElement("div",{className:"braft-media-item-uploading"},c.default.createElement("div",{className:"braft-media-item-uploading-bar",style:{width:t.uploadProgress/1+"%"}})):"";switch(t.type){case"IMAGE":r=c.default.createElement("div",{className:"braft-media-image"},i,c.default.createElement("img",{src:t.thumbnail}));break;case"VIDEO":r=c.default.createElement("div",{className:"braft-media-icon braft-media-video",title:t.url},i,c.default.createElement("i",{className:"icon-film"}),c.default.createElement("span",null,t.name||t.url));break;case"AUDIO":r=c.default.createElement("div",{className:"braft-media-icon braft-media-audio",title:t.url},i,c.default.createElement("i",{className:"icon-music"}),c.default.createElement("span",null,t.name||t.url));break;default:r=c.default.createElement("a",{className:"braft-media-icon braft-media-file",title:t.url,href:t.url},i,c.default.createElement("i",{className:"icon-file-text"}),c.default.createElement("span",null,t.name||t.url))}var o=["braft-media-item"];return t.selected&&o.push("active"),t.uploading&&o.push("uploading"),t.error&&o.push("error"),c.default.createElement("li",{key:n,title:t.name,className:o.join(" "),onClick:function(){return e.toggleFileSelected(t)}},r,c.default.createElement("span",{"data-id":t.id,onClick:e.removeFileItem,className:"braft-media-item-remove icon-close"}),c.default.createElement("span",{className:"braft-media-item-title"},t.name))}))}}]),t}(c.default.Component);t.default=y}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(t){function n(){var t,i,o,a;e(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return i=o=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),o.state={currentAlignment:void 0},o.setAlignment=function(e){o.props.editor.toggleSelectionAlignment(e.target.dataset.alignment)},a=i,r(o,a)}return i(n,t),o(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentAlignment:e.editor.getSelectionBlockData("textAlign")})}},{key:"render",value:function(){var e=this,t=this.state.currentAlignment,n=this.props.language,r=[n.controls.alignLeft,n.controls.alignCenter,n.controls.alignRight,n.controls.alignJustify];return u.default.createElement("div",{className:"control-item-group"},["left","center","right","justify"].map(function(n,i){return u.default.createElement("button",{key:i,title:r[i],"data-alignment":n,className:"control-item button "+(n===t?"active":null),onClick:e.setAlignment},u.default.createElement("i",{className:"icon-align-"+n}))}))}}]),n}(u.default.Component);t.default=l}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(26);var l=n(0),c=e(l),s=n(2),f=n(1),d=e(f),p=n(44),h=e(p),m=function(e){function t(){var e,n,r,a;i(this,t);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.state={colorType:"color"},r.dropDownComponentId="BRAFT-DROPDOWN-"+(0,s.UniqueIndex)(),r.switchColorType=function(e){r.setState({colorType:e.target.dataset.type})},r.toggleColor=function(e){"color"===r.state.colorType?r.props.editor.toggleSelectionColor(e):r.props.editor.toggleSelectionBackgroundColor(e),r.dropDownComponent.hide()},a=n,o(r,a)}return a(t,e),u(t,[{key:"render",value:function(){var e=this,t={},n=null,i=this.state.colorType,o=this.props,a=o.editor,u=o.language,l=o.colors,s=o.tempColors,f=o.viewWrapper;[].concat(r(l),r(s)).forEach(function(e){var r=e.replace("#","");a.selectionHasInlineStyle("COLOR-"+r)&&(t.color=e,"color"===i&&(n=e)),a.selectionHasInlineStyle("BGCOLOR-"+r)&&(t.backgroundColor=e,"backgroundColor"===i&&(n=e))});var p=c.default.createElement("i",{style:t,className:"icon-text-color"},c.default.createElement("span",{className:"path1"}),c.default.createElement("span",{className:"path2"}));return c.default.createElement(d.default,{caption:p,hoverTitle:u.controls.color,showDropDownArrow:!1,viewWrapper:f,componentId:this.dropDownComponentId,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown text-color-dropdown"},c.default.createElement("div",{className:"braft-text-color-picker-wrap"},c.default.createElement("div",{className:"braft-color-switch-buttons"},c.default.createElement("button",{"data-type":"color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"color"===i?"active":"",onClick:this.switchColorType},u.controls.textColor),c.default.createElement("button",{"data-type":"backgroundColor","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"backgroundColor"===i?"active":"",onClick:this.switchColorType},u.controls.backgroundColor)),c.default.createElement(h.default,{width:200,language:u,current:n,disableAlpha:!0,colors:l,tempColors:s,onChange:this.toggleColor})))}}]),t}(c.default.Component);t.default=m}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(27);var a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(t){function n(){var t,i,o,a;e(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return i=o=r(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(l))),o.handleChange=function(e){o.props.onChange(e.currentTarget.dataset.color)},a=i,r(o,a)}return i(n,t),o(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.current,r=t.colors,i=t.tempColors,o=(t.onChange,t.language);return u.default.createElement("div",{className:"braft-color-list-wrap"},u.default.createElement("ul",{className:"braft-color-list"},r.map(function(t,r){var i=t===n?"color-item active":"color-item";return u.default.createElement("li",{key:r,title:t,className:i,style:{color:t},"data-color":t.replace("#",""),onClick:e.handleChange})})),i.length?u.default.createElement("div",{className:"braft-color-list-split-line"},u.default.createElement("span",null,o.controls.tempColors)):null,i.length?u.default.createElement("ul",{className:"braft-color-list"},i.map(function(t,r){var i=t===n?"color-item active":"color-item";return u.default.createElement("li",{key:r,title:t,className:i,style:{color:t},"data-color":t.replace("#",""),onClick:e.handleChange})})):null)}}]),n}(u.default.Component);t.default=l}).call(this)}finally{}},function(e,t,n){(function(e){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(29);var l=n(0),c=r(l),s=n(6),f=r(s),d=n(2),p=window.$||document.querySelector.bind(document),h=function(t){function n(){var e,t,r,a;i(this,n);for(var u=arguments.length,l=Array(u),c=0;c<u;c++)l[c]=arguments[c];return t=r=o(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(l))),r.componentId="BRAFT-MODAL-"+(0,d.UniqueIndex)(),r.state={visible:!1},r.handleTransitionEnd=function(){if(!r.rootElement||!r.rootElement.classList)return!1;r.rootElement.classList.contains("active")||f.default.unmountComponentAtNode(r.rootElement)},r.handleCancel=function(){r.props.onCancel&&r.props.onCancel()},r.handleConfirm=function(){r.props.onConfirm&&r.props.onConfirm()},r.close=function(){r.props.onClose&&r.props.onClose()},a=t,o(r,a)}return a(n,t),u(n,[{key:"componentDidMount",value:function(){this.props.visible&&this.setState({visible:!0}),this.rootElement=p("#"+this.componentId),this.rootElement||(this.rootElement=document.createElement("div"),this.rootElement.id=this.componentId,this.rootElement.className="braft-modal-root",document.body.appendChild(this.rootElement))}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible?this.unrenderComponent():(this.props.visible||e.visible)&&this.renderComponent(e)}},{key:"render",value:function(){return null}},{key:"unrenderComponent",value:function(){this.rootElement.classList.remove("active")}},{key:"renderComponent",value:function(t){var n=this,r=t.title,i=t.className,o=t.width,a=t.height,u=t.children,l=t.confirmable,s=t.showCancel,d=t.showClose,p=t.bottomText,h=t.language,m=c.default.createElement("div",{className:"braft-modal "+(i||"")},c.default.createElement("div",{className:"braft-modal-mask"}),c.default.createElement("div",{onTransitionEnd:this.handleTransitionEnd,style:{width:o,height:a},className:"braft-modal-content"},c.default.createElement("div",{className:"braft-modal-header"},c.default.createElement("h3",{className:"braft-modal-caption"},r),d&&c.default.createElement("button",{onClick:this.close,className:"braft-modal-close-button"},c.default.createElement("i",{className:"icon-close"}))),c.default.createElement("div",{className:"braft-modal-body"},u),c.default.createElement("div",{className:"braft-modal-footer"},c.default.createElement("div",{className:"braft-modal-addon-text"},p),c.default.createElement("div",{className:"braft-modal-buttons"},s&&c.default.createElement("button",{onClick:this.handleCancel,className:"braft-modal-cancel"},h.base.cancel),c.default.createElement("button",{onClick:this.handleConfirm,className:"braft-modal-confirm "+(l?"":"disabled")},h.base.confirm)))));f.default.render(m,this.rootElement),e(function(){n.rootElement.classList.add("active")})}}]),n}(c.default.Component);t.default=h}).call(this)}finally{}}).call(t,n(4).setImmediate)},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n(0),r=function(e){return e&&e.__esModule?e:{default:e}}(e);t.default=function(e){return[{key:"undo",title:e.controls.undo,text:r.default.createElement("i",{className:"icon-undo"}),type:"editor-state-method",command:"undo"},{key:"redo",title:e.controls.redo,text:r.default.createElement("i",{className:"icon-redo"}),type:"editor-state-method",command:"redo"},{key:"bold",title:e.controls.bold,text:r.default.createElement("i",{className:"icon-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:e.controls.italic,text:r.default.createElement("i",{className:"icon-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:e.controls.underline,text:r.default.createElement("i",{className:"icon-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:e.controls.strikeThrough,text:r.default.createElement("i",{className:"icon-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:e.controls.superScript,text:r.default.createElement("i",{className:"icon-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:e.controls.subScript,text:r.default.createElement("i",{className:"icon-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:e.controls.headings,type:"headings"},{key:"blockquote",title:e.controls.blockQuote,text:r.default.createElement("i",{className:"icon-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:e.controls.code,text:r.default.createElement("i",{className:"icon-code"}),type:"block-type",command:"code-block"},{key:"list_ul",title:e.controls.unorderedList,text:r.default.createElement("i",{className:"icon-list"}),type:"block-type",command:"unordered-list-item"},{key:"list_ol",title:e.controls.orderedList,text:r.default.createElement("i",{className:"icon-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:e.controls.link,type:"link"},{key:"text-color",title:e.controls.color,type:"text-color"},{key:"font-size",title:e.controls.fontSize,type:"font-size"},{key:"font-family",title:e.controls.fontFamily,type:"font-family"},{key:"text-align",title:e.controls.textAlign,type:"text-align"},{key:"media",title:e.controls.media,text:r.default.createElement("i",{className:"icon-media"}),type:"media"},{key:"emoji",title:e.controls.emoji,text:r.default.createElement("i",{className:"icon-emoji"}),type:"emoji"}]}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n(2),r=[],i=!1,o=!1;t.default={resolve:function(t){var n=(0,e.UniqueIndex)();return r.push({id:n,eventHandler:t}),n},unresolve:function(e){r=r.filter(function(t){return t.id!==e})}},i||(window.addEventListener("resize",function(e){clearTimeout(o),o=setTimeout(function(){r.map(function(t){"function"==typeof t.eventHandler&&t.eventHandler(e)}),o=!1},100)}),i=!0)}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(9),n(10);var s=n(0),f=e(s),d=n(6),p=(e(d),n(16)),h=e(p),m=n(3),y=n(18),v=n(12),g=n(13),_=e(g),b=n(14),w=e(b),E=n(17),k=n(11),S=e(k),O=n(15),C=e(O),I=n(5),x=new m.CompositeDecorator(E.decorators),T=m.DefaultDraftBlockRenderMap.merge(E.customBlockRenderMap),j=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));M.call(n);var r=m.EditorState.createEmpty(x);n.editorState=r,n.contentState=r.getCurrentContent(),n.selectionState=r.getSelection(),n.mediaLibrary=new C.default,n.state={tempColors:[],editorState:r,editorProps:{}};var i=null;return window.chrome?i="chrome":window.safari?i="safari":navigator.userAgent.indexOf("Firefox")>0&&(i="firefox"),document.body.classList.add("browser-"+i),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.initialContent&&(this.setContent(this.props.initialContent),this.contentInitialized=!0)}},{key:"componentWillReceiveProps",value:function(e){this.contentInitialized||this.props.initialContent||!e.initialContent||this.setContent(e.initialContent)}},{key:"render",value:function(){var e=this,t=this.props,n=t.controls,r=t.height,o=t.media,a=t.addonControls,u=t.language,c=t.colors,s=t.fontSizes,d=t.fontFamilies,p=t.emojis,y=t.viewWrapper,v=t.placeholder,g=this.state.tempColors;o=l({},_.default.media,o),n=n||_.default.controls,a=a||_.default.addonControls,u=h.default[u]||h.default[_.default.language],c=c||_.default.colors,s=s||_.default.fontSizes,d=d||_.default.fontFamilies,p=p||_.default.emojis,r=r||_.default.height,this.colorList=[].concat(i(c),i(g)),this.fontSizeList=s,this.fontFamilyList=d,o.uploadFn||(o.video=!1,o.audio=!1);var b={editor:this,media:o,controls:n,language:u,viewWrapper:y,addonControls:a,colors:c,tempColors:g,fontSizes:s,fontFamilies:d,emojis:p},w=(0,E.getBlockRendererFn)({editor:this,language:u,viewWrapper:y}),k=(0,E.getCustomStyleMap)({colors:[].concat(i(c),i(g)),fontSizes:s,fontFamilies:d}),O=l({ref:function(t){e.draftInstance=t},editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handlePastedText:this.handlePastedText,onChange:this.onChange,customStyleMap:k,blockStyleFn:E.blockStyleFn,blockRendererFn:w,blockRenderMap:T,placeholder:v},this.state.editorProps);return f.default.createElement("div",{className:"BraftEditor-container"},f.default.createElement(S.default,b),f.default.createElement("div",{className:"BraftEditor-content",style:{height:r}},f.default.createElement(m.Editor,O)))}}]),t}(w.default),M=function(){var e=this;this.onChange=function(t){e.editorState=t,e.contentState=t.getCurrentContent(),e.selectionState=t.getSelection(),e.setState({editorState:t},function(){clearTimeout(e.syncTimer),e.syncTimer=setTimeout(function(){var t=e.props,n=t.onChange,r=t.onRawChange,i=t.onHTMLChange;n&&n(e.getContent()),i&&i(e.getHTMLContent()),r&&r(e.getRawContent())},300)})},this.getHTMLContent=function(){return e.getContent("html")},this.getRawContent=function(){return e.getContent("raw")},this.getContent=function(t){t=t||e.props.contentFormat||"raw";var n=e.contentState,r=e.props.fontFamilies;return r=r||_.default.fontFamilies,"html"===t?(0,y.convertToHTML)((0,v.getToHTMLConfig)({contentState:n,fontFamilies:r}))(n):(0,m.convertToRaw)(n)},this.getContentState=function(){return e.contentState},this.getEditorState=function(){return e.editorState},this.getDraftInstance=function(){return e.draftInstance},this.getMediaLibraryInstance=function(){return e.mediaLibrary},this.setContent=function(t,n){var r=void 0,o={},a=e.props,u=a.contentFormat,l=a.colors,c=l||_.default.colors;return u=n||u||"raw","html"===u?(o.tempColors=[].concat(i(e.state.tempColors),i((0,I.detectColorsFromHTML)(t))).filter(function(e){return-1===c.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t}),r=(0,y.convertFromHTML)((0,v.getFromHTMLConfig)())(t)):"raw"===u&&(r=(0,m.convertFromRaw)(t)),o.editorState=m.EditorState.createWithContent(r,x),e.setState(o),e},this.setEditorProp=function(t,n){return e.setState({editorProps:l({},e.state.editorProps,r({},t,n))}),e},this.forceRender=function(){return e.setState({editorState:m.EditorState.createWithContent(e.contentState,x)}),e},this.handleKeyCommand=function(t){var n=m.RichUtils.handleKeyCommand(e.editorState,t);return!!n&&(e.onChange(n),!0)},this.handleReturn=function(t){var n=e.getSelectionBlock(),r=n.getType();return("unordered-list-item"===r||"ordered-list-item"===r)&&(0===n.getLength()&&(e.toggleBlock("unstyled"),!0))},this.handlePastedText=function(t,n){if(!n)return!1;var r=e.state.tempColors,o=(0,y.convertFromHTML)((0,v.getFromHTMLConfig)())(n||t).blockMap,a=m.Modifier.replaceWithFragment(e.contentState,e.selectionState,o),u=e.props.colors||_.default.colors;return e.setState({tempColors:[].concat(i(r),i((0,I.detectColorsFromHTML)(n))).filter(function(e){return-1===u.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},function(){e.onChange(m.EditorState.push(e.editorState,a,"insert-fragment"))}),!0}};t.default=j}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={base:{remove:"Remove",cancel:"Cancel",confirm:"Confirm",inert:"Insert"},controls:{undo:"Undo",redo:"Redo",fontSize:"Font Size",color:"Color",textColor:"Text",tempColors:"Temp Colors",backgroundColor:"Background",bold:"Bold",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",fontFamily:"Font Family",textAlign:"Text Alignment",alignLeft:"Left Alignment",alignCenter:"Center Alignment",alignRight:"Right Alignment",alignJustify:"Justify Alignment",floatLeft:"Left Float",floatRight:"Right Float",superScript:"Super Script",subScript:"Sub Script",headings:"Headings",header:"Header",normal:"Normal",orderedList:"Ordered List",unorderedList:"Unordered List",blockQuote:"Quote",code:"Code",link:"Link",unlink:"Unlink",media:"Media",emoji:"Emoji"},linkEditor:{inputPlaceHolder:"Input link URL",inputWithEnterPlaceHolder:"Input link URL and press Enter",openInNewWindow:"Open in new window",removeLink:"Remove Link"},media:{image:"Image",video:"Video",audio:"Audio"},mediaPicker:{caption:"Media Library",dragTip:"Click Or Drag Files Here",dropTip:"Drop To Upload",externalInputPlaceHolder:"Source Name|Source URL",externalInputTip:'Split source name and source URL with "|", confirm by hit Enter.',addLocalFile:"Add from local",addExternalSource:"Add from Internet",unnamedItem:"Unnamed Item"}}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={base:{remove:"åˆ é™¤",cancel:"å–æ¶ˆ",confirm:"ç¡®å®š",inert:"æ’å…¥"},controls:{undo:"æ’¤é”€",redo:"é‡åš",fontSize:"å­—å·",color:"é¢œè‰²",textColor:"æ–‡å­—é¢œè‰²",backgroundColor:"èƒŒæ™¯é¢œè‰²",tempColors:"ä¸´æ—¶é¢œè‰²",bold:"åŠ ç²—",italic:"æ–œä½“",underline:"ä¸‹åˆ’çº¿",strikeThrough:"åˆ é™¤çº¿",fontFamily:"å­—ä½“",textAlign:"æ–‡æœ¬å¯¹é½",alignLeft:"å±…å·¦",alignCenter:"å±…ä¸­",alignRight:"å±…å³",alignJustify:"ä¸¤ç«¯",floatLeft:"å·¦æµ®åŠ¨",floatRight:"å³æµ®åŠ¨",superScript:"ä¸Šæ ‡",subScript:"ä¸‹æ ‡",headings:"æ ‡é¢˜",header:"æ ‡é¢˜",normal:"å¸¸è§„",orderedList:"æœ‰åºåˆ—è¡¨",unorderedList:"æ— åºåˆ—è¡¨",blockQuote:"å¼•ç”¨",code:"ä»£ç ",link:"é“¾æ¥",unlink:"æ¸…é™¤é“¾æ¥",media:"åª’ä½“",emoji:"å°è¡¨æƒ…"},linkEditor:{inputPlaceHolder:"è¾“å…¥é“¾æ¥åœ°å€",inputWithEnterPlaceHolder:"è¾“å…¥é“¾æ¥åœ°å€å¹¶å›è½¦",openInNewWindow:"åœ¨æ–°çª—å£æ‰“å¼€",removeLink:"ç§»é™¤é“¾æ¥"},media:{image:"å›¾åƒ",video:"è§†é¢‘",audio:"éŸ³é¢‘"},mediaPicker:{caption:"å¤šåª’ä½“èµ„æºåº“",dragTip:"ç‚¹å‡»æˆ–æ‹–åŠ¨æ–‡ä»¶è‡³æ­¤",dropTip:"æ¾å¼€é¼ æ ‡ä»¥ä¸Šä¼ ",externalInputPlaceHolder:"èµ„æºåç§°|èµ„æºåœ°å€",externalInputTip:'ä»¥ç«–çº¿ç¬¦("|")åˆ†å‰²èµ„æºåå’Œèµ„æºåœ°å€ï¼ŒæŒ‰å›è½¦ç¡®è®¤',addLocalFile:"æ·»åŠ æœ¬åœ°æ–‡ä»¶",addExternalSource:"æ·»åŠ ç½‘ç»œèµ„æº",unnamedItem:"æœªå‘½åé¡¹ç›®"}}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(31);var a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),o(n,[{key:"render",value:function(){var e=this.props.mediaData,t=e.url,n=(e.width,e.height,e.name);return u.default.createElement("div",{className:"braft-media-audio-holder"},u.default.createElement("i",{className:"icon-music"}),u.default.createElement("h5",null,n),u.default.createElement("h6",null,t))}}]),n}(u.default.Component);t.default=l}).call(this)}finally{}},function(e,t,n){(function(e){try{(function(){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(32);var l=n(0),c=r(l),s=n(7),f=r(s),d=function(t){function n(){var t,r,a,u;i(this,n);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return r=a=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(c))),a.state={toolbarVisbile:!1,toolbarOffset:0,linkEditorVisible:!1},a.removeImage=function(e){a.props.editor.removeBlock(a.props.block),a.props.editor.setEditorProp("readOnly",!1)},a.toggleLinkEditor=function(){a.setState({linkEditorVisible:!a.state.linkEditorVisible})},a.setImageLink=function(t){if(13===t.keyCode){var n=t.currentTarget.value.trim();a.props.editor.setMediaData(a.props.entityKey,{link:n}),e(a.props.editor.forceRender)}},a.setImageFloat=function(e){var t=e.currentTarget.dataset.float;a.props.editor.setMediaPosition(a.props.block,{float:t}),a.props.editor.setEditorProp("readOnly",!1)},a.setImageAlignment=function(e){var t=e.currentTarget.dataset.alignment;a.props.editor.setMediaPosition(a.props.block,{alignment:t}),a.props.editor.setEditorProp("readOnly",!1)},a.showToolbar=function(){a.state.toolbarVisbile||a.setState({toolbarVisbile:!0},function(){a.props.editor.setEditorProp("readOnly",!0),a.setState({toolbarOffset:a.calcToolbarOffset()})})},a.hideToolbar=function(){a.setState({toolbarVisbile:!1},function(){a.props.editor.setEditorProp("readOnly",!1)})},u=r,o(a,u)}return a(n,t),u(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.mediaData,r=t.language,i=this.state,o=i.toolbarVisbile,a=i.toolbarOffset,u=i.linkEditorVisible,l=this.props.block.getData(),s=l.get("float"),d=l.get("alignment"),p=n.url,h=n.link,m=n.link_target,y=n.width,v=n.height,g={},_=!1;return s?d=null:"left"===d?(g.float="left",_=!0):"right"===d?(g.float="right",_=!0):"center"===d?g.textAlign="center":(g.float="left",_=!0),c.default.createElement("div",{className:"braft-media-embeder"},c.default.createElement("div",{style:g,className:"braft-embed-image",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},o&&c.default.createElement("div",{style:{marginLeft:a},ref:function(t){return e.toolbarElement=t},"data-float":s,"data-alignment":d,className:"braft-embed-image-toolbar"},u&&c.default.createElement("div",{onClick:this.preventDefault,className:"braft-embed-image-link-editor"},c.default.createElement("input",{type:"text",placeholder:r.linkEditor.inputWithEnterPlaceHolder,onKeyDown:this.setImageLink,defaultValue:h}),c.default.createElement("div",{className:"switch-group"},c.default.createElement(f.default,{active:"_blank"===m,onClick:function(){return e.setImageLinkTarget(m)}}),c.default.createElement("label",null,r.linkEditor.openInNewWindow))),c.default.createElement("a",{"data-float":"left",onClick:this.setImageFloat},"î¤"),c.default.createElement("a",{"data-float":"right",onClick:this.setImageFloat},"î¤”"),c.default.createElement("a",{"data-alignment":"left",onClick:this.setImageAlignment},"î€§"),c.default.createElement("a",{"data-alignment":"center",onClick:this.setImageAlignment},"î€¨"),c.default.createElement("a",{"data-alignment":"right",onClick:this.setImageAlignment},"î€©"),c.default.createElement("a",{className:h?"active":"",onClick:this.toggleLinkEditor},"î¤š"),c.default.createElement("a",{onClick:this.removeImage},"î¦¬"),c.default.createElement("i",{style:{marginLeft:-1*a},className:"braft-embed-image-toolbar-arrow"})),c.default.createElement("img",{ref:function(t){return e.imageElement=t},src:p,width:y,height:v})),_&&c.default.createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}},{key:"calcToolbarOffset",value:function(){var e=null;e=this.props.viewWrapper?document.querySelector(this.props.viewWrapper).getBoundingClientRect():document.body.getBoundingClientRect();var t=this.toolbarElement.getBoundingClientRect(),n=this.imageElement.getBoundingClientRect(),r=n.right-n.width/2+t.width/2,i=n.left+n.width/2-t.width/2;return r=e.right-r,i-=e.left,r<10?r-10:i<10?-1*i+10:0}},{key:"setImageLinkTarget",value:function(t){t="_blank"===t?"":"_blank",this.props.editor.setMediaData(this.props.entityKey,{link_target:t}),e(this.props.editor.forceRender)}}]),n}(c.default.Component);t.default=d}).call(this)}finally{}}).call(t,n(4).setImmediate)},function(e,t,n){try{(function(){"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(33);var a=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=function(t){function n(){return e(this,n),r(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return i(n,t),o(n,[{key:"render",value:function(){var e=this.props.mediaData,t=e.url,n=(e.width,e.height,e.name);return u.default.createElement("div",{className:"braft-media-video-holder"},u.default.createElement("i",{className:"icon-film"}),u.default.createElement("h5",null,n),u.default.createElement("h6",null,t))}}]),n}(u.default.Component);t.default=l}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=function(e){return e&&e.__esModule?e:{default:e}}(r),o=function(e){var t=e.children,n=e.entityKey,r=e.contentState,o=r.getEntity(n).getData(),a=o.href,u=o.target;return i.default.createElement("span",{className:"braft-link-wrap"},i.default.createElement("a",{className:"braft-link",href:a,target:u},t))};t.default={strategy:e,component:o}}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=n(54),r=function(e){return e&&e.__esModule?e:{default:e}}(e);t.default=[r.default]}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";function e(e){var t=e.getData()&&e.getData().get("textAlign"),n=e.getData()&&e.getData().get("float"),r=null;return t&&(r="braft-"+t+"-aligned-block"),n&&(r+=" braft-float-"+n),r}Object.defineProperty(t,"__esModule",{value:!0}),t.default=e}).call(this)}finally{}},function(e,t,n){try{(function(){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(t){var n={},r={},i={},o={};return t.colors.forEach(function(e){var t=e.replace("#","").toUpperCase();n["COLOR-"+t]={color:e},r["BGCOLOR-"+t]={backgroundColor:e}}),t.fontSizes.forEach(function(e){i["FONTSIZE-"+e]={fontSize:e}}),t.fontFamilies.forEach(function(e){o["FONTFAMILY-"+e.name.toUpperCase()]={fontFamily:e.family}}),e({SUPERSCRIPT:{position:"relative",top:"-8px",fontSize:"11px"},SUBSCRIPT:{position:"relative",bottom:"-8px",fontSize:"11px"}},n,r,i,o)}}).call(this)}finally{}},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return c[l]=r,u(l),l++}function i(e){delete c[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(s)setTimeout(a,0,e);else{var t=c[e];if(t){s=!0;try{o(t)}finally{i(e),s=!1}}}}if(!e.setImmediate){var u,l=1,c={},s=!1,f=e.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(e);d=d&&d.setTimeout?d:e,"[object process]"==={}.toString.call(e.process)?function(){u=function(e){t.nextTick(function(){a(e)})}}():function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),u=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){a(e.data)},u=function(t){e.port2.postMessage(t)}}():f&&"onreadystatechange"in f.createElement("script")?function(){var e=f.documentElement;u=function(t){var n=f.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():function(){u=function(e){setTimeout(a,0,e)}}(),d.setImmediate=r,d.clearImmediate=i}}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,n(59),n(35))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=i}])});