{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap","webpack:///external \"react\"","webpack:///external \"braft-utils\"","webpack:///./components/common/DropDown/index.jsx","webpack:///./components/common/Modal/index.jsx","webpack:///external \"draft-js\"","webpack:///./components/common/Switch/index.jsx","webpack:///./configs/maps.js","webpack:///./components/business/indent/index.jsx","webpack:///./components/business/letterSpacing/index.jsx","webpack:///./components/business/EmojiPicker/index.jsx","webpack:///./components/business/TextAlign/index.jsx","webpack:///./components/business/FontFamily/index.jsx","webpack:///./components/business/LineHeight/index.jsx","webpack:///./components/business/FontSize/index.jsx","webpack:///./components/common/ColorPicker/index.jsx","webpack:///./components/business/TextColor/index.jsx","webpack:///./components/business/Headings/index.jsx","webpack:///./helpers/responsive.js","webpack:///./components/business/LinkEditor/index.jsx","webpack:///./configs/controls.js","webpack:///./components/business/ControlBar/index.jsx","webpack:///./renderers/decorators/Link/index.jsx","webpack:///./renderers/decorators/index.js","webpack:///./renderers/styles/inlineStyles.js","webpack:///./renderers/styles/blockStyles.js","webpack:///./renderers/atomics/HorizontalLine/index.jsx","webpack:///./renderers/atomics/Embed/index.jsx","webpack:///./renderers/atomics/Audio/index.jsx","webpack:///external \"react-dom\"","webpack:///./renderers/atomics/Video/index.jsx","webpack:///./renderers/atomics/Image/index.jsx","webpack:///external \"immutable\"","webpack:///./renderers/index.js","webpack:///./configs/options.js","webpack:///./configs/keybindings.js","webpack:///./configs/convert.js","webpack:///external \"draftjs-utils\"","webpack:///external \"draft-convert\"","webpack:///./languages/zh-hant.js","webpack:///./languages/zh.js","webpack:///./languages/en.js","webpack:///./languages/index.js","webpack:///./editor/index.jsx","webpack:///./index.jsx","webpack:///./components/business/indent/style.scss","webpack:///./components/business/letterSpacing/style.scss","webpack:///./components/business/EmojiPicker/style.scss","webpack:///./components/business/FontFamily/style.scss","webpack:///./components/business/LineHeight/style.scss","webpack:///./components/business/FontSize/style.scss","webpack:///./components/common/ColorPicker/style.scss","webpack:///./components/business/TextColor/style.scss","webpack:///./components/business/Headings/style.scss","webpack:///./components/common/DropDown/style.scss","webpack:///./components/business/LinkEditor/style.scss","webpack:///./components/business/ControlBar/style.scss","webpack:///./renderers/atomics/HorizontalLine/style.scss","webpack:///./renderers/atomics/Embed/style.scss","webpack:///./renderers/atomics/Audio/style.scss","webpack:///./components/common/Modal/style.scss","webpack:///./renderers/atomics/Video/style.scss","webpack:///./components/common/Switch/style.scss","webpack:///./renderers/atomics/Image/style.scss","webpack:///./assets/scss/_base.scss","webpack:///../node_modules/draft-js/dist/Draft.css"],"names":["DropDown","alive","responsiveResolveId","dropDownHandlerElement","dropDownContentElement","componentId","props","BaseUtils","UniqueIndex","state","active","offset","fixDropDownPosition","document","body","addEventListener","event","registerClickEvent","ResponsiveHelper","resolve","next","disabled","hide","prevState","removeEventListener","unresolve","caption","htmlCaption","hoverTitle","showDropDownArrow","arrowActive","className","children","editorHeight","dropDownContentInnerStyle","isNaN","maxHeight","__html","instance","marginLeft","viewRect","viewWrapper","querySelector","getBoundingClientRect","handlerRect","contentRect","right","width","left","setState","autoHide","target","dataset","braftComponentId","keepActive","React","Component","Modal","handleTransitionEnd","rootElement","classList","contains","ReactDOM","unmountComponentAtNode","parentNode","removeChild","handleCancel","closeOnCancel","close","onCancel","handleConfirm","closeOnConfirm","onConfirm","unrenderComponent","onClose","BastUtils","UniqueIndexUniqueIndex","visible","renderComponent","activeId","window","clearImmediate","remove","title","height","confirmable","showCancel","showConfirm","showClose","cancelText","confirmText","bottomText","language","childComponent","base","cancel","confirm","createElement","id","appendChild","render","setImmediate","add","defaultProps","header","footer","showModal","host","style","display","extProps","modalInstance","destroy","update","onClick","getHeadings","lang","key","controls","text","type","command","normal","blocks","currentIndent","indents","find","item","ContentUtils","selectionHasInlineStyle","editorState","defaultCaption","indent","map","index","e","editor","setValue","toggleSelectionIndent","currentTarget","size","requestFocus","currentLetterSpacing","letterSpacings","letterSpacing","toggleSelectionLetterSpacing","emoji","emojis","insertText","TextAlign","currentAlignment","undefined","setAlignment","toggleSelectionAlignment","alignment","getSelectionBlockData","textAlignmentTitles","alignLeft","alignCenter","alignRight","alignJustify","textAlignOptions","currentIndex","fontFamilies","name","fontFamily","toggleSelectionFontFamily","family","currentLineHeight","lineHeights","lineHeight","toggleSelectionLineHeight","currentFontSize","fontSizes","fontSize","toggleSelectionFontSize","current","colors","tempColors","onChange","color","replace","length","TextColor","colorType","dropDownComponentId","switchColorType","toggleColor","toggleSelectionColor","toggleSelectionBackgroundColor","dropDownComponent","captionStyle","currentColor","forEach","color_id","backgroundColor","disableTextBackgroundColor","textColor","headings","currentHeadingIndex","findIndex","isActive","resizeEventHandlers","responsiveHelperInited","debouce","eventHandler","push","filter","clearTimeout","setTimeout","LinkEditor","href","handeKeyDown","keyCode","preventDefault","inputLink","value","setTarget","handleUnlink","toggleSelectionLink","getSelectionEntityData","textSelected","selectionCollapsed","getSelectionBlockType","link","linkEditor","inputPlaceHolder","openInNewWindow","removeLink","unlink","undo","redo","removeStyles","hr","bold","italic","underline","strikeThrough","superScript","subScript","blockQuote","code","unorderedList","orderedList","textAlign","media","clear","ControlBar","mediaPicker","extendedModals","showMediaPicker","extendControls","modal","data","toggleSelectionInlineStyle","toggleSelectionBlockType","focus","allowSetTextBackgroundColor","currentBlockType","supportedControls","commonProps","renderedExtendControls","html","component","ref","onCreate","toLowerCase","controlItem","subItem","applyControl","image","video","audio","buttonClassName","getControlItemClassName","handleStrategy","contentBlock","callback","contentState","findEntityRanges","character","entityKey","getEntity","getType","Link","getData","viewLink","getModifierState","tempLink","click","strategy","colorStyles","bgColorStyles","fontSizeStyles","fontFamilyStyles","lineHeightStyles","letterSpacingtStyles","indentStyles","toUpperCase","paddingLeft","paddingRight","position","top","bottom","blockStyleFn","block","blockAlignment","get","blockFloat","result","HorizontalLine","removeHorizontalLine","removeBlock","Embed","toolbarVisible","playerVisible","showPlayer","url","mediaData","playerModal","videoPlayer","embedTitle","handlePlayerClose","removeEmbed","showToolbar","hideToolbar","toolbarElement","Audio","audioPlayer","removeAudio","Video","meta","poster","removeVideo","Image","toolbarOffset","linkEditorVisible","sizeEditorVisible","tempWidth","tempHeight","handleDragStart","__BRAFT_DRAGING__IMAGE__","setEditorProp","handleDragEnd","removeImage","toggleLinkEditor","toggleSizeEditor","handleLinkInputKeyDown","confirmImageLink","setImageLink","setMediaData","forceRender","handleSizeInputKeyDown","confirmImageSize","setImageWidth","setImageHeight","newImageSize","setImageFloat","float","setMediaPosition","setImageAlignment","calcToolbarOffset","imageControls","blockData","link_target","imageStyles","clearFix","mediaEmbederInstance","inputWithEnterPlaceHolder","setImageLinkTarget","floatLeft","floatRight","imageElement","toolbarRect","imageRect","getAtomicBlockComponent","superProps","getEntityAt","entity","mediaType","mediaProps","extendAtomics","atomics","i","getBlockRendererFn","editable","customBlockRenderMap","element","wrapper","DefaultDraftBlockRenderMap","_blockStyleFn","getCustomStyleMap","_getCustomStyleMap","decorators","_decorators","excludeControls","tabIndents","forceNewLine","allowPasteImage","uploadFn","sourceFn","onRemove","onInsert","externalMedias","embed","KeyBindingUtil","hasCommandModifier","isCtrlKeyCommand","blockTypes","Object","keys","blockNames","convertAtomicBlock","getBlockForKey","imageWrapStyle","styledClassName","styleToHTML","textDecoration","indexOf","split","blockToHTML","blockStyle","blockType","previousBlock","getBlockBefore","nextBlock","getBlockAfter","previousBlockType","nextBlockType","start","end","nest","entityToHTML","originalText","entityType","htmlToStyle","nodeName","node","currentStyle","newStyle","ColorUtils","getHexColor","parseInt","htmlToEntity","createEntity","alt","autoplay","loop","autoPlay","querySelectorAll","src","entityData","embedContent","innerHTML","outerHTML","htmlToBlock","nodeStyle","getToHTMLConfig","getFromHTMLConfig","inert","border","en","zh","zhHant","editorDecorators","CompositeDecorator","blockRenderMap","merge","BraftEditor","EditorState","createEmpty","isFocused","instanceIndex","editorProps","browser","chrome","safari","navigator","userAgent","placeholder","languages","defaultOptions","colorList","fontSizeList","fontFamilyList","lineHeightList","letterSpacingList","indentList","controlBarProps","controlBarInstance","blockRendererFn","customStyleMap","draftInstance","handleKeyCommand","handleReturn","handleDrop","handleDroppedFiles","handlePastedText","handlePastedFiles","onTab","onFocus","onBlur","readOnly","keyBindingFn","onSave","getDraftInstance","getFinderInstance","braftFinder","convertHTML","htmlString","getValue","setEditorProps","createWithContent","getCurrentContent","repeat","nextEditorState","RichUtils","currentBlock","getSelectionBlock","getLength","which","selectionState","dataTransfer","isInternal","insertMedias","getText","files","uploadImage","pasteMode","tmpPasteMode","tmpTextHolder","textContent","innerText","blockMap","nextContentState","Modifier","replaceWithFragment","detectColorsFromHTML","array","addTempColors"],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"react-dom\"), require(\"immutable\"), require(\"draftjs-utils\"), require(\"draft-convert\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"braft-utils\", \"draft-js\", \"react-dom\", \"immutable\", \"draftjs-utils\", \"draft-convert\"], factory);\n\telse {\n\t\tvar a = typeof exports === 'object' ? factory(require(\"react\"), require(\"braft-utils\"), require(\"draft-js\"), require(\"react-dom\"), require(\"immutable\"), require(\"draftjs-utils\"), require(\"draft-convert\")) : factory(root[\"react\"], root[\"braft-utils\"], root[\"draft-js\"], root[\"react-dom\"], root[\"immutable\"], root[\"draftjs-utils\"], root[\"draft-convert\"]);\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__28__, __WEBPACK_EXTERNAL_MODULE__31__, __WEBPACK_EXTERNAL_MODULE__36__, __WEBPACK_EXTERNAL_MODULE__37__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 43);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","import './style.scss'\nimport React from 'react'\nimport ResponsiveHelper from 'helpers/responsive'\nimport { BaseUtils } from 'braft-utils'\n\nexport default class DropDown extends React.Component {\n\n  alive = false\n  responsiveResolveId = null\n  dropDownHandlerElement = null\n  dropDownContentElement = null\n  componentId = this.props.componentId || ('BRAFT-DROPDOWN-' + BaseUtils.UniqueIndex())\n  state = {\n    active: false,\n    offset: 0\n  }\n\n  componentDidMount () {\n\n    this.alive = true\n    this.fixDropDownPosition()\n\n    document.body.addEventListener('click', (event) => {\n      this.registerClickEvent(event)\n    })\n\n    this.responsiveResolveId = ResponsiveHelper.resolve(() => {\n      this.fixDropDownPosition()\n    })\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (!this.props.disabled && next.disabled) {\n      this.hide()\n    }\n\n  }\n\n  componentDidUpdate (prevState) {\n\n    if (!prevState.active && this.state.active) {\n      this.fixDropDownPosition()\n    }\n\n  }\n\n  componentWillUnmount () {\n\n    document.body.removeEventListener('click', (event) => {\n      this.registerClickEvent(event)\n    })\n\n    this.alive = false\n    ResponsiveHelper.unresolve(this.responsiveResolveId)\n\n  }\n\n  render () {\n\n    let { active, offset } = this.state\n    let { caption, htmlCaption, hoverTitle, disabled, showDropDownArrow, arrowActive, className, children, editorHeight } = this.props\n\n    disabled && (active = false)\n\n    const dropDownContentInnerStyle = !isNaN(editorHeight) && editorHeight > 0 ? {\n      maxHeight: editorHeight - 30 + 'px'\n    } : {}\n\n    return (\n      <div\n        id={this.componentId}\n        className={\"Braft-dropdown \" + (active ? \"active \" : \"\") + (disabled ? \"disabled \" : \"\") + className}\n      >\n        {htmlCaption ? (\n          <button\n            type=\"button\"\n            className=\"dropdown-handler\"\n            title={hoverTitle}\n            data-braft-component-id={this.componentId}\n            dangerouslySetInnerHTML={htmlCaption ? {__html: htmlCaption} : null}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          ></button>\n        ) : (\n          <button\n            type=\"button\"\n            className=\"dropdown-handler\"\n            title={hoverTitle}\n            data-braft-component-id={this.componentId}\n            ref={(instance) => this.dropDownHandlerElement = instance}\n          >\n            <span>{caption}</span>\n            {showDropDownArrow !== false ? <i className=\"braft-icon-drop-down\"></i> : null}\n          </button>\n        )}\n        <div\n          className=\"dropdown-content\"\n          style={{marginLeft: offset + 'px'}}\n          ref={(instance) => this.dropDownContentElement = instance}\n        >\n          <i\n            style={{marginLeft: offset * -1}}\n            className={'dropdown-arrow' + (arrowActive ? ' active' : '')}\n          ></i>\n          <div\n            className=\"dropdown-content-inner\"\n            style={dropDownContentInnerStyle}\n          >\n            {children}\n          </div>\n        </div>\n      </div>\n    )\n\n  }\n\n  fixDropDownPosition () {\n\n    let offset = 0\n    let viewRect = null\n\n    if (this.props.viewWrapper) {\n      viewRect = document.querySelector(this.props.viewWrapper).getBoundingClientRect()\n    } else {\n      viewRect = document.body.getBoundingClientRect()\n    }\n\n    let handlerRect = this.dropDownHandlerElement.getBoundingClientRect()\n    let contentRect = this.dropDownContentElement.getBoundingClientRect()\n    let right = handlerRect.right - handlerRect.width / 2 + contentRect.width / 2\n    let left = handlerRect.left + handlerRect.width / 2 - contentRect.width / 2\n\n    right = viewRect.right - right\n    left = left - viewRect.left\n\n    if (right < 10) {\n      offset = right - 10\n    } else if (left < 10) {\n      offset = left * -1 + 10\n    }\n\n    offset !== this.state.offset && this.setState({ offset })\n\n  }\n\n  registerClickEvent (event) {\n\n    let { autoHide } = this.props\n    let active = false\n\n    if (event.target.dataset.braftComponentId === this.componentId) {\n      active = event.target.dataset.keepActive ? true : !this.state.active\n    } else if (autoHide === false) {\n      active = this.state.active\n    }\n\n    this.alive && this.setState({ active })\n\n  }\n\n  show () {\n    this.setState({\n      active: true\n    })\n  }\n\n  hide () {\n    this.setState({\n      active: false\n    })\n  }\n\n\n}","import './style.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BastUtils } from 'braft-utils'\n\nexport default class Modal extends React.Component {\n\n  constructor (props) {\n\n    super(props)\n    this.active = false\n    this.componentId = 'BRAFT-MODAL-' + BastUtils.UniqueIndexUniqueIndex()\n\n  }\n\n  static defaultProps = {\n    header: true,\n    footer: true\n  }\n\n  componentDidMount () {\n\n    if (this.props.visible) {\n      this.active = true\n      this.renderComponent(this.props)\n    }\n\n  }\n\n  componentWillReceiveProps (next) {\n\n    if (this.props.visible && !next.visible) {\n      this.unrenderComponent()\n    } else if (this.props.visible || next.visible) {\n      this.active = true\n      this.renderComponent(next)\n    }\n\n  }\n\n  render () {\n    return null\n  }\n\n  handleTransitionEnd = () => {\n\n    if (!this.rootElement || !this.rootElement.classList) {\n      return false\n    }\n\n    if (!this.rootElement.classList.contains('active')) {\n      ReactDOM.unmountComponentAtNode(this.rootElement) && this.rootElement.parentNode.removeChild(this.rootElement)\n    }\n\n  }\n\n  unrenderComponent () {\n    this.active = false\n    this.activeId && window.clearImmediate(this.activeId)\n    if (this.rootElement && this.rootElement.classList) {\n      this.rootElement.classList.remove('active')\n    }\n  }\n\n  renderComponent (props) {\n\n    if (!this.active) {\n      return false\n    }\n\n    let { title, className, width, height, children, confirmable, showCancel, showConfirm, showClose, cancelText, confirmText, bottomText, language } = props\n\n    typeof showCancel === 'undefined' && (showCancel = true)\n    typeof showClose === 'undefined' && (showClose = true)\n    typeof showConfirm === 'undefined' && (showConfirm = true)\n\n    const childComponent = (\n      <div className={\"braft-modal \" + (className || '')}>\n        <div className=\"braft-modal-mask\"></div>\n        <div onTransitionEnd={this.handleTransitionEnd} style={{width, height}} className=\"braft-modal-content\">\n          <div className=\"braft-modal-header\">\n            <h3 className=\"braft-modal-caption\">{title}</h3>\n            {showClose && <button type=\"button\" onClick={this.close} className=\"braft-modal-close-button\"><i className=\"braft-icon-close\"></i></button>}\n          </div>\n          <div className=\"braft-modal-body\">{children}</div>\n          <div className=\"braft-modal-footer\">\n            <div className=\"braft-modal-addon-text\">{bottomText}</div>\n            <div className=\"braft-modal-buttons\">\n              {showCancel && <button type=\"button\" onClick={this.handleCancel} className=\"braft-modal-cancel\">{cancelText || language.base.cancel}</button>}\n              {showConfirm && <button type=\"button\" onClick={this.handleConfirm} className={\"braft-modal-confirm \" + (!confirmable ? 'disabled' : '')}>{confirmText || language.base.confirm}</button>}\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n\n    this.rootElement = document.querySelector('#' + this.componentId)\n\n    if (!this.rootElement) {\n      this.rootElement = document.createElement('div')\n      this.rootElement.id = this.componentId\n      this.rootElement.className = 'braft-modal-root'\n      document.body.appendChild(this.rootElement)\n    }\n\n    ReactDOM.render(childComponent, this.rootElement)\n\n    this.activeId = window.setImmediate(() => {\n      this.rootElement.classList.add('active')\n    })\n\n  }\n\n  handleCancel = () => {\n    this.props.closeOnCancel && this.close()\n    this.props.onCancel && this.props.onCancel()\n  }\n\n  handleConfirm = () => {\n    this.props.closeOnConfirm && this.close()\n    this.props.onConfirm && this.props.onConfirm()\n  }\n\n  close = () => {\n    this.unrenderComponent()\n    this.props.onClose && this.props.onClose()\n  }\n\n}\n\nexport const showModal = (props) => {\n\n  const host = document.createElement('div')\n  host.style.display = 'none'\n  document.body.appendChild(host)\n\n  const close = () => {\n    ReactDOM.unmountComponentAtNode(host) && host.parentNode.removeChild(host)\n  }\n\n  const onConfirm = () => {\n    close()\n    props.onConfirm && props.onConfirm()\n  }\n\n  const onCancel = () => {\n    close()\n    props.onCancel && props.onCancel()\n  }\n\n  const onClose = () => {\n    close()\n    props.onClose && props.onClose()\n  }\n\n  const extProps = {\n    onConfirm, onCancel, onClose,\n    visible: true,\n    closeOnConfirm: true,\n    closeOnCancel: true\n  }\n\n  const modalInstance = ReactDOM.render(<Modal { ...props } { ...extProps }/>, host)\n  modalInstance.destroy = close\n  modalInstance.update = modalInstance.renderComponent\n\n  return modalInstance\n\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","import './style.scss'\nimport React from 'react'\n\nexport default (props) => {\n\n  const { active, onClick, className } = props\n\n  return (\n    <div onClick={() => onClick()} className={\"switch-button \" + className + (active ? ' active' : '')}></div>\n  )\n\n}\n","import React from 'react'\n\nexport const getHeadings = (lang) => [\n  {\n    key: 'header-one',\n    title: lang.controls.header + ' 1',\n    text: <h1>{lang.controls.header} 1</h1>,\n    type: 'block-type',\n    command: 'header-one'\n  }, {\n    key: 'header-two',\n    title: lang.controls.header + ' 2',\n    text: <h2>{lang.controls.header} 2</h2>,\n    type: 'block-type',\n    command: 'header-two'\n  }, {\n    key: 'header-three',\n    title: lang.controls.header + ' 3',\n    text: <h3>{lang.controls.header} 3</h3>,\n    type: 'block-type',\n    command: 'header-three'\n  }, {\n    key: 'header-four',\n    title: lang.controls.header + ' 4',\n    text: <h4>{lang.controls.header} 4</h4>,\n    type: 'block-type',\n    command: 'header-four'\n  }, {\n    key: 'header-five',\n    title: lang.controls.header + ' 5',\n    text: <h5>{lang.controls.header} 5</h5>,\n    type: 'block-type',\n    command: 'header-five'\n  }, {\n    key: 'header-six',\n    title: lang.controls.header + ' 6',\n    text: <h6>{lang.controls.header} 6</h6>,\n    type: 'block-type',\n    command: 'header-six'\n  }, {\n    key: 'unstyled',\n    title: lang.controls.normal,\n    text: lang.controls.normal,\n    type: 'block-type',\n    command: 'unstyled'\n  }\n]\n\nexport const blocks = {\n  'header-one': 'h1',\n  'header-two': 'h2',\n  'header-three': 'h3',\n  'header-four': 'h4',\n  'header-fiv': 'h5',\n  'header-six': 'h6',\n  'unstyled': 'p',\n  'blockquote': 'blockquote'\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  let caption = null\n  let currentIndent = null\n\n  props.indents.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'INDENT-' + item)) {\n      caption = item\n      currentIndent = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      viewWrapper={props.viewWrapper}\n      editorHeight={props.editorHeight}\n      hoverTitle={props.language.controls.indent}\n      className={\"control-item dropdown braft-indent-dropdown\"}\n    >\n      <ul className=\"braft-indents-wrap\">\n        {props.indents.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentIndent ? 'active' : null}\n              data-size={item}\n              onClick={(e) => {\n                props.editor.setValue(ContentUtils.toggleSelectionIndent(props.editorState, e.currentTarget.dataset.size))\n                props.editor.requestFocus()\n              }}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  let caption = null\n  let currentLetterSpacing = null\n\n  props.letterSpacings.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LETTERSPACING-' + item)) {\n      caption = item\n      currentLetterSpacing = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      viewWrapper={props.viewWrapper}\n      editorHeight={props.editorHeight}\n      hoverTitle={props.language.controls.letterSpacing}\n      className={\"control-item dropdown braft-letter-spacing-dropdown\"}\n    >\n      <ul className=\"braft-letter-spacings-wrap\">\n        {props.letterSpacings.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLetterSpacing ? 'active' : null}\n              data-size={item}\n              onClick={(e) => {\n                props.editor.setValue(ContentUtils.toggleSelectionLetterSpacing(props.editorState, e.currentTarget.dataset.size))\n                props.editor.requestFocus()\n              }}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  return (\n    <DropDown\n      caption={props.defaultCaption}\n      showDropDownArrow={false}\n      viewWrapper={props.viewWrapper}\n      editorHeight={props.editorHeight}\n      hoverTitle={props.language.controls.emoji}\n      className={\"control-item dropdown braft-emoji-dropdown\"}\n    >\n      <div className=\"braft-emojis-wrap\">\n        <ul className=\"braft-emojis\">\n          {props.emojis.map((item, index) => {\n            return (\n              <li\n                key={index}\n                data-emoji={item}\n                onClick={(e) => {\n                  props.editor.setValue(ContentUtils.insertText(props.editorState, e.currentTarget.dataset.emoji))\n                  props.editor.requestFocus()\n                }}\n              >{item}</li>\n            )\n          })}\n        </ul>\n      </div>\n    </DropDown>\n  )\n\n}","import React from 'react'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class TextAlign extends React.Component {\n\n  state = {\n    currentAlignment: undefined\n  }\n\n  componentWillReceiveProps (next) {\n    this.setState({\n      currentAlignment: ContentUtils.getSelectionBlockData(next.editorState, 'textAlign')\n    })\n  }\n\n  setAlignment = (e) => {\n    this.props.editor.setValue(ContentUtils.toggleSelectionAlignment(this.props.editorState, e.currentTarget.dataset.alignment))\n    this.props.editor.requestFocus()\n  }\n\n  render () {\n\n    const textAlignmentTitles = [\n      this.props.language.controls.alignLeft,\n      this.props.language.controls.alignCenter,\n      this.props.language.controls.alignRight,\n      this.props.language.controls.alignJustify\n    ]\n\n    return (\n      <div className=\"control-item-group\">\n        {\n          this.props.textAlignOptions.map((item, index) => {\n            return (\n              <button\n                type=\"button\"\n                key={index}\n                title={textAlignmentTitles[index]}\n                data-alignment={item}\n                className={'control-item button ' + (item === this.state.currentAlignment ? 'active' : null)}\n                onClick={this.setAlignment}\n              >\n                <i className={\"braft-icon-align-\" + item}></i>\n              </button>\n            )\n          })\n        }\n      </div>\n    )\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  let caption = null\n  let currentIndex = null\n\n  props.fontFamilies.find((item, index) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTFAMILY-' + item.name)) {\n      caption = item.name\n      currentIndex = index\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      viewWrapper={props.viewWrapper}\n      editorHeight={props.editorHeight}\n      hoverTitle={props.language.controls.fontFamily}\n      arrowActive={currentIndex === 0}\n      className={\"control-item dropdown font-family-dropdown\"}\n    >\n      <ul className=\"menu\">\n        {props.fontFamilies.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={\"menu-item \" + (index === currentIndex ? 'active' : '')}\n              data-name={item.name}\n              onClick={(e) => {\n                props.editor.setValue(ContentUtils.toggleSelectionFontFamily(props.editorState, e.currentTarget.dataset.name))\n                props.editor.requestFocus()\n              }}\n            >\n              <span style={{fontFamily: item.family}}>{item.name}</span>\n            </li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  let caption = null\n  let currentLineHeight = null\n\n  props.lineHeights.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'LINEHEIGHT-' + item)) {\n      caption = item\n      currentLineHeight = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      viewWrapper={props.viewWrapper}\n      editorHeight={props.editorHeight}\n      hoverTitle={props.language.controls.lineHeight}\n      className={\"control-item dropdown braft-line-height-dropdown\"}\n    >\n      <ul className=\"braft-line-heights-wrap\">\n        {props.lineHeights.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentLineHeight ? 'active' : null}\n              data-size={item}\n              onClick={(e) => {\n                props.editor.setValue(ContentUtils.toggleSelectionLineHeight(props.editorState, e.currentTarget.dataset.size))\n                props.editor.requestFocus()\n              }}\n            >{item}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  let caption = null\n  let currentFontSize = null\n\n  props.fontSizes.find((item) => {\n    if (ContentUtils.selectionHasInlineStyle(props.editorState, 'FONTSIZE-' + item)) {\n      caption = item + 'px'\n      currentFontSize = item\n      return true\n    }\n    return false\n  })\n\n  return (\n    <DropDown\n      caption={caption || props.defaultCaption}\n      editorHeight={props.editorHeight}\n      viewWrapper={props.viewWrapper}\n      hoverTitle={props.language.controls.fontSize}\n      className={\"control-item dropdown braft-font-size-dropdown\"}\n    >\n      <ul className=\"braft-font-sizes-wrap\">\n        {props.fontSizes.map((item, index) => {\n          return (\n            <li\n              key={index}\n              className={item === currentFontSize ? 'active' : null}\n              data-size={item}\n              onClick={(e) => {\n                props.editor.setValue(ContentUtils.toggleSelectionFontSize(props.editorState, e.currentTarget.dataset.size))\n                props.editor.requestFocus()\n              }}\n            >{item + 'px'}</li>\n          )\n        })}\n      </ul>\n    </DropDown>\n  )\n\n}","import './style.scss'\nimport React from 'react'\n\nexport default (props) => {\n\n  const { current, colors, tempColors, onChange, language } = props\n\n  return (\n    <div className=\"braft-color-list-wrap\">\n      <ul className=\"braft-color-list\">\n        {colors.map((item, index) => {\n          let className = item === current ? 'color-item active' : 'color-item'\n          return (\n            <li\n              key={index}\n              title={item}\n              className={className}\n              style={{color: item}}\n              data-color={item.replace('#', '')}\n              onClick={(e) => props.onChange(e.currentTarget.dataset.color)}\n            >\n            </li>\n          )\n        })}\n      </ul>\n      {tempColors.length ? <div className=\"braft-color-list-split-line\"><span>{language.controls.tempColors}</span></div> : null}\n      {tempColors.length ? <ul className=\"braft-color-list\">\n        {tempColors.map((item, index) => {\n          let className = item === current ? 'color-item active' : 'color-item'\n          return (\n            <li\n              key={index}\n              title={item}\n              className={className}\n              style={{color: item}}\n              data-color={item.replace('#', '')}\n              onClick={(e) => props.onChange(e.currentTarget.dataset.color)}\n            >\n            </li>\n          )\n        })}\n      </ul> : null}\n    </div>\n  )\n\n}","import './style.scss'\nimport React from 'react'\nimport DropDown from 'components/common/DropDown'\nimport ColorPicker from 'components/common/ColorPicker'\nimport { BaseUtils, ContentUtils } from 'braft-utils'\n\nexport default class TextColor extends React.Component {\n\n  state = {\n    colorType: 'color'\n  }\n\n  dropDownComponentId = 'BRAFT-DROPDOWN-' + BaseUtils.UniqueIndex()\n\n  render () {\n\n    let captionStyle = {}\n    let currentColor = null\n    let { colorType } = this.state\n\n    ;[ ...this.props.colors, ...this.props.tempColors ].forEach((color) => {\n      let color_id = color.replace('#', '')\n      if (ContentUtils.selectionHasInlineStyle(this.props.editorState, 'COLOR-' + color_id)) {\n        captionStyle.color = color\n        colorType === 'color' && (currentColor = color)\n      }\n\n      if (ContentUtils.selectionHasInlineStyle(this.props.editorState, 'BGCOLOR-' + color_id)) {\n        captionStyle.backgroundColor = color\n        colorType === 'backgroundColor' && (currentColor = color)\n      }\n\n    })\n\n    const caption = (\n      <i style={captionStyle} className=\"braft-icon-text-color\">\n        <span className=\"path1\"></span>\n        <span className=\"path2\"></span>\n      </i>\n    )\n\n    return (\n      <DropDown\n        caption={caption}\n        hoverTitle={this.props.language.controls.color}\n        showDropDownArrow={false}\n        viewWrapper={this.props.viewWrapper}\n        editorHeight={this.props.editorHeight}\n        componentId={this.dropDownComponentId}\n        ref={(instance) => this.dropDownComponent = instance}\n        className={\"control-item dropdown text-color-dropdown\"}\n      >\n        <div className=\"braft-text-color-picker-wrap\">\n          <div className=\"braft-color-switch-buttons\" style={this.props.disableTextBackgroundColor ? {display: 'none'} : {}}>\n            <button\n              type=\"button\"\n              data-type=\"color\"\n              data-keep-active={true}\n              data-braft-component-id={this.dropDownComponentId}\n              className={colorType === 'color' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.textColor}</button>\n            <button\n              type=\"button\"\n              data-type=\"backgroundColor\"\n              data-keep-active={true}\n              data-braft-component-id={this.dropDownComponentId}\n              className={colorType === 'backgroundColor' ? 'active' : ''}\n              onClick={this.switchColorType}\n            >{this.props.language.controls.backgroundColor}</button>\n          </div>\n          <ColorPicker\n            width={200}\n            language={this.props.language}\n            current={currentColor}\n            disableAlpha={true}\n            colors={this.props.colors}\n            tempColors={this.props.tempColors}\n            onChange={this.toggleColor}\n          />\n        </div>\n      </DropDown>\n    )\n\n  }\n\n  switchColorType = (e) => {\n\n    this.setState({\n      colorType: e.currentTarget.dataset.type\n    })\n\n  }\n\n  toggleColor = (color) => {\n\n    if (this.state.colorType === 'color') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionColor(this.props.editorState, color))\n    } else {\n      this.props.editor.setValue(ContentUtils.toggleSelectionBackgroundColor(this.props.editorState, color))\n    }\n\n    this.dropDownComponent.hide()\n    this.props.editor.requestFocus()\n\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport { getHeadings } from 'configs/maps'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default (props) => {\n\n  const headings = getHeadings(props.language)\n  const currentHeadingIndex = headings.findIndex((item) => item.command === props.current)\n  const caption = headings[currentHeadingIndex] ? headings[currentHeadingIndex].title : props.language.controls.normal\n\n  return (\n    <DropDown\n      caption={caption}\n      viewWrapper={props.viewWrapper}\n      editorHeight={props.editorHeight}\n      hoverTitle={props.language.controls.headings}\n      arrowActive={currentHeadingIndex === 0}\n      className={\"control-item dropdown headings-dropdown\"}\n    >\n      <ul className=\"menu\">\n        {\n          headings.map((item, index) => {\n            let isActive = props.current === item.command\n            return (\n              <li\n                key={index}\n                className={\"menu-item\" + (isActive ? ' active' : '')}\n                onClick={() => props.onChange(item.command, item.type)}\n              >\n                {item.text}\n              </li>\n            )\n          })\n        }\n      </ul>\n    </DropDown>\n  )\n\n}","import { BaseUtils } from 'braft-utils'\n\nlet resizeEventHandlers = []\nlet responsiveHelperInited = false\nlet debouce = false\n\nexport default {\n\n  resolve (eventHandler) {\n    let id = BaseUtils.UniqueIndex()\n    resizeEventHandlers.push({ id, eventHandler })\n    return id\n  },\n\n  unresolve (id) {\n    resizeEventHandlers = resizeEventHandlers.filter(item => item.id !== id)\n  }\n\n}\n\nif (!responsiveHelperInited) {\n\n  window.addEventListener('resize', (event) => {\n    clearTimeout(debouce)\n    debouce = setTimeout(() => {\n      resizeEventHandlers.map((item) => {\n        typeof item.eventHandler === 'function' && item.eventHandler(event)\n      })\n      debouce = false\n    }, 100)\n  })\n\n  responsiveHelperInited = true\n\n}","import './style.scss'\nimport React from 'react'\nimport Switch from 'components/common/Switch'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\n\nexport default class LinkEditor extends React.Component {\n\n  state = {\n    href: '',\n    target: ''\n  }\n\n  dropDownComponent = null\n\n  componentWillReceiveProps (next) {\n\n    const { href, target } = ContentUtils.getSelectionEntityData(next.editorState, 'LINK')\n    this.setState({\n      href: href || '',\n      target: target || ''\n    })\n\n  }\n\n  render () {\n\n    const { href, target } = this.state\n    const caption = <i className=\"braft-icon-link\"></i>\n    const textSelected = !ContentUtils.selectionCollapsed(this.props.editorState) && ContentUtils.getSelectionBlockType(this.props.editorState) !== 'atomic'\n\n    return (\n      <div className=\"control-item-group\">\n        <DropDown\n          caption={caption}\n          hoverTitle={this.props.language.controls.link}\n          autoHide={false}\n          viewWrapper={this.props.viewWrapper}\n          showDropDownArrow={false}\n          disabled={!textSelected}\n          ref={(instance) => this.dropDownComponent = instance}\n          className={\"control-item dropdown link-editor-dropdown\"}\n        >\n          <div className=\"braft-link-editor\">\n            <div className=\"input-group\">\n              <input\n                type=\"text\"\n                value={href}\n                spellCheck={false}\n                placeholder={this.props.language.linkEditor.inputPlaceHolder}\n                onKeyDown={this.handeKeyDown}\n                onChange={this.inputLink}\n              />\n            </div>\n            <div className=\"switch-group\">\n              <Switch\n                active={target === '_blank'}\n                onClick={this.setTarget}\n              />\n              <label>{this.props.language.linkEditor.openInNewWindow}</label>\n            </div>\n            <div className=\"buttons\">\n              <a onClick={this.handleUnlink} className=\"primary pull-left\" href=\"javascript:void(0);\">\n                <i className=\"braft-icon-close\"></i>\n                <span>{this.props.language.linkEditor.removeLink}</span>\n              </a>\n              <button type=\"button\" onClick={this.handleConfirm} className=\"primary pull-right\">{this.props.language.base.confirm}</button>\n              <button type=\"button\" onClick={this.handleCancel} className=\"default pull-right\">{this.props.language.base.cancel}</button>\n            </div>\n          </div>\n        </DropDown>\n        <button\n          type=\"button\"\n          title={this.props.language.controls.unlink}\n          className=\"control-item button\"\n          onClick={this.handleUnlink}\n          disabled={!textSelected || !href}\n        >\n          <i className=\"braft-icon-link-off\"></i>\n        </button>\n      </div>\n    )\n\n  }\n\n  handeKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      this.handleConfirm()\n      e.preventDefault()\n      return false\n    }\n  }\n\n  inputLink = (e) => {\n    this.setState({\n      href: e.currentTarget.value\n    })\n  }\n\n  setTarget = () => {\n    this.setState({\n      target: this.state.target === '_blank' ? '' : '_blank'\n    })\n  }\n\n  handleCancel = () => {\n    this.dropDownComponent.hide()\n  }\n\n  handleUnlink = () => {\n    this.dropDownComponent.hide()\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, false))\n  }\n\n  handleConfirm = () => {\n\n    const { href, target } = this.state\n    this.props.editor.setValue(ContentUtils.toggleSelectionLink(this.props.editorState, href, target))\n    this.dropDownComponent.hide()\n    this.props.editor.requestFocus()\n\n  }\n\n}","import React from 'react'\n\nexport default (lang) => [\n  {\n    key: 'undo',\n    title: lang.controls.undo,\n    text: <i className=\"braft-icon-undo\"></i>,\n    type: 'editor-state-method',\n    command: 'undo'\n  }, {\n    key: 'redo',\n    title: lang.controls.redo,\n    text: <i className=\"braft-icon-redo\"></i>,\n    type: 'editor-state-method',\n    command: 'redo'\n  }, {\n    key: 'remove-styles',\n    title: lang.controls.removeStyles,\n    text: <i className=\"braft-icon-format_clear\"></i>,\n    type: 'editor-state-method',\n    command: 'removeSelectionInlineStyles'\n  }, {\n    key: 'hr',\n    title: lang.controls.hr,\n    text: <i className=\"braft-icon-hr\"></i>,\n    type: 'editor-state-method',\n    command: 'insertHorizontalLine'\n  }, {\n    key: 'bold',\n    title: lang.controls.bold,\n    text: <i className=\"braft-icon-bold\"></i>,\n    type: 'inline-style',\n    command: 'bold'\n  },{\n    key: 'italic',\n    title: lang.controls.italic,\n    text: <i className=\"braft-icon-italic\"></i>,\n    type: 'inline-style',\n    command: 'italic'\n  }, {\n    key: 'underline',\n    title: lang.controls.underline,\n    text: <i className=\"braft-icon-underlined\"></i>,\n    type: 'inline-style',\n    command: 'underline'\n  }, {\n    key: 'strike-through',\n    title: lang.controls.strikeThrough,\n    text: <i className=\"braft-icon-strikethrough\"></i>,\n    type: 'inline-style',\n    command: 'strikethrough',\n  }, {\n    key: 'superscript',\n    title: lang.controls.superScript,\n    text: <i className=\"braft-icon-superscript\"></i>,\n    type: 'inline-style',\n    command: 'superscript'\n  }, {\n    key: 'subscript',\n    title: lang.controls.subScript,\n    text: <i className=\"braft-icon-subscript\"></i>,\n    type: 'inline-style',\n    command: 'subscript'\n  }, {\n    key: 'headings',\n    title: lang.controls.headings,\n    type: 'headings',\n  }, {\n    key: 'blockquote',\n    title: lang.controls.blockQuote,\n    text: <i className=\"braft-icon-quote\"></i>,\n    type: 'block-type',\n    command: 'blockquote',\n  }, {\n    key: 'code',\n    title: lang.controls.code,\n    text: <i className=\"braft-icon-code\"></i>,\n    type: 'block-type',\n    command: 'code-block'\n  }, {\n    key: 'list_ul',\n    title: lang.controls.unorderedList,\n    text: <i className=\"braft-icon-list\"></i>,\n    type: 'block-type',\n    command: 'unordered-list-item'\n  }, {\n    key: 'list_ol',\n    title: lang.controls.orderedList,\n    text: <i className=\"braft-icon-list-numbered\"></i>,\n    type: 'block-type',\n    command: 'ordered-list-item'\n  }, {\n    key: 'link',\n    title: lang.controls.link,\n    type: 'link'\n  }, {\n    key: 'text-color',\n    title: lang.controls.color,\n    type: 'text-color'\n  },  {\n    key: 'line-height',\n    title: lang.controls.lineHeight, \n    type: 'line-height'\n  }, {\n    key: 'letter-spacing',\n    title: lang.controls.letterSpacing,\n    type: 'letter-spacing'\n  }, {\n    key: 'indent',\n    title: lang.controls.indent,\n    type: 'indent'\n  },{\n    key: 'font-size',\n    title: lang.controls.fontSize,\n    type: 'font-size'\n  }, {\n    key: 'font-family',\n    title: lang.controls.fontFamily,\n    type: 'font-family'\n  }, {\n    key: 'text-align',\n    title: lang.controls.textAlign,\n    type: 'text-align'\n  }, {\n    key: 'media',\n    title: lang.controls.media,\n    text: <i className=\"braft-icon-media\"></i>,\n    type: 'media'\n  }, {\n    key: 'emoji',\n    title: lang.controls.emoji,\n    text: <i className=\"braft-icon-emoji\"></i>,\n    type: 'emoji'\n  }, {\n    key: 'clear',\n    title: lang.controls.clear,\n    text: <span className=\"braft-control-text\">{lang.controls.clear}</span>,\n    type: 'editor-state-method',\n    command: 'clear'\n  }\n]","import './style.scss'\nimport React from 'react'\nimport getSupportedControls from 'configs/controls'\nimport LinkEditor from 'components/business/LinkEditor'\nimport HeadingPicker from 'components/business/Headings'\nimport TextColorPicker from 'components/business/TextColor'\nimport FontSizePicker from 'components/business/FontSize'\nimport LineHeightPicker from 'components/business/LineHeight'\nimport FontFamilyPicker from 'components/business/FontFamily'\nimport TextAlign from 'components/business/TextAlign'\nimport EmojiPicker from 'components/business/EmojiPicker'\nimport LetterSpacingPicker from 'components/business/letterSpacing'\nimport IndentPicker from 'components/business/indent'\nimport DropDown from 'components/common/DropDown'\nimport { ContentUtils } from 'braft-utils'\nimport { showModal } from 'components/common/Modal'\n\nexport default class ControlBar extends React.Component {\n\n  mediaPicker = null\n  extendedModals = {}\n\n  componentDidUpdate () {\n\n    const { extendControls, language } = this.props\n\n    extendControls.forEach(item => {\n      if (item.type === 'modal') {\n        if (item.modal && item.modal.id && this.extendedModals[item.modal.id]) {\n          this.extendedModals[item.modal.id].update({ ...item.modal, language })\n        }\n      }\n    })\n\n  }\n\n  getControlItemClassName (data) {\n\n    let className = 'control-item button'\n    let { type, command } = data\n\n    if (type === 'inline-style' && ContentUtils.selectionHasInlineStyle(this.props.editorState, command)) {\n      className += ' active'\n    } else if (type === 'block-type' && ContentUtils.getSelectionBlockType(this.props.editorState) === command) {\n      className += ' active'\n    }\n\n    return className\n\n  }\n\n  applyControl (command, type) {\n\n    if (type === 'inline-style') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionInlineStyle(this.props.editorState, command))\n    } else if (type === 'block-type') {\n      this.props.editor.setValue(ContentUtils.toggleSelectionBlockType(this.props.editorState, command))\n    } else if (type === 'editor-state-method') {\n      this.props.editor[command] && this.props.editor[command]()\n    }\n\n    window.setImmediate(() => {\n      this.props.editor.focus()\n    })\n\n  }\n\n  showMediaPicker = () => {\n  }\n\n  render() {\n\n    const { editor, editorState, controls, media, extendControls, language, colors, tempColors, fontSizes, fontFamilies, emojis, viewWrapper, lineHeights, letterSpacings, editorHeight, textAlignOptions, allowSetTextBackgroundColor, indents} = this.props\n    const currentBlockType = ContentUtils.getSelectionBlockType(editorState)\n    const supportedControls = getSupportedControls(language)\n    const commonProps = { editor, editorState, editorHeight, language, viewWrapper }\n\n    const renderedExtendControls = extendControls.map((item, index) => {\n      if (item.type === 'split') {\n        return <span key={controls.length * 2 + index} className=\"split-line\"></span>\n      } else if (item.type === 'dropdown') {\n        let { disabled, autoHide, html, text, className, showDropDownArrow, hoverTitle, component, arrowActive, ref } = item\n        return (\n          <DropDown\n            key={index}\n            className={\"control-item dropdown \" + className}\n            caption={text}\n            editorHeight={editorHeight}\n            htmlCaption={html}\n            showDropDownArrow={showDropDownArrow}\n            viewWrapper={viewWrapper}\n            hoverTitle={hoverTitle}\n            arrowActive={arrowActive}\n            autoHide={autoHide}\n            disabled={disabled}\n            ref={ref}\n          >\n            {component}\n          </DropDown>\n        )\n      } else if (item.type === 'modal') {\n        return (\n          <button\n            type=\"button\"\n            key={controls.length * 2 + index}\n            title={item.hoverTitle}\n            className={'control-item button ' + item.className}\n            dangerouslySetInnerHTML={item.html ? { __html: item.html } : null}\n            onClick={(event) => {\n              if (item.modal && item.modal.id) {\n                if (this.extendedModals[item.modal.id]) {\n                  this.extendedModals[item.modal.id].active = true\n                  this.extendedModals[item.modal.id].update({ ...item.modal, language })\n                } else {\n                  this.extendedModals[item.modal.id] = showModal({ ...item.modal, language })\n                  item.modal.onCreate && item.modal.onCreate(this.extendedModals[item.modal.id])\n                }\n              }\n              item.onClick && item.onClick(event)\n            }}\n          >\n            {!item.html ? item.text : null}\n          </button>\n        )\n      } else if (item.type === 'component') {\n        return (\n          <div\n            key={controls.length * 2 + index}\n            className={'control-item component-wrapper ' + item.className}\n          >{item.component}</div>\n        )\n      } else {\n        return (\n          <button\n            type=\"button\"\n            key={controls.length * 2 + index}\n            title={item.hoverTitle}\n            className={'control-item button ' + item.className}\n            dangerouslySetInnerHTML={item.html ? { __html: item.html } : null}\n            onClick={(event) => item.onClick && item.onClick(event)}\n          >\n            {!item.html ? item.text : null}\n          </button>\n        )\n      }\n    })\n\n    return (\n      <div className=\"BraftEditor-controlBar\">\n        {\n          controls.map((item, index) => {\n            if (item.toLowerCase() === 'split') {\n              return <span key={index} className=\"split-line\"></span>\n            }\n            let controlItem = supportedControls.find((subItem) => {\n              return subItem.key.toLowerCase() === item.toLowerCase()\n            })\n            if (!controlItem) {\n              return null\n            }\n            if (controlItem.type === 'headings') {\n              return <HeadingPicker\n                key={index}\n                current={currentBlockType}\n                onChange={(command) => this.applyControl(command, 'block-type')}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-color') {\n              return <TextColorPicker\n                key={index}\n                colors={colors}\n                tempColors={tempColors}\n                allowSetTextBackgroundColor={allowSetTextBackgroundColor}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-size') {\n              return <FontSizePicker\n                key={index}\n                fontSizes={fontSizes}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'line-height') {\n              return <LineHeightPicker\n                key={index}\n                lineHeights={lineHeights}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'letter-spacing') {\n              return <LetterSpacingPicker\n                key={index}\n                letterSpacings={letterSpacings}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'indent') {\n              return <IndentPicker\n                key={index}\n                indents={indents}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'font-family') {\n              return <FontFamilyPicker\n                key={index}\n                fontFamilies={fontFamilies}\n                defaultCaption={controlItem.title}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'emoji') {\n              return <EmojiPicker\n                key={index}\n                emojis={emojis}\n                defaultCaption={controlItem.text}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'link') {\n              return <LinkEditor\n                key={index}\n                {...commonProps}\n              />\n            } else if (controlItem.type === 'text-align') {\n              return (\n                <TextAlign\n                  key={index}\n                  textAlignOptions={textAlignOptions}\n                  {...commonProps}\n                />\n              )\n            } else if (controlItem.type === 'media') {\n              if (!media.image && !media.video && !media.audio) {\n                return null\n              }\n              return (\n                <button\n                  type=\"button\"\n                  key={index}\n                  title={controlItem.title}\n                  className='control-item button'\n                  onClick={this.showMediaPicker}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            } else {\n              let buttonClassName = this.getControlItemClassName({\n                type: controlItem.type,\n                command: controlItem.command\n              })\n              return (\n                <button\n                  type=\"button\"\n                  key={index}\n                  title={controlItem.title}\n                  className={buttonClassName}\n                  onClick={() => this.applyControl(controlItem.command, controlItem.type)}\n                >\n                  {controlItem.text}\n                </button>\n              )\n            }\n          })\n        }\n        {renderedExtendControls}\n      </div>\n    )\n\n  }\n\n}","import React from 'react'\n\nfunction handleStrategy (contentBlock, callback, contentState) {\n\n  contentBlock.findEntityRanges((character) => {\n    const entityKey = character.getEntity()\n    return (\n      entityKey !== null &&\n      contentState.getEntity(entityKey).getType() === 'LINK'\n    )\n  }, callback)\n\n}\n\nconst Link = (props) => {\n\n  const { children, entityKey, contentState } = props\n  const { href, target } = contentState.getEntity(entityKey).getData()\n\n  return (\n    <span className=\"braft-link-wrap\">\n      <a onClick={(event) => viewLink(event, href)} className=\"braft-link\" href={href} target={target}>{children}</a>\n    </span>\n  )\n\n}\n\nconst viewLink = (event, link) => {\n  if (event.getModifierState('Shift')) {\n    const tempLink = document.createElement('a')\n    tempLink.href = link\n    tempLink.target = '_blank'\n    tempLink.click()\n  }\n}\n\nexport default {\n  strategy: handleStrategy,\n  component: Link\n}","import Link from './Link'\n\nexport default [Link]","export default (props) => {\n\n  const colorStyles = {}\n  const bgColorStyles = {}\n  const fontSizeStyles = {}\n  const fontFamilyStyles = {}\n  const lineHeightStyles = {}\n  const letterSpacingtStyles = {}\n  const indentStyles = {}\n\n  props.colors.forEach((color) => {\n    let color_id = color.replace('#', '').toUpperCase()\n    colorStyles['COLOR-' + color_id] = { color }\n    bgColorStyles['BGCOLOR-' + color_id] = { backgroundColor: color }\n  })\n\n  props.fontSizes.forEach((fontSize) => {\n    fontSizeStyles['FONTSIZE-' + fontSize] = { fontSize: fontSize }\n  })\n\n  props.fontFamilies.forEach((fontFamily) => {\n    fontFamilyStyles['FONTFAMILY-' + fontFamily.name.toUpperCase()] = {\n      fontFamily: fontFamily.family\n    }\n  })\n\n  props.lineHeights.forEach((lineHeight) => {\n    lineHeightStyles['LINEHEIGHT-' + lineHeight] = { lineHeight: lineHeight }\n  })\n\n  props.letterSpacings.forEach((letterSpacing) => {\n    letterSpacingtStyles['LETTERSPACING-' + letterSpacing] = { letterSpacing: letterSpacing }\n  })\n  props.indents.forEach((indent) => {\n    indentStyles['INDENT-' + indent] = { paddingLeft: indent, paddingRight: indent}\n  })\n  \n  return {\n    'SUPERSCRIPT': {\n      position: 'relative',\n      top: '-8px',\n      fontSize: '11px'\n    },\n    'SUBSCRIPT': {\n      position: 'relative',\n      bottom: '-8px',\n      fontSize: '11px'\n    },\n    ...colorStyles,\n    ...bgColorStyles,\n    ...fontSizeStyles,\n    ...fontFamilyStyles,\n    ...lineHeightStyles,\n    ...letterSpacingtStyles,\n    ...indentStyles\n  }\n\n}","export default function blockStyleFn (block) {\n\n  const blockAlignment = block.getData() && block.getData().get('textAlign')\n  const blockFloat = block.getData() && block.getData().get('float')\n\n  let result = null\n\n  if (blockAlignment) {\n    result = `braft-${blockAlignment}-aligned-block`\n  }\n\n  if (blockFloat) {\n    result += ` braft-float-${blockFloat}`\n  }\n\n  return result\n\n}","import React from 'react'\nimport './style.scss'\n\nexport default class HorizontalLine extends React.Component {\n\n  render () {\n\n    return (\n      <div className=\"braft-horizontal-line\">\n        <div className=\"braft-horizontal-line-toolbar\">\n          <a onClick={this.removeHorizontalLine}>&#xe9ac;</a>\n        </div>\n      </div>\n    )\n\n  }\n\n  removeHorizontalLine = () => {\n    this.props.editor.removeBlock(this.props.block)\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport { showModal } from 'components/common/Modal'\n\nexport default class Embed extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    playerVisible: false\n  }\n\n  componentWillUnmount () {\n    this.playerModal && this.playerModal.destroy()\n  }\n\n  render () {\n\n    const { toolbarVisible, playerVisible } = this.state\n    const { mediaData, language } = this.props\n    const { url, width, height, name } = mediaData\n\n    return (\n      <div\n        className=\"braft-media-video-holder\"\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <i className=\"braft-icon-code\"></i>\n        <h5>{name}</h5>\n        <h6>{url}</h6>\n        {toolbarVisible ? (\n          <div\n            ref={instance => this.toolbarElement = instance}\n            className=\"braft-embed-video-toolbar\"\n          >\n            <a onClick={this.showPlayer}>&#xe037;</a>\n            <a onClick={this.removeEmbed}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  showPlayer = () => {\n\n    const { url } = this.props.mediaData\n\n    this.playerModal = showModal({\n      title: this.props.language.videoPlayer.embedTitle,\n      confirmable: true,\n      language: this.props.language,\n      showCancel: false,\n      onClose: this.handlePlayerClose,\n      children: <div className=\"braft-embed-media-player\" dangerouslySetInnerHTML={{ __html: url}}/>\n    })\n\n  }\n\n  removeEmbed = () => {\n    this.props.editor.removeBlock(this.props.block)\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n  handlePlayerClose = () => {\n    this.props.editor && this.props.editor.focus()\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport { showModal } from 'components/common/Modal'\n\nexport default class Audio extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    playerVisible: false\n  }\n\n  componentWillUnmount () {\n    this.playerModal && this.playerModal.destroy()\n  }\n\n  render () {\n\n    const { toolbarVisible, playerVisible } = this.state\n    const { mediaData, language } = this.props\n    const { url, width, height, name } = mediaData\n\n    return (\n      <div\n        className=\"braft-media-audio-holder\"\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        <i className=\"braft-icon-music\"></i>\n        <h5>{name}</h5>\n        <h6>{url}</h6>\n        {toolbarVisible ? (\n          <div\n            ref={instance => this.toolbarElement = instance}\n            className=\"braft-embed-audio-toolbar\"\n          >\n            <a onClick={this.showPlayer}>&#xe037;</a>\n            <a onClick={this.removeAudio}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  showPlayer = () => {\n\n    this.playerModal = showModal({\n      title: this.props.language.audioPlayer.title,\n      width: 480,\n      confirmable: true,\n      language: this.props.language,\n      showCancel: false,\n      onClose: this.handlePlayerClose,\n      onConfirm: this.handlePlayerClose,\n      children: <audio className=\"braft-embed-audio-player\" src={this.props.mediaData.url} controls/>\n    })\n\n  }\n\n  removeAudio = () => {\n    this.props.editor.removeBlock(this.props.block)\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n  handlePlayerClose = () => {\n    this.playerModal = null\n    this.props.editor && this.props.editor.focus()\n  }\n\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__28__;","import './style.scss'\nimport React from 'react'\nimport { showModal } from 'components/common/Modal'\n\nexport default class Video extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    playerVisible: false\n  }\n\n  componentWillUnmount () {\n    this.playerModal && this.playerModal.destroy()\n  }\n\n  render () {\n\n    const { toolbarVisible, playerVisible } = this.state\n    const { mediaData, language } = this.props\n    const { url, width, height, name, meta } = mediaData\n\n    return (\n      <div\n        className=\"braft-media-video-holder\"\n        onMouseOver={this.showToolbar}\n        onMouseLeave={this.hideToolbar}\n      >\n        {meta && meta.poster ? (\n          <img className=\"braft-media-video-poster\" src={meta.poster}/>\n        ) : (\n          <div>\n            <i className=\"braft-icon-film\"></i>\n            <h5>{name}</h5>\n            <h6>{url}</h6>\n          </div>\n        )}\n        {toolbarVisible ? (\n          <div\n            ref={instance => this.toolbarElement = instance}\n            className=\"braft-embed-video-toolbar\"\n          >\n            <a onClick={this.showPlayer}>&#xe037;</a>\n            <a onClick={this.removeVideo}>&#xe9ac;</a>\n          </div>\n        ) : null}\n      </div>\n    )\n\n  }\n\n  showPlayer = () => {\n\n    const { url, meta } = this.props.mediaData\n\n    this.playerModal = showModal({\n      title: this.props.language.videoPlayer.title,\n      width: 480,\n      confirmable: true,\n      language: this.props.language,\n      showCancel: false,\n      onClose: this.handlePlayerClose,\n      children: <video poster={meta && meta.poster ? meta.poster : ''} className=\"braft-embed-video-player\" src={url} controls/>\n    })\n\n  }\n\n  removeVideo = () => {\n    this.props.editor.removeBlock(this.props.block)\n  }\n\n  showToolbar = () => {\n    this.setState({\n      toolbarVisible: true\n    })\n  }\n\n  hideToolbar = () => {\n    this.setState({\n      toolbarVisible: false\n    })\n  }\n\n  handlePlayerClose = () => {\n    this.props.editor && this.props.editor.focus()\n  }\n\n}","import './style.scss'\nimport React from 'react'\nimport Switch from 'components/common/Switch'\n\nexport default class Image extends React.Component {\n\n  state = {\n    toolbarVisible: false,\n    toolbarOffset: 0,\n    linkEditorVisible: false,\n    sizeEditorVisible: false,\n    tempLink: null,\n    tempWidth: null,\n    tempHeight: null\n  }\n\n  render () {\n\n    const { mediaData, language, imageControls } = this.props\n    const { toolbarVisible, toolbarOffset, linkEditorVisible, sizeEditorVisible } = this.state\n    const blockData = this.props.block.getData()\n\n    let float = blockData.get('float')\n    let alignment = blockData.get('alignment')\n    let { url, link, link_target, width, height } = mediaData\n    let imageStyles = {}\n    let clearFix = false\n\n    if (float) {\n      alignment = null\n    } else if (alignment === 'left') {\n      imageStyles.float = 'left'\n      clearFix = true\n    } else if (alignment === 'right') {\n      imageStyles.float = 'right'\n      clearFix = true\n    } else if (alignment === 'center') {\n      imageStyles.textAlign = \"center\"\n    } else {\n      imageStyles.float = 'left'\n      clearFix = true\n    }\n\n    return (\n      <div className=\"braft-media-embeder braft-image-embeder\">\n        <div\n          style={imageStyles}\n          draggable={true}\n          onMouseEnter={this.showToolbar}\n          onMouseMove={this.showToolbar}\n          onMouseLeave={this.hideToolbar}\n          onDragStart={this.handleDragStart}\n          onDragEnd={this.handleDragEnd}\n          ref={instance => this.mediaEmbederInstance = instance}\n          className=\"braft-embed-image\"\n        >\n          {toolbarVisible ? (\n            <div\n              style={{marginLeft: toolbarOffset}}\n              ref={instance => this.toolbarElement = instance}\n              data-float={float}\n              data-alignment={alignment}\n              className=\"braft-embed-image-toolbar\"\n            >\n              {linkEditorVisible ? (\n                <div className=\"braft-embed-image-link-editor\">\n                  <div className=\"editor-input-group\">\n                    <input type=\"text\" placeholder={language.linkEditor.inputWithEnterPlaceHolder} onKeyDown={this.handleLinkInputKeyDown} onChange={this.setImageLink} defaultValue={link}/>\n                    <button type=\"button\" onClick={this.confirmImageLink}>{language.base.confirm}</button>\n                  </div>\n                  <div className=\"switch-group\">\n                    <Switch\n                      active={link_target === '_blank'}\n                      onClick={() => this.setImageLinkTarget(link_target)}\n                    />\n                    <label>{language.linkEditor.openInNewWindow}</label>\n                  </div>\n                </div>\n              ) : null}\n              {sizeEditorVisible ? (\n                <div className=\"braft-embed-image-size-editor\">\n                  <div className=\"editor-input-group\">\n                    <input type=\"text\" placeholder={language.base.width} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageWidth} defaultValue={width}/>\n                    <input type=\"text\" placeholder={language.base.height} onKeyDown={this.handleSizeInputKeyDown} onChange={this.setImageHeight} defaultValue={height}/>\n                    <button type=\"button\" onClick={this.confirmImageSize}>{language.base.confirm}</button>\n                  </div>\n                </div>\n              ) : null}\n              {imageControls.floatLeft ? <a data-float=\"left\" onClick={this.setImageFloat}>&#xe91e;</a> : null}\n              {imageControls.floatRight ? <a data-float=\"right\" onClick={this.setImageFloat}>&#xe914;</a> : null}\n              {imageControls.alignLeft ? <a data-alignment=\"left\" onClick={this.setImageAlignment}>&#xe027;</a> : null}\n              {imageControls.alignCenter ? <a data-alignment=\"center\" onClick={this.setImageAlignment}>&#xe028;</a> : null}\n              {imageControls.alignRight ? <a data-alignment=\"right\" onClick={this.setImageAlignment}>&#xe029;</a> : null}\n              {imageControls.size ? <a onClick={this.toggleSizeEditor}>&#xe3c2;</a> : null}\n              {imageControls.link ? <a className={link ? 'active' : ''} onClick={this.toggleLinkEditor}>&#xe91a;</a> : null}\n              {imageControls.remove ? <a onClick={this.removeImage}>&#xe9ac;</a> : null}\n              <i style={{marginLeft: toolbarOffset * -1}} className=\"braft-embed-image-toolbar-arrow\"></i>\n            </div>\n          ) : null}\n          <img\n            ref={instance => this.imageElement = instance}\n            src={url} style={{width, height}} width={width} height={height}\n          />\n        </div>\n        {clearFix && <div className=\"clearfix\" style={{clear:'both',height:0,lineHeight:0,float:'none'}}></div>}\n      </div>\n    )\n\n  }\n\n  calcToolbarOffset () {\n\n    let viewRect = null\n\n    if (this.props.viewWrapper) {\n      viewRect = document.querySelector(this.props.viewWrapper).getBoundingClientRect()\n    } else {\n      viewRect = document.body.getBoundingClientRect()\n    }\n\n    let toolbarRect = this.toolbarElement.getBoundingClientRect()\n    let imageRect = this.imageElement.getBoundingClientRect()\n    let right = imageRect.right - imageRect.width / 2 + toolbarRect.width / 2\n    let left = imageRect.left + imageRect.width / 2 - toolbarRect.width / 2\n\n    right = viewRect.right - right\n    left = left - viewRect.left\n\n    if (right < 10) {\n      return right - 10\n    } else if (left < 10) {\n      return left * -1 + 10\n    } else {\n      return 0\n    }\n\n  }\n\n  handleDragStart = (event) => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = {\n      block: this.props.block,\n      mediaData: {\n        type: 'IMAGE',\n        ...this.props.mediaData\n      }\n    }\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.props.editor.setEditorProp('readOnly', false)\n    })\n\n    return true\n\n  }\n\n  handleDragEnd = (event) => {\n\n    window.__BRAFT_DRAGING__IMAGE__ = null\n    return false\n\n  }\n\n  removeImage = (e) => {\n    this.props.editor.removeBlock(this.props.block)\n    this.props.editor.setEditorProp('readOnly', false)\n  }\n\n  toggleLinkEditor = () => {\n    this.setState({\n      linkEditorVisible: !this.state.linkEditorVisible,\n      sizeEditorVisible: false\n    })\n  }\n\n  toggleSizeEditor = () => {\n    this.setState({\n      linkEditorVisible: false,\n      sizeEditorVisible: !this.state.sizeEditorVisible\n    })\n  }\n\n  handleLinkInputKeyDown = (e) => {\n\n    if (e.keyCode === 13) {\n      this.confirmImageLink()\n    } else {\n      return\n    }\n\n  }\n\n  setImageLink = (e) => {\n\n    this.setState({\n      tempLink: e.currentTarget.value\n    })\n\n    return\n\n  }\n\n  setImageLinkTarget (link_target) {\n\n    link_target = link_target === '_blank' ? '' : '_blank'\n    this.props.editor.setMediaData(this.props.entityKey, { link_target })\n    window.setImmediate(this.props.editor.forceRender)\n\n  }\n\n  confirmImageLink = () => {\n\n    const { tempLink: link } = this.state\n\n    if (link !== null) {\n      this.props.editor.setMediaData(this.props.entityKey, { link })\n      window.setImmediate(this.props.editor.forceRender)\n    }\n\n  }\n\n  handleSizeInputKeyDown = (e) => {\n\n    if (e.keyCode === 13) {\n      this.confirmImageSize()\n    } else {\n      return\n    }\n\n  }\n\n  setImageWidth = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempWidth: value\n    })\n\n    return\n\n  }\n\n  setImageHeight = ({ currentTarget }) => {\n\n    let { value } = currentTarget\n\n    value && !isNaN(value) && (value = value + 'px')\n\n    this.setState({\n      tempHeight: value\n    })\n\n    return\n\n  }\n\n  confirmImageSize = () => {\n\n    const { tempWidth: width, tempHeight: height } = this.state\n    const newImageSize = {}\n\n    width !== null && (newImageSize.width = width);\n    height !== null && (newImageSize.height = height);\n\n    this.props.editor.setMediaData(this.props.entityKey, newImageSize)\n    window.setImmediate(this.props.editor.forceRender)\n\n  }\n\n  setImageFloat = (e) => {\n\n    const { float } = e.currentTarget.dataset\n    this.props.editor.setMediaPosition(this.props.block, { float })\n    this.props.editor.setEditorProp('readOnly', false)\n\n  }\n\n  setImageAlignment = (e) => {\n\n    const { alignment } = e.currentTarget.dataset\n    this.props.editor.setMediaPosition(this.props.block, { alignment })\n    this.props.editor.setEditorProp('readOnly', false)\n\n  }\n\n  showToolbar = (event) => {\n\n    event.preventDefault()\n\n    if (!this.state.toolbarVisible) {\n      this.setState({\n        toolbarVisible: true\n      }, () => {\n        this.props.editor.setEditorProp('readOnly', true)\n        this.setState({\n          toolbarOffset: this.calcToolbarOffset()\n        })\n      })\n    }\n\n  }\n\n  hideToolbar = (event) => {\n\n    event.preventDefault()\n\n    this.setState({\n      toolbarVisible: false\n    }, () => {\n      this.props.editor.setEditorProp('readOnly', false)\n    })\n\n  }\n\n}","module.exports = __WEBPACK_EXTERNAL_MODULE__31__;","import React from 'react'\nimport { Map } from 'immutable'\nimport { DefaultDraftBlockRenderMap } from 'draft-js'\nimport Image from './atomics/Image'\nimport Video from './atomics/Video'\nimport Audio from './atomics/Audio'\nimport Embed from './atomics/Embed'\nimport HorizontalLine from './atomics/HorizontalLine'\nimport _blockStyleFn from './styles/blockStyles'\nimport _getCustomStyleMap from './styles/inlineStyles'\nimport _decorators from './decorators'\n\nconst getAtomicBlockComponent = (block, superProps) => (props) => {\n\n  const entityKey = props.block.getEntityAt(0)\n\n  if (!entityKey) {\n    return null\n  }\n\n  const entity = props.contentState.getEntity(entityKey)\n  const mediaData = entity.getData()\n  const mediaType = entity.getType()\n  const mediaProps = {\n    ...superProps,\n    block, mediaData, entityKey\n  }\n\n  if (mediaType === 'IMAGE') {\n    return <Image { ...mediaProps } />\n  } else if (mediaType === 'AUDIO') {\n    return <Audio { ...mediaProps } />\n  } else if (mediaType === 'VIDEO') {\n    return <Video { ...mediaProps } />\n  } else if (mediaType === 'EMBED') {\n    return <Embed { ...mediaProps } />\n  } else if (mediaType === 'HR') {\n    return <HorizontalLine { ...mediaProps } />\n  }\n  // atomic\n  if (superProps.extendAtomics) {\n    const atomics = superProps.extendAtomics;\n    for (let i = 0; i < atomics.length; i++) {\n      if (mediaType === atomics[i].type) {\n        const Component = atomics[i].component;\n        return <Component {...mediaProps} />\n      }\n    }\n  }\n\n  return null\n\n}\n\nexport const getBlockRendererFn = (props) => (block) => {\n\n  return block.getType() === 'atomic' ? {\n    component: getAtomicBlockComponent(block, props),\n    editable: false\n  } : null\n\n}\n\nexport const customBlockRenderMap = Map({\n  'atomic': {\n    element: ''\n  },\n  'code-block': {\n    element: 'code',\n    wrapper: DefaultDraftBlockRenderMap.get('code-block').wrapper\n  }\n})\nexport const blockStyleFn = _blockStyleFn\nexport const getCustomStyleMap = _getCustomStyleMap\nexport const decorators = _decorators","export default {\n  height: 500,\n  language: 'zh',\n  controls: [\n    'undo', 'redo', 'split', 'font-size', 'font-family', 'line-height', 'letter-spacing',\n    'indent','text-color', 'bold', 'italic', 'underline', 'strike-through',\n    'superscript', 'subscript', 'remove-styles', 'emoji', 'text-align', 'split', 'headings', 'list_ul',\n    'list_ol', 'blockquote', 'code', 'split', 'link', 'split', 'hr', 'split', 'media', 'split', 'clear'\n  ],\n  excludeControls: [],\n  tabIndents: 2,\n  forceNewLine: false,\n  textAlignOptions: ['left', 'center', 'right', 'justify'],\n  allowSetTextBackgroundColor: true,\n  letterSpacings: [0, 2, 4, 6],\n  indents: [0, 14, 21, 28],\n  extendControls: [],\n  media: {\n    allowPasteImage: true,\n    image: true,\n    video: true,\n    audio: true,\n    uploadFn: null,\n    sourceFn: null,\n    onRemove: null,\n    onChange: null,\n    onInsert: null,\n    externalMedias: {\n      audio: true,\n      video: true,\n      image: true,\n      embed: true\n    }\n  },\n  imageControls: {\n    floatLeft: true,\n    floatRight: true,\n    alignLeft: true,\n    alignCenter: true,\n    alignRight: true,\n    link: true,\n    size: true,\n    remove: true\n  },\n  colors: [\n    '#000000', '#333333', '#666666', '#999999', '#cccccc', '#ffffff',\n    '#61a951', '#16a085', '#07a9fe', '#003ba5', '#8e44ad', '#f32784',\n    '#c0392b', '#d35400', '#f39c12', '#fdda00', '#7f8c8d', '#2c3e50'\n  ],\n  lineHeights: [\n    '1', '1.2', '1.5', '1.75', '2', '2.5', '3', '4'\n  ],\n  fontSizes: [\n    12, 14, 16, 18, 20, 24,\n    28, 30, 32, 36, 40, 48,\n    56, 64, 72, 96, 120, 144\n  ],\n  fontFamilies: [{\n    name: 'Araial',\n    family: 'Arial, Helvetica, sans-serif'\n  }, {\n    name: 'Georgia',\n    family: 'Georgia, serif'\n  }, {\n    name: 'Impact',\n    family: 'Impact, serif'\n  }, {\n    name: 'Monospace',\n    family: '\"Courier New\", Courier, monospace'\n  }, {\n    name: 'Tahoma',\n    family: \"tahoma, arial, 'Hiragino Sans GB', , sans-serif\"\n  }],\n  emojis: [\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\", \"\", \"\",\n    \"\", \"\", \"\", \"\", \"\"\n  ],\n  extendAtomics: []\n}","import { getDefaultKeyBinding, KeyBindingUtil } from 'draft-js'\n\n// TODO\n// \n\nexport default (event) => {\n\n  if (event.keyCode === 83 && (KeyBindingUtil.hasCommandModifier(event) || KeyBindingUtil.isCtrlKeyCommand(event))) {\n    return 'braft-save'\n  }\n\n  return getDefaultKeyBinding(event);\n\n}\n","import React from 'react'\nimport { blocks } from 'configs/maps'\nimport { ColorUtils } from 'braft-utils'\n\nconst blockTypes = Object.keys(blocks)\nconst blockNames = blockTypes.map(key => blocks[key])\n\nconst convertAtomicBlock = (block, contentState) => {\n\n  if (!block || !block.key) {\n    return <p></p>\n  }\n\n  const contentBlock = contentState.getBlockForKey(block.key)\n\n  if (!contentBlock) {\n    return <p></p>\n  }\n\n  const entityKey = contentBlock.getEntityAt(0)\n\n  if (!entityKey) {\n    return <p></p>\n  }\n\n  const entity = contentState.getEntity(entityKey)\n  const mediaType = entity.getType().toLowerCase()\n\n  let { float, alignment } = block.data\n  let { url, link, link_target, width, height, meta } = entity.getData()\n\n  if (mediaType === 'image') {\n\n    let imageWrapStyle = {}\n    let styledClassName = ''\n\n    if (float) {\n      imageWrapStyle.float = float\n      styledClassName += ' float-' + float\n    } else if (alignment) {\n      imageWrapStyle.textAlign = alignment\n      styledClassName += ' align-' + alignment\n    }\n\n    if (link) {\n      return (\n        <div className={\"media-wrap image-wrap\" + styledClassName} style={imageWrapStyle}>\n          <a style={{display:'inline-block'}} href={link} target={link_target}>\n            <img {...meta} src={url} width={width} height={height} style={{width, height}} />\n          </a>\n        </div>\n      )\n    } else {\n      return (\n        <div className={\"media-wrap image-wrap\" + styledClassName} style={imageWrapStyle}>\n          <img {...meta} src={url} width={width} height={height} style={{width, height}}/>\n        </div>\n      )\n    }\n\n  } else if (mediaType === 'audio') {\n    return <div className=\"media-wrap audio-wrap\"><audio controls {...meta} src={url} /></div>\n  } else if (mediaType === 'video') {\n    return <div className=\"media-wrap video-wrap\"><video controls {...meta} src={url} width={width} height={height} /></div>\n  } else if (mediaType === 'embed') {\n    return <div className=\"media-wrap embed-wrap\"><div dangerouslySetInnerHTML={{__html: url}}/></div>\n  } else if (mediaType === 'hr') {\n    return <hr></hr>\n  } else {\n    return <p></p>\n  }\n\n}\n\nconst styleToHTML = (props) => (style) => {\n\n  style = style.toLowerCase()\n\n  if (style === 'strikethrough') {\n    return <span style={{textDecoration: 'line-through'}}/>\n  } else if (style === 'superscript') {\n    return <sup/>\n  } else if (style === 'subscript') {\n    return <sub/>\n  } else if (style.indexOf('color-') === 0) {\n    return <span style={{color: '#' + style.split('-')[1]}}/>\n  } else if (style.indexOf('bgcolor-') === 0) {\n    return <span style={{backgroundColor: '#' + style.split('-')[1]}}/>\n  } else if (style.indexOf('fontsize-') === 0) {\n    return <span style={{fontSize: style.split('-')[1] + 'px'}}/>\n  } else if (style.indexOf('lineheight-') === 0) {\n    return <span style={{lineHeight: style.split('-')[1]}}/> \n  } else if (style.indexOf('letterspacing-') === 0) {\n    return <span style={{letterSpacing: style.split('-')[1] + 'px'}}/>\n  } else if (style.indexOf('indent-') === 0) {\n    return <span style={{paddingLeft: style.split('-')[1] + 'px', paddingRight: style.split('-')[1] + 'px' }}/>\n  } else if (style.indexOf('fontfamily-') === 0) {\n    let fontFamily = props.fontFamilies.find((item) => item.name.toLowerCase() === style.split('-')[1])\n    if (!fontFamily) return\n    return <span style={{fontFamily: fontFamily.family}}/>\n  }\n\n}\n\nconst blockToHTML = (contentState) => (block) => {\n\n  let result = null\n  let blockStyle = \"\"\n\n  const blockType = block.type.toLowerCase()\n  const { textAlign } = block.data\n\n  if (textAlign) {\n    blockStyle = ` style=\"text-align:${textAlign};\"`\n  }\n\n  if (blockType === 'atomic') {\n    return convertAtomicBlock(block, contentState)\n  } else if (blockType === 'code-block') {\n\n    const previousBlock = contentState.getBlockBefore(block.key)\n    const nextBlock = contentState.getBlockAfter(block.key)\n    const previousBlockType = previousBlock && previousBlock.getType()\n    const nextBlockType = nextBlock && nextBlock.getType()\n\n    if (previousBlockType !== 'code-block' && nextBlockType !== 'code-block') {\n      return {\n        start: '<pre>',\n        end: '</pre>'\n      }\n    }\n    if (previousBlockType !== 'code-block') {\n      return {\n        start: '<pre>',\n        end: '<br/>'\n      }\n    }\n    if (nextBlockType !== 'code-block') {\n      return {\n        start: '',\n        end: '</pre>'\n      }\n    }\n\n    return {\n      start: '',\n      end: '<br/>',\n    }\n\n  } else if (blocks[blockType]) {\n    return {\n      start: `<${blocks[blockType]}${blockStyle}>`,\n      end: `</${blocks[blockType]}>`\n    }\n  } else if (blockType === 'unordered-list-item') {\n    return {\n      start: `<li${blockStyle}>`,\n      end: '</li>',\n      nest: <ul/>\n    }\n  } else if (blockType === 'ordered-list-item') {\n    return {\n      start: `<li${blockStyle}>`,\n      end: '</li>',\n      nest: <ol/>\n    }\n  }\n\n}\n\nconst entityToHTML = (entity, originalText) => {\n\n  let result = originalText\n  const entityType = entity.type.toLowerCase()\n\n  if (entityType === 'link') {\n    return <a href={entity.data.href} target={entity.data.target}>{originalText}</a>\n  } else if (entityType === 'color') {\n    return <span style={{color:entity.data.color}}>{originalText}</span>\n  } else if (entityType === 'bg-color') {\n    return <span style={{backgroundColor:entity.data.color}}>{originalText}</span>\n  }\n\n}\n\nconst htmlToStyle = (props) => (nodeName, node, currentStyle) => {\n\n  if (!node || !node.style) {\n    return currentStyle\n  }\n\n  let newStyle = currentStyle\n\n  for (let i = 0; i < node.style.length; i++) {\n    if (nodeName === 'span' && node.style[i] === 'color') {\n      let color = ColorUtils.getHexColor(node.style.color)\n      newStyle = color ? newStyle.add('COLOR-' + color.replace('#', '').toUpperCase()) : newStyle\n    } else if (nodeName === 'span' && node.style[i] === 'background-color') {\n      let color = ColorUtils.getHexColor(node.style.backgroundColor)\n      newStyle = color ? newStyle.add('BGCOLOR-' + color.replace('#', '').toUpperCase()) : newStyle\n    } else if (nodeName === 'span' && node.style[i] === 'font-size') {\n      newStyle = newStyle.add('FONTSIZE-' + parseInt(node.style.fontSize, 10))\n    } else if (nodeName === 'span' && node.style[i] === 'line-height') {\n      newStyle = newStyle.add('LINEHEIGHT-' + node.style.lineHeight)\n    } else if (nodeName === 'span' && node.style[i] === 'letter-spacing' && !isNaN(node.style.letterSpacing.replace('px', ''))) {\n      newStyle = newStyle.add('LETTERSPACING-' + parseInt(node.style.letterSpacing, 10))\n    } else if (nodeName === 'span' && (node.style[i] === 'padding-left' || node.style[i] === 'padding-right')) {\n      newStyle = newStyle.add('INDENT-' + parseInt(node.style.paddingLeft, 10))\n    } else if (nodeName === 'span' && node.style[i] === 'text-decoration' && node.style.textDecoration === 'line-through') {\n      newStyle = newStyle.add('STRIKETHROUGH')\n    } else if (nodeName === 'span' && node.style[i] === 'font-family') {\n      let fontFamily = props.fontFamilies.find((item) => item.family.toLowerCase() === node.style.fontFamily.toLowerCase())\n      if (!fontFamily) continue;\n      newStyle = newStyle.add('FONTFAMILY-' + fontFamily.name.toUpperCase())\n    }\n  }\n\n  if (nodeName === 'sup') {\n    newStyle = newStyle.add('SUPERSCRIPT')\n  } else if (nodeName === 'sub') {\n    newStyle = newStyle.add('SUBSCRIPT')\n  } \n\n  return newStyle\n\n}\n\nconst htmlToEntity = (nodeName, node, createEntity) => {\n\n  const { alt, title, id, controls, autoplay, loop, poster } = node\n  let meta = {}\n\n  id && (meta.id = id)\n  alt && (meta.alt = alt)\n  title && (meta.title = title)\n  controls && (meta.controls = controls)\n  autoplay && (meta.autoPlay = autoplay)\n  loop && (meta.loop = loop)\n  poster && (meta.poster = poster)\n\n  if (nodeName === 'a' && !node.querySelectorAll('img').length) {\n    let { href, target } = node\n    return createEntity('LINK', 'MUTABLE',{ href, target })\n  } else if (nodeName === 'audio') {\n    return createEntity('AUDIO', 'IMMUTABLE',{ url: node.src, meta }) \n  } else if (nodeName === 'video') {\n    return createEntity('VIDEO', 'IMMUTABLE',{ url: node.src, meta }) \n  } else if (nodeName === 'img') {\n\n    let parentNode = node.parentNode\n    let entityData = { meta }\n    let { width, height } = node.style\n\n    entityData.url = node.src\n    width && (entityData.width = width)\n    height && (entityData.height = height)\n\n    if (parentNode.nodeName.toLowerCase() === 'a') {\n      entityData.link = parentNode.href\n      entityData.link_target = parentNode.target\n    }\n\n    return createEntity('IMAGE', 'IMMUTABLE', entityData) \n\n  } else if (nodeName === 'hr') {\n    return createEntity('HR', 'IMMUTABLE', {}) \n  } else if (node.parentNode && node.parentNode.classList.contains('embed-wrap')) {\n\n    const embedContent = node.innerHTML || node.outerHTML\n\n    if (embedContent) {\n      return createEntity('EMBED', 'IMMUTABLE', {\n        url: embedContent\n      })   \n    }\n\n  }\n\n}\n\nconst htmlToBlock = (nodeName, node) => {\n\n  let nodeStyle = node.style || {}\n\n  if (node.classList && node.classList.contains('media-wrap')) {\n\n    return {\n      type: 'atomic',\n      data: {\n        float: nodeStyle.float,\n        alignment: nodeStyle.textAlign\n      }\n    }\n\n  } else if (nodeName === 'img') {\n\n    return {\n      type: 'atomic',\n      data: {\n        float: nodeStyle.float,\n        alignment: nodeStyle.textAlign\n      }\n    }\n\n  } else if (nodeName === 'hr') {\n\n    return {\n      type: 'atomic',\n      data: {}\n    }\n\n  } else if (nodeStyle.textAlign && blockNames.indexOf(nodeName) > -1) {\n\n    return {\n      type: blockTypes[blockNames.indexOf(nodeName)],\n      data: {\n        textAlign: nodeStyle.textAlign\n      }\n    }\n\n  }\n\n}\n\nexport const getToHTMLConfig = (props) => {\n\n  return {\n    styleToHTML: styleToHTML(props),\n    entityToHTML: entityToHTML,\n    blockToHTML: blockToHTML(props.contentState)\n  }\n\n}\n\nexport const getFromHTMLConfig = (props) => {\n\n  return { \n    htmlToStyle: htmlToStyle(props),\n    htmlToEntity,\n    htmlToBlock \n  }\n\n}\n","module.exports = __WEBPACK_EXTERNAL_MODULE__36__;","module.exports = __WEBPACK_EXTERNAL_MODULE__37__;","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    inert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: '',\n    color: '',\n    textColor: '',\n    backgroundColor: '',\n    tempColors: '',\n    bold: '',\n    lineHeight: '',\n    letterSpacing: '',\n    indent: '',\n    border: '',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: '',\n    alignLeft: '',\n    alignCenter: '',\n    alignRight: '',\n    alignJustify: '',\n    floatLeft: '',\n    floatRight: '',\n    superScript: '',\n    subScript: '',\n    removeStyles: '',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: '',\n    unorderedList: '',\n    blockQuote: '',\n    code: '',\n    link: '',\n    unlink: '',\n    hr: '',\n    media: '',\n    emoji: ''\n  },\n  linkEditor: {\n    inputPlaceHolder: '',\n    inputWithEnterPlaceHolder: '',\n    openInNewWindow: '',\n    removeLink: ''\n  },\n  audioPlayer: {\n    title: ''\n  },\n  videoPlayer: {\n    title: '',\n    embedTitle: ''\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}","export default {\n  base: {\n    remove: '',\n    cancel: '',\n    confirm: '',\n    inert: '',\n    width: '',\n    height: ''\n  },\n  controls: {\n    clear: '',\n    undo: '',\n    redo: '',\n    fontSize: '',\n    lineHeight: '',\n    letterSpacing: '',\n    indent: '',\n    border: '',\n    color: '',\n    textColor: '',\n    backgroundColor: '',\n    tempColors: '',\n    bold: '',\n    italic: '',\n    underline: '',\n    strikeThrough: '',\n    fontFamily: '',\n    textAlign: '',\n    alignLeft: '',\n    alignCenter: '',\n    alignRight: '',\n    alignJustify: '',\n    floatLeft: '',\n    floatRight: '',\n    superScript: '',\n    subScript: '',\n    removeStyles: '',\n    headings: '',\n    header: '',\n    normal: '',\n    orderedList: '',\n    unorderedList: '',\n    blockQuote: '',\n    code: '',\n    link: '',\n    unlink: '',\n    hr: '',\n    media: '',\n    emoji: ''\n  },\n  linkEditor: {\n    inputPlaceHolder: '',\n    inputWithEnterPlaceHolder: '',\n    openInNewWindow: '',\n    removeLink: ''\n  },\n  audioPlayer: {\n    title: ''\n  },\n  videoPlayer: {\n    title: '',\n    embedTitle: ''\n  },\n  media: {\n    image: '',\n    video: '',\n    audio: '',\n    embed: ''\n  }\n}","export default {\n  base: {\n    remove: 'Remove',\n    cancel: 'Cancel',\n    confirm: 'Confirm',\n    inert: 'Insert',\n    width: 'Width',\n    height: 'Height'\n  },\n  controls: {\n    clear: 'Clear',\n    undo: 'Undo',\n    redo: 'Redo',\n    fontSize: 'Font Size',\n    color: 'Color',\n    textColor: 'Text',\n    tempColors: 'Temp Colors',\n    backgroundColor: 'Background',\n    bold: 'Bold',\n    lineHeight:'Line Height',\n    letterSpacing:'Letter Spacing',\n    indent:'Indent at both ends',\n    italic: 'Italic',\n    underline: 'Underline',\n    strikeThrough: 'Strike Through',\n    fontFamily: 'Font Family',\n    textAlign: 'Text Alignment',\n    alignLeft: 'Left Alignment',\n    alignCenter: 'Center Alignment',\n    alignRight: 'Right Alignment',\n    alignJustify: 'Justify Alignment',\n    floatLeft: 'Left Float',\n    floatRight: 'Right Float',\n    superScript: 'Super Script',\n    subScript: 'Sub Script',\n    removeStyles: 'Remove Styles',\n    headings: 'Headings',\n    header: 'Header',\n    normal: 'Normal',\n    orderedList: 'Ordered List',\n    unorderedList: 'Unordered List',\n    blockQuote: 'Quote',\n    code: 'Code',\n    link: 'Link',\n    unlink: 'Unlink',\n    hr: 'Horizontal Line',\n    media: 'Media',\n    emoji: 'Emoji'\n  },\n  linkEditor: {\n    inputPlaceHolder: 'Input link URL',\n    inputWithEnterPlaceHolder: 'Input link URL and press Enter',\n    openInNewWindow: 'Open in new window',\n    removeLink: 'Remove Link'\n  },\n  audioPlayer: {\n    title: 'Play Audio'\n  },\n  videoPlayer: {\n    title: 'Play Video',\n    embedTitle: 'Embed Media'\n  },\n  media: {\n    image: 'Image',\n    video: 'Video',\n    audio: 'Audio',\n    embed: 'Embed'\n  }\n}","import en from './en'\nimport zh from './zh'\nimport zhHant from './zh-hant'\n\nexport default {\n  \"en\": en,\n  \"zh\": zh,\n  \"zh-hant\": zhHant\n}","import 'draft-js/dist/Draft.css'\nimport 'assets/scss/_base.scss'\nimport React from 'react'\nimport languages from 'languages'\nimport { Modifier, CompositeDecorator, DefaultDraftBlockRenderMap, Editor, ContentState, EditorState, RichUtils, convertFromRaw, convertToRaw, convertFromHTML as originConvertFromHTML} from 'draft-js'\nimport { convertToHTML, convertFromHTML} from 'draft-convert'\nimport { handleNewLine } from 'draftjs-utils'\nimport { getToHTMLConfig, getFromHTMLConfig } from 'configs/convert'\nimport keyBindingFn from 'configs/keybindings'\nimport defaultOptions from 'configs/options'\nimport { getBlockRendererFn, customBlockRenderMap, blockStyleFn, getCustomStyleMap, decorators } from 'renderers'\nimport ControlBar from 'components/business/ControlBar'\nimport { BaseUtils, ColorUtils, ContentUtils } from 'braft-utils'\n\nconst editorDecorators = new CompositeDecorator(decorators)\nconst blockRenderMap = DefaultDraftBlockRenderMap.merge(customBlockRenderMap)\n\nexport default class BraftEditor extends React.Component {\n\n  static defaultProps = {\n    ...defaultOptions,\n    onChange: null,\n    onFocus: null,\n    onBlur: null,\n    onSave: null\n  }\n\n  constructor (props) {\n\n    super(props)\n\n    const editorState = EditorState.createEmpty(editorDecorators)\n\n    this.isFocused = false\n    this.instanceIndex = BaseUtils.UniqueIndex()\n\n    this.state = {\n      tempColors: [],\n      editorState: editorState,\n      editorProps: {}\n    }\n\n    let browser = null\n    if (window.chrome) {\n      browser = 'chrome'\n    } else if (window.safari) {\n      browser = 'safari'\n    } else if (navigator.userAgent.indexOf('Firefox') > 0) {\n      browser = 'firefox'\n    }\n\n    if (!document.body.classList.contains('browser-' + browser)) {\n      document.body.classList.add('browser-' + browser)\n    }\n\n  }\n\n  onChange = (editorState) => {\n\n    this.setState({ editorState }, () => {\n      this.props.onChange && this.props.onChange(editorState)\n    })\n\n  }\n\n  getDraftInstance = () => {\n    return this.draftInstance\n  }\n\n  getFinderInstance = () => {\n    return this.braftFinder\n  }\n\n  convertHTML = (htmlString) => {\n    const { fontFamilies } = this.props\n    return convertFromHTML(getFromHTMLConfig({ fontFamilies }))(htmlString)\n  }\n\n  getValue = () => {\n    return this.state.editorState\n  }\n\n  setValue = (editorState) => {\n    return this.onChange(editorState)\n  }\n\n  setEditorProps = (editorProps) => {\n\n    this.setState({\n      editorProps: {\n        ...this.state.editorProps,\n        ...editorProps\n      }\n    })\n\n    return this\n\n  }\n\n  forceRender = () => {\n    return this.setValue(EditorState.createWithContent(this.state.editorState.getCurrentContent(), editorDecorators))\n  }\n\n  onTab = (event) => {\n\n    const tabIndents = this.props.tabIndents\n\n    if (ContentUtils.getSelectionBlockType(this.state.editorState) === 'code-block') {\n      this.insertText(' '.repeat(tabIndents), false)\n      event.preventDefault()\n      return false\n    }\n\n    this.props.onTab && this.props.onTab(event)\n\n  }\n\n  onFocus = () => {\n    this.isFocused = true\n    this.props.onFocus && this.props.onFocus()\n  }\n\n  onBlur = () => {\n    this.isFocused = false\n    this.props.onBlur && this.props.onBlur()\n  }\n\n  handleKeyCommand = (command) => {\n\n    if (command === 'braft-save') {\n      this.props.onSave && this.props.onSave()\n      return 'handled'\n    }\n\n    const nextEditorState = RichUtils.handleKeyCommand(this.state.editorState, command)\n\n    if (nextEditorState) {\n      this.onChange(nextEditorState)\n      return 'handled'\n    }\n\n    return 'not-handled'\n\n  }\n\n  handleReturn = (event) => {\n\n    const currentBlock = ContentUtils.getSelectionBlock(this.state.editorState)\n    const currentBlockType = currentBlock.getType()\n\n    if (currentBlockType === 'unordered-list-item' || currentBlockType === 'ordered-list-item') {\n\n      if (currentBlock.getLength() === 0) {\n        this.setValue(ContentUtils.toggleSelectionBlockType(this.state.editorState, 'unstyled'))\n        return 'handled'\n      }\n\n      return 'not-handled'\n\n    } else if (currentBlockType === 'code-block') {\n\n      if (\n        event.which === 13 && (\n          event.getModifierState('Shift') ||\n          event.getModifierState('Alt') ||\n          event.getModifierState('Control')\n        )) {\n        this.setValue(ContentUtils.toggleSelectionBlockType(this.state.editorState, 'unstyled'))\n        return 'handled'\n      }\n\n      return 'not-handled'\n\n    } else {\n\n      if (this.props.forceNewLine) {\n        event.which = 13\n        event.getModifierState = () => true\n      }\n\n      const nextEditorState = handleNewLine(this.state.editorState, event)\n\n      if (nextEditorState) {\n        this.setValue(nextEditorState)\n        return 'handled'\n      }\n\n      return 'not-handled'\n\n    }\n\n    return false\n\n  }\n\n  handleDrop = (selectionState, dataTransfer, isInternal) => {\n\n    if (window.__BRAFT_DRAGING__IMAGE__) {\n\n      let editorState = ContentUtils.removeBlock(this.state.editorState, window.__BRAFT_DRAGING__IMAGE__.block, selectionState)\n      editorState = ContentUtils.insertMedias(editorState, [window.__BRAFT_DRAGING__IMAGE__.mediaData])\n\n      window.__BRAFT_DRAGING__IMAGE__ = null\n\n      this.setEditorProp('readOnly', false)\n      this.setValue(editorState)\n\n      return 'handled'\n\n    } else if (!dataTransfer || !dataTransfer.getText()) {\n      return 'handled'\n    }\n\n    return 'not-handled'\n\n  }\n\n  handleDroppedFiles = (selectionState, files) => {\n\n    if (files[0] && files[0].type.indexOf('image') > -1 && this.props.media && this.props.media.allowPasteImage !== false) {\n\n      this.braftFinder.uploadImage(files[0], image => {\n        this.setValue(ContentUtils.insertMedias(this.state.editorState, [image]))\n      })\n  \n      return 'handled'\n  \n    }\n\n    return 'not-handled'\n\n  }\n\n  handlePastedFiles = (files) => {\n\n    if (files[0] && files[0].type.indexOf('image') > -1 && this.props.media && this.props.media.allowPasteImage !== false) {\n\n      this.braftFinder.uploadImage(files[0], image => {\n        this.setValue(ContentUtils.insertMedias(this.state.editorState, [image]))\n      })\n  \n      return 'handled'\n\n    }\n\n    return 'not-handled'\n\n  }\n\n  handlePastedText = (text, html) => {\n\n    if (!html) {\n      return false\n    }\n\n    const pasteMode = this.tmpPasteMode || this.props.pasteMode || 'normal'\n\n    if (pasteMode === 'text') {\n      this.tmpPasteMode = 'normal'\n      const tmpTextHolder = document.createElement('div')\n      tmpTextHolder.innerHTML = html\n      return this.handlePastedText(text, tmpTextHolder.textContent || tmpTextHolder.innerText || '')\n    } else {\n      this.tmpPasteMode = null\n    }\n\n    const { fontFamilies } = this.props\n    const blockMap = convertFromHTML(getFromHTMLConfig({ fontFamilies }))(html || text).blockMap\n    const nextContentState = Modifier.replaceWithFragment(this.contentState, this.selectionState, blockMap)\n\n    this.setState({\n      tempColors: [...this.state.tempColors, ...ColorUtils.detectColorsFromHTML(html)].filter(item => this.props.colors.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n    }, () => {\n      this.setValue(EditorState.push(this.state.editorState, nextContentState, 'insert-fragment'))\n    })\n\n    return true\n\n  }\n\n  addTempColors = (colors, callback) => {\n\n    this.setState({\n      tempColors: [...this.state.tempColors, ...colors].filter(item => this.props.colors.indexOf(item) === -1).filter((item, index, array) => array.indexOf(item) === index)\n    }, callback)\n\n  }\n\n  render() {\n\n    let {\n      controls, excludeControls, extendControls, disabled, height, media, language, colors,\n      fontSizes, fontFamilies, emojis, viewWrapper, placeholder, imageControls, lineHeights, letterSpacings, indents, textAlignOptions, allowSetTextBackgroundColor,\n      extendAtomics\n    } = this.props\n\n    controls = controls.filter(item => excludeControls.indexOf(item) === -1)\n\n    const { tempColors } = this.state\n    language = languages[language] || languages[defaultOptions.language]\n\n    const externalMedias = media && media.externalMedias ? {\n      ...defaultOptions.media.externalMedias,\n      ...media.externalMedias\n    } : defaultOptions.media.externalMedias\n\n    media = { ...defaultOptions.media, ...media, externalMedias }\n\n    imageControls = imageControls ? {\n      ...defaultOptions.imageControls,\n      ...imageControls\n    } : defaultOptions.imageControls\n\n    viewWrapper = viewWrapper || `.BraftEditor-instance-${this.instanceIndex}`\n\n    this.colorList = [...colors, ...tempColors]\n    this.fontSizeList = fontSizes\n    this.fontFamilyList = fontFamilies\n    this.lineHeightList = lineHeights\n    this.letterSpacingList = letterSpacings\n    this.indentList = indents\n\n    if (!media.uploadFn) {\n      media.video = false\n      media.audio = false\n    }\n\n    const controlBarProps = {\n      editor: this,\n      editorState: this.state.editorState,\n      editorHeight: height,\n      ref: instance => this.controlBarInstance = instance,\n      media, controls, language, viewWrapper, extendControls, colors, tempColors, fontSizes, fontFamilies,\n      emojis, lineHeights, letterSpacings, indents, textAlignOptions, allowSetTextBackgroundColor\n    }\n\n    const blockRendererFn = getBlockRendererFn({\n      editor: this, imageControls,\n      language, viewWrapper,\n      extendAtomics\n    })\n\n    const customStyleMap = getCustomStyleMap({\n      colors: [...colors, ...tempColors],\n      fontSizes, fontFamilies, lineHeights, letterSpacings, indents\n    })\n\n    const editorProps = {\n      ref: instance => { this.draftInstance = instance },\n      editorState: this.state.editorState,\n      handleKeyCommand: this.handleKeyCommand,\n      handleReturn: this.handleReturn,\n      handleDrop: this.handleDrop,\n      handleDroppedFiles: this.handleDroppedFiles,\n      handlePastedText: this.handlePastedText,\n      handlePastedFiles: this.handlePastedFiles,\n      onChange: this.onChange,\n      onTab: this.onTab,\n      onFocus: this.onFocus,\n      onBlur: this.onBlur,\n      readOnly: disabled,\n      customStyleMap, blockStyleFn, keyBindingFn,\n      blockRendererFn, blockRenderMap, placeholder,\n      ...this.state.editorProps\n    }\n\n    return (\n      <div className={`BraftEditor-container BraftEditor-instance-${this.instanceIndex} ${(disabled ? 'disabled' : '')}`}>\n        <ControlBar {...controlBarProps} />\n        <div className=\"BraftEditor-content\" style={height ? { height } : {}}>\n          <Editor {...editorProps} />\n        </div>\n      </div>\n    )\n\n  }\n\n}","import BraftEditor from 'editor'\n\nexport default BraftEditor","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin","// removed by extract-text-webpack-plugin"],"sourceRoot":""}