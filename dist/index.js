!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"),require("braft-utils"),require("draft-js"),require("braft-convert"),require("react-dom"),require("immutable"),require("braft-finder"));else if("function"==typeof define&&define.amd)define(["react","braft-utils","draft-js","braft-convert","react-dom","immutable","braft-finder"],t);else{var n="object"==typeof exports?t(require("react"),require("braft-utils"),require("draft-js"),require("braft-convert"),require("react-dom"),require("immutable"),require("braft-finder")):t(e.react,e["braft-utils"],e["draft-js"],e["braft-convert"],e["react-dom"],e.immutable,e["braft-finder"]);for(var o in n)("object"==typeof exports?exports:e)[o]=n[o]}}(window,function(e,t,n,o,r,a,i){return function(e){function t(t){for(var n,r,a=t[0],i=t[1],l=0,c=[];l<a.length;l++)r=a[l],o[r]&&c.push(o[r][0]),o[r]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n]);for(s&&s(t);c.length;)c.shift()()}var n={},o={0:0};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=n,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var a=window.webpackJsonp=window.webpackJsonp||[],i=a.push.bind(a);a.push=t,a=a.slice();for(var l=0;l<a.length;l++)t(a[l]);var s=i;return r(r.s=18)}([function(t,n){t.exports=e},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,n){e.exports=t},function(e,t,n){var o=n(22);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var o=n(15),r=n(1);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?r(e):t}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){e.exports=n},function(e,t,n){var o=n(2);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){var o=n(25),r=n(24),a=n(23);e.exports=function(e){return o(e)||r(e)||a()}},function(e,t){e.exports=o},function(e,t){e.exports=r},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t,n){var o=n(21),r=n(20),a=n(19);e.exports=function(e,t){return o(e)||r(e,t)||a()}},function(e,t){e.exports=a},function(e,t,n){"use strict";n.r(t);var o=n(15),r=n.n(o),a=n(10),i=n.n(a),l=n(12),s=n.n(l),c=n(8),d=n.n(c),u=n(7),p=n.n(u),m=n(6),f=n.n(m),h=n(5),g=n.n(h),y=n(4),b=n.n(y),v=n(1),k=n.n(v),C=n(2),E=n.n(C),S=(n(51),n(49),n(0)),w=n.n(S),x={en:{base:{remove:"Remove",cancel:"Cancel",confirm:"Confirm",inert:"Insert",width:"Width",height:"Height"},controls:{clear:"Clear",undo:"Undo",redo:"Redo",fontSize:"Font Size",color:"Color",textColor:"Text",tempColors:"Temp Colors",backgroundColor:"Background",bold:"Bold",lineHeight:"Line Height",letterSpacing:"Letter Spacing",textIndent:"Indent at both ends",italic:"Italic",underline:"Underline",strikeThrough:"Strike Through",fontFamily:"Font Family",textAlign:"Text Alignment",alignLeft:"Left Alignment",alignCenter:"Center Alignment",alignRight:"Right Alignment",alignJustify:"Justify Alignment",floatLeft:"Left Float",floatRight:"Right Float",superScript:"Super Script",subScript:"Sub Script",removeStyles:"Remove Styles",headings:"Headings",header:"Header",normal:"Normal",orderedList:"Ordered List",unorderedList:"Unordered List",blockQuote:"Quote",code:"Code",link:"Link",unlink:"Unlink",hr:"Horizontal Line",media:"Media",mediaLibirary:"Media Libirary",emoji:"Emoji"},linkEditor:{inputPlaceHolder:"Input link URL",inputWithEnterPlaceHolder:"Input link URL and press Enter",openInNewWindow:"Open in new window",removeLink:"Remove Link"},audioPlayer:{title:"Play Audio"},videoPlayer:{title:"Play Video",embedTitle:"Embed Media"},media:{image:"Image",video:"Video",audio:"Audio",embed:"Embed"}},zh:{base:{remove:"åˆ é™¤",cancel:"å–æ¶ˆ",confirm:"ç¡®å®š",inert:"æ’å…¥",width:"å®½åº¦",height:"é«˜åº¦"},controls:{clear:"æ¸…é™¤å†…å®¹",undo:"æ’¤é”€",redo:"é‡åš",fontSize:"å­—å·",lineHeight:"è¡Œé«˜",letterSpacing:"å­—é—´è·",textIndent:"ä¸¤ç«¯ç¼©è¿›",border:"è¾¹æ¡†",color:"é¢œè‰²",textColor:"æ–‡å­—é¢œè‰²",backgroundColor:"èƒŒæ™¯é¢œè‰²",tempColors:"ä¸´æ—¶é¢œè‰²",bold:"åŠ ç²—",italic:"æ–œä½“",underline:"ä¸‹åˆ’çº¿",strikeThrough:"åˆ é™¤çº¿",fontFamily:"å­—ä½“",textAlign:"æ–‡æœ¬å¯¹é½",alignLeft:"å±…å·¦",alignCenter:"å±…ä¸­",alignRight:"å±…å³",alignJustify:"ä¸¤ç«¯",floatLeft:"å·¦æµ®åŠ¨",floatRight:"å³æµ®åŠ¨",superScript:"ä¸Šæ ‡",subScript:"ä¸‹æ ‡",removeStyles:"æ¸…é™¤æ ·å¼",headings:"æ ‡é¢˜",header:"æ ‡é¢˜",normal:"å¸¸è§„",orderedList:"æœ‰åºåˆ—è¡¨",unorderedList:"æ— åºåˆ—è¡¨",blockQuote:"å¼•ç”¨",code:"ä»£ç ",link:"é“¾æŽ¥",unlink:"æ¸…é™¤é“¾æŽ¥",hr:"æ°´å¹³çº¿",media:"åª’ä½“",mediaLibirary:"åª’ä½“åº“",emoji:"å°è¡¨æƒ…"},linkEditor:{inputPlaceHolder:"è¾“å…¥é“¾æŽ¥åœ°å€",inputWithEnterPlaceHolder:"è¾“å…¥é“¾æŽ¥åœ°å€å¹¶å›žè½¦",openInNewWindow:"åœ¨æ–°çª—å£æ‰“å¼€",removeLink:"ç§»é™¤é“¾æŽ¥"},audioPlayer:{title:"æ’­æ”¾éŸ³é¢‘æ–‡ä»¶"},videoPlayer:{title:"æ’­æ”¾è§†é¢‘æ–‡ä»¶",embedTitle:"åµŒå…¥å¼åª’ä½“"},media:{image:"å›¾åƒ",video:"è§†é¢‘",audio:"éŸ³é¢‘",embed:"åµŒå…¥å¼åª’ä½“"}},"zh-hant":{base:{remove:"åˆªé™¤",cancel:"å–æ¶ˆ",confirm:"ç¢ºå®š",inert:"æ’å…¥",width:"å®½åº¦",height:"é«˜åº¦"},controls:{clear:"æ¸…é™¤å†…å®¹",undo:"æ’¤éŠ·",redo:"é‡åš",fontSize:"å­—è™Ÿ",color:"é¡è‰²",textColor:"æ–‡å­—é¡è‰²",backgroundColor:"èƒŒæ™¯é¡è‰²",tempColors:"è‡¨æ™‚é¡è‰²",bold:"åŠ ç²—",lineHeight:"è¡Œé«˜",letterSpacing:"å­—é–“è·",textIndent:"å…©ç«¯ç¸®é€²",border:"é‚Šæ¡†",italic:"æ–œé«”",underline:"ä¸‹åŠƒç·š",strikeThrough:"åˆªé™¤ç·š",fontFamily:"å­—é«”",textAlign:"æ–‡æœ¬å°é½Š",alignLeft:"å±…å·¦",alignCenter:"å±…ä¸­",alignRight:"å±…å³",alignJustify:"å…©ç«¯å°é½Š",floatLeft:"å·¦æµ®å‹•",floatRight:"å³æµ®å‹•",superScript:"ä¸Šæ¨™",subScript:"ä¸‹æ¨™",removeStyles:"æ¸…é™¤æ ·å¼",headings:"æ¨™é¡Œ",header:"æ¨™é¡Œ",normal:"å¸¸è¦",orderedList:"æœ‰åºåˆ—è¡¨",unorderedList:"ç„¡åºåˆ—è¡¨",blockQuote:"å¼•ç”¨",code:"ä»£ç¢¼",link:"éˆæŽ¥",unlink:"æ¸…é™¤éˆæŽ¥",hr:"æ°´å¹³çº¿",media:"åª’é«”",mediaLibirary:"åª’é«”åº“",emoji:"å°è¡¨æƒ…"},linkEditor:{inputPlaceHolder:"è¼¸å…¥éˆæŽ¥åœ°å€",inputWithEnterPlaceHolder:"è¼¸å…¥éˆæŽ¥åœ°å€ä¸¦å›žè»Š",openInNewWindow:"åœ¨æ–°çª—å£æ‰“é–‹",removeLink:"ç§»é™¤éˆæŽ¥"},audioPlayer:{title:"æ’­æ”¾éŸ³é »æ–‡ä»¶"},videoPlayer:{title:"æ’­æ”¾è¦–é »æ–‡ä»¶",embedTitle:"åµŒå…¥å¼åª’é«”"},media:{image:"åœ–åƒ",video:"è¦–é »",audio:"éŸ³é »",embed:"åµŒå…¥å¼åª’é«”"}}},N=n(3),I=n(9),T=function(e){return function(t){return 83===t.keyCode&&(I.KeyBindingUtil.hasCommandModifier(t)||I.KeyBindingUtil.isCtrlKeyCommand(t))?"braft-save":e&&e(t)||Object(I.getDefaultKeyBinding)(t)}},D={language:"zh",controls:["undo","redo","separator","font-size","font-family","line-height","letter-spacing","separator","text-color","bold","italic","underline","strike-through","separator","superscript","subscript","remove-styles","emoji","text-align","separator","headings","list-ul","list-ol","blockquote","code","separator","link","split","hr","separator","media","separator","clear"],excludeControls:[],extendControls:[],extendAtomics:[],componentBelowControlBar:null,media:{pasteImage:!0,image:!0,video:!0,audio:!0,uploadFn:null,validateFn:null,onBeforeDeselect:null,onDeselect:null,onBeforeSelect:null,onSelect:null,onBeforeRemove:null,onRemove:null,onCancel:null,onFileSelect:null,onBeforeInsert:null,onInsert:null,onChange:null,externals:{audio:!0,video:!0,image:!0,embed:!0}},imageControls:["float-left","float-right","align-left","align-center","align-right","link","size","remove"],colors:["#000000","#333333","#666666","#999999","#cccccc","#ffffff","#61a951","#16a085","#07a9fe","#003ba5","#8e44ad","#f32784","#c0392b","#d35400","#f39c12","#fdda00","#7f8c8d","#2c3e50"],tabIndents:2,textAligns:["left","center","right","justify"],textBackgroundColor:!0,letterSpacings:[0,1,2,3,4,5,6],textIndents:[0,14,21,28],lineHeights:["1","1.2","1.5","1.75","2","2.5","3","4"],fontSizes:[12,14,16,18,20,24,28,30,32,36,40,48,56,64,72,96,120,144],fontFamilies:[{name:"Araial",family:"Arial, Helvetica, sans-serif"},{name:"Georgia",family:"Georgia, serif"},{name:"Impact",family:"Impact, serif"},{name:"Monospace",family:'"Courier New", Courier, monospace'},{name:"Tahoma",family:'tahoma, arial, "Hiragino Sans GB", å®‹ä½“, sans-serif'}],emojis:["ðŸ¤£","ðŸ™Œ","ðŸ’š","ðŸ’›","ðŸ‘","ðŸ˜‰","ðŸ’¯","ðŸ’•","ðŸ’ž","ðŸ’˜","ðŸ’™","ðŸ’","ðŸ–¤","ðŸ’œ","â¤ï¸","ðŸ˜","ðŸ˜»","ðŸ’“","ðŸ’—","ðŸ˜‹","ðŸ˜‡","ðŸ˜‚","ðŸ˜¹","ðŸ˜˜","ðŸ’–","ðŸ˜","ðŸ˜€","ðŸ¤ž","ðŸ˜²","ðŸ˜„","ðŸ˜Š","ðŸ‘","ðŸ˜Œ","ðŸ˜ƒ","ðŸ˜…","âœŒï¸","ðŸ¤—","ðŸ’‹","ðŸ˜—","ðŸ˜½","ðŸ˜š","ðŸ¤ ","ðŸ˜™","ðŸ˜º","ðŸ‘„","ðŸ˜¸","ðŸ˜","ðŸ˜¼","ðŸ‘Œ","ðŸ˜Ž","ðŸ˜†","ðŸ˜›","ðŸ™","ðŸ¤","ðŸ™‚","ðŸ¤‘","ðŸ˜","ðŸ˜","ðŸ˜‘","ðŸ¤¤","ðŸ˜¤","ðŸ™ƒ","ðŸ¤¡","ðŸ˜¶","ðŸ˜ª","ðŸ˜´","ðŸ˜µ","ðŸ˜“","ðŸ‘Š","ðŸ˜¦","ðŸ˜·","ðŸ¤","ðŸ˜œ","ðŸ¤“","ðŸ‘»","ðŸ˜¥","ðŸ™„","ðŸ¤”","ðŸ¤’","ðŸ™","ðŸ˜”","ðŸ˜¯","â˜¹ï¸","â˜ ï¸","ðŸ˜°","ðŸ˜©","ðŸ˜–","ðŸ˜•","ðŸ˜’","ðŸ˜£","ðŸ˜¢","ðŸ˜®","ðŸ˜¿","ðŸ¤§","ðŸ˜«","ðŸ¤¥","ðŸ˜ž","ðŸ˜¬","ðŸ‘Ž","ðŸ’€","ðŸ˜³","ðŸ˜¨","ðŸ¤•","ðŸ¤¢","ðŸ˜±","ðŸ˜­","ðŸ˜ ","ðŸ˜ˆ","ðŸ˜§","ðŸ’”","ðŸ˜Ÿ","ðŸ™€","ðŸ’©","ðŸ‘¿","ðŸ˜¡","ðŸ˜¾","ðŸ–•"],stripPastedStyles:!1,className:"",style:{},controlBarClassName:"",controlBarStyle:{},contentClassName:"",contentStyle:{},draftProps:{},hooks:{},onChange:null,onFocus:null,onBlur:null,onTab:null,onDelete:null,onSave:null},F=n(17),L=n(16),A=n.n(L),B=(n(45),n(44),function(e){var t=e.active,n=e.onClick,o=e.className;return w.a.createElement("div",{onClick:function(){return n()},className:"switch-button "+o+(t?" active":"")})}),R={"float-left":{text:w.a.createElement("span",{"data-float":"left"},"î¤ž"),command:"setImageFloat|left"},"float-right":{text:w.a.createElement("span",{"data-float":"right"},"î¤”"),command:"setImageFloat|right"},"align-left":{text:w.a.createElement("span",{"data-align":"left"},"î€§"),command:"setImageAlignment|left"},"align-center":{text:w.a.createElement("span",{"data-align":"center"},"î€¨"),command:"setImageAlignment|center"},"align-right":{text:w.a.createElement("span",{"data-align":"right"},"î€©"),command:"setImageAlignment|right"},size:{text:w.a.createElement("span",null,"î‚"),command:"toggleSizeEditor"},link:{text:w.a.createElement("span",null,"î¤š"),command:"toggleLinkEditor"},remove:{text:w.a.createElement("span",null,"î¦¬"),command:"removeImage"}},O=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{toolbarVisible:!1,toolbarOffset:0,linkEditorVisible:!1,sizeEditorVisible:!1,tempLink:null,tempWidth:null,tempHeight:null}),E()(k()(k()(n)),"handleDragStart",function(){return window.__BRAFT_DRAGING__IMAGE__={block:n.props.block,mediaData:i()({type:"IMAGE"},n.props.mediaData)},n.setState({toolbarVisible:!1},function(){n.props.editor.setDraftProps({readOnly:!1})}),!0}),E()(k()(k()(n)),"handleDragEnd",function(){return window.__BRAFT_DRAGING__IMAGE__=null,!1}),E()(k()(k()(n)),"executeCommand",function(e){if("string"==typeof e){var t=e.split("|"),o=A()(t,2),r=o[0],a=o[1];n[r]&&n[r](a)}else"function"==typeof e&&e(n.props.block,n.props.editorState)}),E()(k()(k()(n)),"removeImage",function(){n.props.editor.setValue(N.ContentUtils.removeBlock(n.props.editorState,n.props.block)),n.props.editor.setDraftProps({readOnly:!1})}),E()(k()(k()(n)),"toggleLinkEditor",function(){n.setState({linkEditorVisible:!n.state.linkEditorVisible,sizeEditorVisible:!1})}),E()(k()(k()(n)),"toggleSizeEditor",function(){n.setState({linkEditorVisible:!1,sizeEditorVisible:!n.state.sizeEditorVisible})}),E()(k()(k()(n)),"handleLinkInputKeyDown",function(e){13===e.keyCode&&n.confirmImageLink()}),E()(k()(k()(n)),"setImageLink",function(e){n.setState({tempLink:e.currentTarget.value})}),E()(k()(k()(n)),"confirmImageLink",function(){var e=n.state.tempLink;null!==e&&(n.props.editor.setValue(N.ContentUtils.setMediaData(n.props.editorState,n.props.entityKey,{link:e})),window.setImmediate(n.props.editor.forceRender))}),E()(k()(k()(n)),"handleSizeInputKeyDown",function(e){13===e.keyCode&&n.confirmImageSize()}),E()(k()(k()(n)),"setImageWidth",function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),n.setState({tempWidth:t})}),E()(k()(k()(n)),"setImageHeight",function(e){var t=e.currentTarget.value;t&&!isNaN(t)&&(t+="px"),n.setState({tempHeight:t})}),E()(k()(k()(n)),"confirmImageSize",function(){var e=n.state,t=e.tempWidth,o=e.tempHeight,r={};null!==t&&(r.width=t),null!==o&&(r.height=o),n.props.editor.setValue(N.ContentUtils.setMediaData(n.props.editorState,n.props.entityKey,r)),window.setImmediate(n.props.editor.forceRender)}),E()(k()(k()(n)),"setImageFloat",function(e){n.props.editor.setValue(N.ContentUtils.setMediaPosition(n.props.editorState,n.props.block,{float:e})),n.props.editor.setDraftProps({readOnly:!1})}),E()(k()(k()(n)),"setImageAlignment",function(e){n.props.editor.setValue(N.ContentUtils.setMediaPosition(n.props.editorState,n.props.block,{alignment:e})),n.props.editor.setDraftProps({readOnly:!1})}),E()(k()(k()(n)),"showToolbar",function(e){e.preventDefault(),n.state.toolbarVisible||n.setState({toolbarVisible:!0},function(){n.props.editor.setDraftProps({readOnly:!0}),n.setState({toolbarOffset:n.calcToolbarOffset()})})}),E()(k()(k()(n)),"hideToolbar",function(e){e.preventDefault(),n.setState({toolbarVisible:!1},function(){n.props.editor.setDraftProps({readOnly:!1})})}),n}return b()(t,e),p()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.mediaData,o=t.language,r=t.imageControls,a=this.state,i=a.toolbarVisible,l=a.toolbarOffset,s=a.linkEditorVisible,c=a.sizeEditorVisible,d=this.props.block.getData(),u=d.get("float"),p=d.get("alignment"),m=n.src,f=n.url,h=n.link,g=n.link_target,y=n.width,b=n.height,v={},k=!1;u?p=null:"left"===p?(v.float="left",k=!0):"right"===p?(v.float="right",k=!0):"center"===p?v.textAlign="center":(v.float="left",k=!0);var C=r.map(function(t,n){return"string"==typeof t&&R[t]?w.a.createElement("a",{className:"link"===t&&h?"active":"",key:n,href:"javascript:void(0);",onClick:function(){return e.executeCommand(R[t].command)}},R[t].text):t&&t.onClick&&t.text?w.a.createElement("a",{key:n,href:"javascript:void(0);",onClick:function(){return e.executeCommand(t.onClick)}},t.text):null});return w.a.createElement("div",{className:"braft-media-embeder braft-image-embeder"},w.a.createElement("div",{style:v,draggable:!0,onMouseEnter:this.showToolbar,onMouseMove:this.showToolbar,onMouseLeave:this.hideToolbar,onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,ref:function(t){return e.mediaEmbederInstance=t},className:"braft-embed-image"},i?w.a.createElement("div",{style:{marginLeft:l},ref:function(t){return e.toolbarElement=t},"data-float":u,"data-align":p,className:"braft-media-toolbar braft-media-image-toolbar"},s?w.a.createElement("div",{className:"braft-media-image-link-editor"},w.a.createElement("div",{className:"editor-input-group"},w.a.createElement("input",{type:"text",placeholder:o.linkEditor.inputWithEnterPlaceHolder,onKeyDown:this.handleLinkInputKeyDown,onChange:this.setImageLink,defaultValue:h}),w.a.createElement("button",{type:"button",onClick:this.confirmImageLink},o.base.confirm)),w.a.createElement("div",{className:"switch-group"},w.a.createElement(B,{active:"_blank"===g,onClick:function(){return e.setImageLinkTarget(g)}}),w.a.createElement("label",null,o.linkEditor.openInNewWindow))):null,c?w.a.createElement("div",{className:"braft-media-image-size-editor"},w.a.createElement("div",{className:"editor-input-group"},w.a.createElement("input",{type:"text",placeholder:o.base.width,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageWidth,defaultValue:y}),w.a.createElement("input",{type:"text",placeholder:o.base.height,onKeyDown:this.handleSizeInputKeyDown,onChange:this.setImageHeight,defaultValue:b}),w.a.createElement("button",{type:"button",onClick:this.confirmImageSize},o.base.confirm))):null,C,w.a.createElement("i",{style:{marginLeft:-1*l},className:"braft-embed-image-toolbar-arrow"})):null,w.a.createElement("img",{ref:function(t){return e.imageElement=t},src:m||f,style:{width:y,height:b},width:y,height:b})),k&&w.a.createElement("div",{className:"clearfix",style:{clear:"both",height:0,lineHeight:0,float:"none"}}))}},{key:"calcToolbarOffset",value:function(){var e=this.props.containerNode.getBoundingClientRect(),t=this.toolbarElement.getBoundingClientRect(),n=this.imageElement.getBoundingClientRect(),o=e.right-(n.right-n.width/2+t.width/2),r=n.left+n.width/2-t.width/2-e.left;return o<10?o-10:r<10?-1*r+10:0}},{key:"setImageLinkTarget",value:function(e){e="_blank"===e?"":"_blank",this.props.editor.setValue(N.ContentUtils.setMediaData(this.props.editorState,this.props.entityKey,{link_target:e})),window.setImmediate(this.props.editor.forceRender)}}]),t}(w.a.Component),U=(n(43),function(e){function t(){return d()(this,t),f()(this,g()(t).apply(this,arguments))}return b()(t,e),p()(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return w.a.createElement("div",null,this.props.children)}}]),t}(w.a.Component)),H=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{toolbarVisible:!1}),E()(k()(k()(n)),"removeVideo",function(){n.props.editor.setValue(N.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),E()(k()(k()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),E()(k()(k()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return b()(t,e),p()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.src,o=t.url,r=t.meta;return w.a.createElement("div",{className:"braft-media-video-holder",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},w.a.createElement(U,null,w.a.createElement("video",{controls:!0,src:n||o,poster:r.poster})),e?w.a.createElement("div",{className:"braft-embed-toolbar"},w.a.createElement("a",{onClick:this.removeVideo},"î¦¬")):null)}}]),t}(w.a.Component),M=(n(42),function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{toolbarVisible:!1}),E()(k()(k()(n)),"removeAudio",function(){n.props.editor.setValue(N.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),E()(k()(k()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),E()(k()(k()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return b()(t,e),p()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.src,o=t.url;return w.a.createElement("div",{className:"braft-media-audio-holder",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},w.a.createElement(U,null,w.a.createElement("audio",{controls:!0,src:n||o})),e?w.a.createElement("div",{className:"braft-media-toolbar"},w.a.createElement("a",{onClick:this.removeAudio},"î¦¬")):null)}}]),t}(w.a.Component)),V=(n(41),function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{toolbarVisible:!1}),E()(k()(k()(n)),"removeEmbed",function(){n.props.editor.setValue(N.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),E()(k()(k()(n)),"showToolbar",function(){n.setState({toolbarVisible:!0})}),E()(k()(k()(n)),"hideToolbar",function(){n.setState({toolbarVisible:!1})}),n}return b()(t,e),p()(t,[{key:"render",value:function(){var e=this.state.toolbarVisible,t=this.props.mediaData,n=t.src,o=t.url;return w.a.createElement("div",{className:"braft-media-embed-holder",onMouseOver:this.showToolbar,onMouseLeave:this.hideToolbar},w.a.createElement(U,null,w.a.createElement("div",{className:"braft-embed-media-player",dangerouslySetInnerHTML:{__html:n||o}})),e?w.a.createElement("div",{className:"braft-media-toolbar"},w.a.createElement("a",{onClick:this.removeEmbed},"î¦¬")):null)}}]),t}(w.a.Component)),P=(n(40),function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"removeHorizontalLine",function(){n.props.editor.setValue(N.ContentUtils.removeBlock(n.props.editorState,n.props.block))}),n}return b()(t,e),p()(t,[{key:"render",value:function(){return w.a.createElement("div",{className:"braft-horizontal-line"},w.a.createElement("div",{className:"braft-media-toolbar"},w.a.createElement("a",{onClick:this.removeHorizontalLine},"î¦¬")))}}]),t}(w.a.Component));var _=function(e,t){if(e.getModifierState("Shift")){var n=document.createElement("a");n.href=t,n.target="_blank",n.click()}},j=[{strategy:function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)},component:function(e){var t=e.children,n=e.entityKey,o=e.contentState.getEntity(n).getData(),r=o.href,a=o.target;return w.a.createElement("span",{className:"braft-link-wrap"},w.a.createElement("a",{onClick:function(e){return _(e,r)},className:"braft-link",href:r,target:a},t))}}],z=function(e,t){return function(n){var o=null;return"atomic"===n.getType()?o={component:function(e,t){return function(n){var o=n.block.getEntityAt(0);if(!o)return null;var r=n.contentState.getEntity(o),a=r.getData(),l=r.getType(),s=i()({},t,{block:e,mediaData:a,entityKey:o});if("IMAGE"===l)return React.createElement(O,s);if("AUDIO"===l)return React.createElement(M,s);if("VIDEO"===l)return React.createElement(H,s);if("EMBED"===l)return React.createElement(V,s);if("HR"===l)return React.createElement(P,s);if(t.extendAtomics)for(var c=t.extendAtomics,d=0;d<c.length;d++)if(l===c[d].type){var u=c[d].component;return React.createElement(u,s)}return null}}(n,e),editable:!1}:t&&(o=t(n)||null),o}},q=Object(F.Map)({atomic:{element:""},"code-block":{element:"code",wrapper:I.DefaultDraftBlockRenderMap.get("code-block").wrapper}}),G=function(e){return function(t){var n=t.getData()&&t.getData().get("textAlign"),o=t.getData()&&t.getData().get("float"),r="";return n&&(r="braft-".concat(n,"-aligned-block")),o&&(r+=" braft-float-".concat(o)),e&&(r+=e(t)),r}},K=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},o={},r={},a={},l={},s={},c={};return e.colors.forEach(function(e){var t=e.replace("#","").toUpperCase();n["COLOR-"+t]={color:e},o["BGCOLOR-"+t]={backgroundColor:e}}),e.fontSizes.forEach(function(e){r["FONTSIZE-"+e]={fontSize:e}}),e.fontFamilies.forEach(function(e){a["FONTFAMILY-"+e.name.toUpperCase()]={fontFamily:e.family}}),e.lineHeights.forEach(function(e){l["LINEHEIGHT-"+e]={lineHeight:e}}),e.letterSpacings.forEach(function(e){s["LETTERSPACING-"+e]={letterSpacing:e}}),e.textIndents.forEach(function(e){c["INDENT-"+e]={paddingLeft:e,paddingRight:e}}),i()({SUPERSCRIPT:{position:"relative",top:"-8px",fontSize:"11px"},SUBSCRIPT:{position:"relative",bottom:"-8px",fontSize:"11px"}},n,o,r,a,l,s,c,t)},W=j,J=n(11),Q=n.n(J),Y=(n(39),n(38),n(37),[]),Z=!1,X=!1,$=function(e){var t=N.BaseUtils.UniqueIndex();return Y.push({id:t,eventHandler:e}),t},ee=function(e){Y=Y.filter(function(t){return t.id!==e})};Z||(window.addEventListener("resize",function(e){clearTimeout(X),X=setTimeout(function(){Y.map(function(t){"function"==typeof t.eventHandler&&t.eventHandler(e)}),X=!1},100)}),Z=!0);var te=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"alive",!1),E()(k()(k()(n)),"responsiveResolveId",null),E()(k()(k()(n)),"dropDownHandlerElement",null),E()(k()(k()(n)),"dropDownContentElement",null),E()(k()(k()(n)),"componentId",n.props.componentId||"BRAFT-DROPDOWN-"+N.BaseUtils.UniqueIndex()),E()(k()(k()(n)),"state",{active:!1,offset:0,maxHeight:100}),n}return b()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;this.alive=!0,document.body.addEventListener("click",function(t){e.registerClickEvent(t)}),this.responsiveResolveId=$(function(){e.fixDropDownPosition()})}},{key:"componentWillReceiveProps",value:function(e){!this.props.disabled&&e.disabled&&this.hide()}},{key:"componentDidUpdate",value:function(e){!e.active&&this.state.active&&this.fixDropDownPosition()}},{key:"componentWillUnmount",value:function(){var e=this;document.body.removeEventListener("click",function(t){e.registerClickEvent(t)}),this.alive=!1,ee(this.responsiveResolveId)}},{key:"render",value:function(){var e=this,t=this.state,n=t.active,o=t.offset,r=t.maxHeight,a=this.props,i=a.caption,l=a.htmlCaption,s=a.hoverTitle,c=a.disabled,d=a.showDropDownArrow,u=a.arrowActive,p=a.className,m=a.children;return c&&(n=!1),w.a.createElement("div",{id:this.componentId,className:"Braft-dropdown "+(n?"active ":"")+(c?"disabled ":"")+p},l?w.a.createElement("button",{type:"button",className:"dropdown-handler",title:s,"data-braft-component-id":this.componentId,dangerouslySetInnerHTML:l?{__html:l}:null,ref:function(t){return e.dropDownHandlerElement=t}}):w.a.createElement("button",{type:"button",className:"dropdown-handler",title:s,"data-braft-component-id":this.componentId,ref:function(t){return e.dropDownHandlerElement=t}},w.a.createElement("span",null,i),!1!==d?w.a.createElement("i",{className:"braft-icon-drop-down"}):null),w.a.createElement("div",{className:"dropdown-content",style:{marginLeft:o},ref:function(t){return e.dropDownContentElement=t}},w.a.createElement("i",{style:{marginLeft:-1*o},className:"dropdown-arrow"+(u?" active":"")}),w.a.createElement("div",{className:"dropdown-content-inner",style:{maxHeight:r}},m)))}},{key:"fixDropDownPosition",value:function(){var e=this.props.containerNode.getBoundingClientRect(),t=this.props.containerNode.querySelector(".BraftEditor-content").getBoundingClientRect(),n=this.dropDownHandlerElement.getBoundingClientRect(),o=this.dropDownContentElement.getBoundingClientRect(),r=t.height+(t.top-(n.top+n.height))-30,a=0,i=n.right-n.width/2+o.width/2,l=n.left+n.width/2-o.width/2;i=e.right-i,l-=e.left,i<10?a=i-10:l<10&&(a=-1*l+10),a===this.state.offset&&r===this.state.maxHeight||this.setState({offset:a,maxHeight:r})}},{key:"registerClickEvent",value:function(e){var t=this.props.autoHide,n=!1;e.target.dataset.braftComponentId===this.componentId?n=!!e.target.dataset.keepActive||!this.state.active:!1===t&&(n=this.state.active),this.alive&&this.setState({active:n})}},{key:"show",value:function(){this.setState({active:!0})}},{key:"hide",value:function(){this.setState({active:!1})}}]),t}(w.a.Component),ne=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{href:"",target:""}),E()(k()(k()(n)),"dropDownComponent",null),E()(k()(k()(n)),"handeKeyDown",function(e){if(13===e.keyCode)return n.handleConfirm(),e.preventDefault(),!1}),E()(k()(k()(n)),"inputLink",function(e){n.setState({href:e.currentTarget.value})}),E()(k()(k()(n)),"setTarget",function(){n.setState({target:"_blank"===n.state.target?"":"_blank"})}),E()(k()(k()(n)),"handleCancel",function(){n.dropDownComponent.hide()}),E()(k()(k()(n)),"handleUnlink",function(){n.dropDownComponent.hide(),n.props.editor.setValue(N.ContentUtils.toggleSelectionLink(n.props.editorState,!1))}),E()(k()(k()(n)),"handleConfirm",function(){var e=n.state,t=e.href,o=e.target,r=n.props.hooks("toggle-link",{href:t,target:o})({href:t,target:o});if(n.dropDownComponent.hide(),n.props.editor.requestFocus(),!1===r)return!1;r&&("string"==typeof r.href&&(t=r.href),"string"==typeof r.target&&(o=r.target)),n.props.editor.setValue(N.ContentUtils.toggleSelectionLink(n.props.editorState,t,o))}),n}return b()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){var t=N.ContentUtils.getSelectionEntityData(e.editorState,"LINK"),n=t.href,o=t.target;this.setState({href:n||"",target:o||""})}},{key:"render",value:function(){var e=this,t=this.state,n=t.href,o=t.target,r=w.a.createElement("i",{className:"braft-icon-link"}),a=!N.ContentUtils.isSelectionCollapsed(this.props.editorState)&&"atomic"!==N.ContentUtils.getSelectionBlockType(this.props.editorState);return w.a.createElement("div",{className:"control-item-group"},w.a.createElement(te,{caption:r,hoverTitle:this.props.language.controls.link,autoHide:!1,containerNode:this.props.containerNode,showDropDownArrow:!1,disabled:!a,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown link-editor-dropdown"},w.a.createElement("div",{className:"braft-link-editor"},w.a.createElement("div",{className:"input-group"},w.a.createElement("input",{type:"text",value:n,spellCheck:!1,placeholder:this.props.language.linkEditor.inputPlaceHolder,onKeyDown:this.handeKeyDown,onChange:this.inputLink})),w.a.createElement("div",{className:"switch-group"},w.a.createElement(B,{active:"_blank"===o,onClick:this.setTarget}),w.a.createElement("label",null,this.props.language.linkEditor.openInNewWindow)),w.a.createElement("div",{className:"buttons"},w.a.createElement("a",{onClick:this.handleUnlink,className:"primary pull-left",href:"javascript:void(0);"},w.a.createElement("i",{className:"braft-icon-close"}),w.a.createElement("span",null,this.props.language.linkEditor.removeLink)),w.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"primary pull-right"},this.props.language.base.confirm),w.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"default pull-right"},this.props.language.base.cancel)))),w.a.createElement("button",{type:"button",title:this.props.language.controls.unlink,className:"control-item button",onClick:this.handleUnlink,disabled:!a||!n},w.a.createElement("i",{className:"braft-icon-link-off"})))}}]),t}(w.a.Component),oe=(n(36),function(e){var t=function(e){return[{key:"header-one",title:e.controls.header+" 1",text:w.a.createElement("h1",null,e.controls.header," 1"),type:"block-type",command:"header-one"},{key:"header-two",title:e.controls.header+" 2",text:w.a.createElement("h2",null,e.controls.header," 2"),type:"block-type",command:"header-two"},{key:"header-three",title:e.controls.header+" 3",text:w.a.createElement("h3",null,e.controls.header," 3"),type:"block-type",command:"header-three"},{key:"header-four",title:e.controls.header+" 4",text:w.a.createElement("h4",null,e.controls.header," 4"),type:"block-type",command:"header-four"},{key:"header-five",title:e.controls.header+" 5",text:w.a.createElement("h5",null,e.controls.header," 5"),type:"block-type",command:"header-five"},{key:"header-six",title:e.controls.header+" 6",text:w.a.createElement("h6",null,e.controls.header," 6"),type:"block-type",command:"header-six"},{key:"unstyled",title:e.controls.normal,text:e.controls.normal,type:"block-type",command:"unstyled"}]}(e.language),n=t.findIndex(function(t){return t.command===e.current}),o=t[n]?t[n].title:e.language.controls.normal;return w.a.createElement(te,{caption:o,containerNode:e.containerNode,hoverTitle:e.language.controls.headings,arrowActive:0===n,className:"control-item dropdown headings-dropdown"},w.a.createElement("ul",{className:"menu"},t.map(function(t,n){var o=e.current===t.command;return w.a.createElement("li",{key:n,className:"menu-item"+(o?" active":""),onClick:function(){return e.onChange(t.command,t.type)}},t.text)})))}),re=(n(35),n(34),function(e){var t=e.current,n=e.colors;return w.a.createElement("div",{className:"braft-color-list-wrap"},w.a.createElement("ul",{className:"braft-color-list"},n.map(function(n,o){var r=n===t?"color-item active":"color-item";return w.a.createElement("li",{key:o,title:n,className:r,style:{color:n},"data-color":n.replace("#",""),onClick:function(t){return e.onChange(t.currentTarget.dataset.color)}})})))}),ae=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{colorType:"color"}),E()(k()(k()(n)),"dropDownComponentId","BRAFT-DROPDOWN-"+N.BaseUtils.UniqueIndex()),E()(k()(k()(n)),"switchColorType",function(e){var t=e.currentTarget;n.setState({colorType:t.dataset.type})}),E()(k()(k()(n)),"toggleColor",function(e){var t=n.props.hooks("toggle-text-".concat(n.state.colorType),e)(e);if(!1===t)return!1;"string"==typeof t&&(e=t),"color"===n.state.colorType?n.props.editor.setValue(N.ContentUtils.toggleSelectionColor(n.props.editorState,e,n.props.colors)):n.props.editor.setValue(N.ContentUtils.toggleSelectionBackgroundColor(n.props.editorState,e,n.props.colors)),n.dropDownComponent.hide(),n.props.editor.requestFocus()}),n}return b()(t,e),p()(t,[{key:"render",value:function(){var e=this,t={},n=null,o=this.state.colorType;this.props.colors.forEach(function(r){var a=r.replace("#","");N.ContentUtils.selectionHasInlineStyle(e.props.editorState,"COLOR-"+a)&&(t.color=r,"color"===o&&(n=r)),N.ContentUtils.selectionHasInlineStyle(e.props.editorState,"BGCOLOR-"+a)&&(t.backgroundColor=r,"background-color"===o&&(n=r))});var r=w.a.createElement("i",{style:t,className:"braft-icon-text-color"},w.a.createElement("span",{className:"path1"}),w.a.createElement("span",{className:"path2"}));return w.a.createElement(te,{caption:r,hoverTitle:this.props.language.controls.color,showDropDownArrow:!1,containerNode:this.props.containerNode,componentId:this.dropDownComponentId,ref:function(t){return e.dropDownComponent=t},className:"control-item dropdown text-color-dropdown"},w.a.createElement("div",{className:"braft-text-color-picker-wrap"},w.a.createElement("div",{className:"braft-color-switch-buttons",style:this.props.enableBackgroundColor?{}:{display:"none"}},w.a.createElement("button",{type:"button","data-type":"color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"color"===o?"active":"",onClick:this.switchColorType},this.props.language.controls.textColor),w.a.createElement("button",{type:"button","data-type":"background-color","data-keep-active":!0,"data-braft-component-id":this.dropDownComponentId,className:"background-color"===o?"active":"",onClick:this.switchColorType},this.props.language.controls.backgroundColor)),w.a.createElement(re,{width:200,language:this.props.language,current:n,disableAlpha:!0,colors:this.props.colors,onChange:this.toggleColor})))}}]),t}(w.a.Component),ie=(n(33),function(e){var t=null,n=null;return e.fontSizes.find(function(o){return!!N.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTSIZE-"+o)&&(t=o+"px",n=o,!0)}),w.a.createElement(te,{caption:t||e.defaultCaption,containerNode:e.containerNode,hoverTitle:e.language.controls.fontSize,className:"control-item dropdown braft-font-size-dropdown"},w.a.createElement("ul",{className:"braft-font-sizes-wrap"},e.fontSizes.map(function(t,o){return w.a.createElement("li",{key:o,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-font-size",n)(n);if(!1===o)return!1;isNaN(n)||(n=o),t.editor.setValue(N.ContentUtils.toggleSelectionFontSize(t.editorState,n,t.fontSizes)),t.editor.requestFocus()}(t,e)}},t+"px")})))}),le=(n(32),function(e){var t=null,n=null;return e.lineHeights.find(function(o){return!!N.ContentUtils.selectionHasInlineStyle(e.editorState,"LINEHEIGHT-"+o)&&(t=o,n=o,!0)}),w.a.createElement(te,{caption:t||e.defaultCaption,containerNode:e.containerNode,hoverTitle:e.language.controls.lineHeight,className:"control-item dropdown braft-line-height-dropdown"},w.a.createElement("ul",{className:"braft-line-heights-wrap"},e.lineHeights.map(function(t,o){return w.a.createElement("li",{key:o,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-line-height",n)(n);if(!1===o)return!1;isNaN(o)||(n=o),t.editor.setValue(N.ContentUtils.toggleSelectionLineHeight(t.editorState,n,t.lineHeights)),t.editor.requestFocus()}(t,e)}},t)})))}),se=(n(31),function(e){var t=null,n=null;return e.fontFamilies.find(function(o,r){return!!N.ContentUtils.selectionHasInlineStyle(e.editorState,"FONTFAMILY-"+o.name)&&(t=o.name,n=r,!0)}),w.a.createElement(te,{caption:t||e.defaultCaption,containerNode:e.containerNode,hoverTitle:e.language.controls.fontFamily,arrowActive:0===n,className:"control-item dropdown font-family-dropdown"},w.a.createElement("ul",{className:"menu"},e.fontFamilies.map(function(t,o){return w.a.createElement("li",{key:o,className:"menu-item "+(o===n?"active":""),"data-name":t.name,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.name,o=t.hooks("toggle-font-family",n)(n,t.fontFamilies);if(!1===o)return!1;"string"==typeof o&&(n=o),t.editor.setValue(N.ContentUtils.toggleSelectionFontFamily(t.editorState,n,t.fontFamilies)),t.editor.requestFocus()}(t,e)}},w.a.createElement("span",{style:{fontFamily:t.family}},t.name))})))}),ce=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"state",{currentAlignment:void 0}),E()(k()(k()(n)),"setAlignment",function(e){var t=e.currentTarget.dataset.alignment,o=n.props.hooks("toggle-text-alignment",t)(t);n.props.textAligns.indexOf(o)>-1&&(t=o),n.props.editor.setValue(N.ContentUtils.toggleSelectionAlignment(n.props.editorState,t)),n.props.editor.requestFocus()}),n}return b()(t,e),p()(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({currentAlignment:N.ContentUtils.getSelectionBlockData(e.editorState,"textAlign")})}},{key:"render",value:function(){var e=this,t=[this.props.language.controls.alignLeft,this.props.language.controls.alignCenter,this.props.language.controls.alignRight,this.props.language.controls.alignJustify];return w.a.createElement("div",{className:"control-item-group"},this.props.textAligns.map(function(n,o){return w.a.createElement("button",{type:"button",key:o,title:t[o],"data-alignment":n,className:"control-item button "+(n===e.state.currentAlignment?"active":null),onClick:e.setAlignment},w.a.createElement("i",{className:"braft-icon-align-"+n}))}))}}]),t}(w.a.Component),de=(n(30),function(e){return w.a.createElement(te,{caption:e.defaultCaption,showDropDownArrow:!1,containerNode:e.containerNode,hoverTitle:e.language.controls.emoji,className:"control-item dropdown braft-emoji-dropdown"},w.a.createElement("div",{className:"braft-emojis-wrap"},w.a.createElement("ul",{className:"braft-emojis"},e.emojis.map(function(t,n){return w.a.createElement("li",{key:n,"data-emoji":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.emoji,o=t.hooks("insert-emoji",n)(n);if(!1===o)return!1;"string"==typeof o&&(n=o),t.editor.setValue(N.ContentUtils.insertText(t.editorState,n)),t.editor.requestFocus()}(t,e)}},t)}))))}),ue=(n(29),function(e){var t=null,n=null;return e.letterSpacings.find(function(o){return!!N.ContentUtils.selectionHasInlineStyle(e.editorState,"LETTERSPACING-"+o)&&(t=o,n=o,!0)}),w.a.createElement(te,{caption:t||e.defaultCaption,containerNode:e.containerNode,hoverTitle:e.language.controls.letterSpacing,className:"control-item dropdown braft-letter-spacing-dropdown"},w.a.createElement("ul",{className:"braft-letter-spacings-wrap"},e.letterSpacings.map(function(t,o){return w.a.createElement("li",{key:o,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-letter-spacing",n)(n);if(!1===o)return!1;isNaN(o)||(n=o),t.editor.setValue(N.ContentUtils.toggleSelectionLetterSpacing(t.editorState,n,t.letterSpacings)),t.editor.requestFocus()}(t,e)}},t)})))}),pe=(n(28),function(e){var t=null,n=null;return e.textIndents.find(function(o){return!!N.ContentUtils.selectionHasInlineStyle(e.editorState,"INDENT-"+o)&&(t=o,n=o,!0)}),w.a.createElement(te,{caption:t||e.defaultCaption,containerNode:e.containerNode,hoverTitle:e.language.controls.textIndent,className:"control-item dropdown braft-indent-dropdown"},w.a.createElement("ul",{className:"braft-text-indents-wrap"},e.textIndents.map(function(t,o){return w.a.createElement("li",{key:o,className:t===n?"active":null,"data-size":t,onClick:function(t){return function(e,t){var n=e.currentTarget.dataset.size,o=t.hooks("toggle-text-indent",n)(n);if(!1===o)return!1;isNaN(o)||(n=o),t.editor.setValue(N.ContentUtils.toggleSelectionIndent(t.editorState,n,t.textIndents)),t.editor.requestFocus()}(t,e)}},t)})))}),me=(n(27),n(14)),fe=n.n(me),he=function(e){function t(e){var n;return d()(this,t),n=f()(this,g()(t).call(this,e)),E()(k()(k()(n)),"handleTransitionEnd",function(){if(!n.rootElement||!n.rootElement.classList)return!1;n.rootElement.classList.contains("active")||fe.a.unmountComponentAtNode(n.rootElement)&&n.rootElement.parentNode.removeChild(n.rootElement)}),E()(k()(k()(n)),"handleCancel",function(){n.props.closeOnCancel&&n.close(),n.props.onCancel&&n.props.onCancel()}),E()(k()(k()(n)),"handleConfirm",function(){n.props.closeOnConfirm&&n.close(),n.props.onConfirm&&n.props.onConfirm()}),E()(k()(k()(n)),"close",function(){n.unrenderComponent(),n.props.onClose&&n.props.onClose()}),n.active=!1,n.componentId="BRAFT-MODAL-"+N.BaseUtils.UniqueIndex(),n}return b()(t,e),p()(t,[{key:"componentDidMount",value:function(){this.props.visible&&(this.active=!0,this.renderComponent(this.props))}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible?this.unrenderComponent():(this.props.visible||e.visible)&&(this.active=!0,this.renderComponent(e))}},{key:"render",value:function(){return null}},{key:"unrenderComponent",value:function(){this.active=!1,this.activeId&&window.clearImmediate(this.activeId),this.rootElement&&this.rootElement.classList&&this.rootElement.classList.remove("active")}},{key:"renderComponent",value:function(e){var t=this;if(!this.active)return!1;var n=e.title,o=e.className,r=e.width,a=e.height,i=e.children,l=e.confirmable,s=e.showFooter,c=e.showCancel,d=e.showConfirm,u=e.showClose,p=e.cancelText,m=e.confirmText,f=e.bottomText,h=e.language;void 0===c&&(c=!0),void 0===u&&(u=!0),void 0===d&&(d=!0);var g=w.a.createElement("div",{className:"braft-modal "+(o||"")},w.a.createElement("div",{className:"braft-modal-mask"}),w.a.createElement("div",{onTransitionEnd:this.handleTransitionEnd,style:{width:r,height:a},className:"braft-modal-content"},w.a.createElement("div",{className:"braft-modal-header"},w.a.createElement("h3",{className:"braft-modal-caption"},n),u&&w.a.createElement("button",{type:"button",onClick:this.close,className:"braft-modal-close-button"},w.a.createElement("i",{className:"braft-icon-close"}))),w.a.createElement("div",{className:"braft-modal-body"},i),s?w.a.createElement("div",{className:"braft-modal-footer"},w.a.createElement("div",{className:"braft-modal-addon-text"},f),w.a.createElement("div",{className:"braft-modal-buttons"},c&&w.a.createElement("button",{type:"button",onClick:this.handleCancel,className:"braft-modal-cancel"},p||h.base.cancel),d&&w.a.createElement("button",{type:"button",onClick:this.handleConfirm,className:"braft-modal-confirm "+(l?"":"disabled")},m||h.base.confirm))):null));this.rootElement=document.querySelector("#"+this.componentId),this.rootElement||(this.rootElement=document.createElement("div"),this.rootElement.id=this.componentId,this.rootElement.className="braft-modal-root",document.body.appendChild(this.rootElement)),fe.a.render(g,this.rootElement),this.activeId=window.setImmediate(function(){t.rootElement.classList.add("active")})}}]),t}(w.a.Component);E()(he,"defaultProps",{showFooter:!0});var ge=function(e){var t=document.createElement("div");t.style.display="none",document.body.appendChild(t);var n=function(){fe.a.unmountComponentAtNode(t)&&t.parentNode.removeChild(t)},o={onConfirm:function(){n(),e.onConfirm&&e.onConfirm()},onCancel:function(){n(),e.onCancel&&e.onCancel()},onClose:function(){n(),e.onClose&&e.onClose()},visible:!0,closeOnConfirm:!0,closeOnCancel:!0},r=fe.a.render(w.a.createElement(he,Q()({},e,o)),t);return r.destroy=n,r.update=r.renderComponent,r},ye={"inline-style":"toggle-inline-style","block-type":"change-block-type","editor-method":"exec-editor-command"},be=function(e){function t(){var e,n;d()(this,t);for(var o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return n=f()(this,(e=g()(t)).call.apply(e,[this].concat(r))),E()(k()(k()(n)),"mediaLibiraryModal",null),E()(k()(k()(n)),"extendedModals",{}),E()(k()(k()(n)),"openBraftFinder",function(){if(!n.props.braftFinder||!n.props.braftFinder.ReactComponent)return!1;if(!1===n.props.hooks("open-braft-finder")())return!1;var e=n.props.media,t=n.props.braftFinder.ReactComponent;n.mediaLibiraryModal=ge({title:n.props.language.controls.mediaLibirary,language:n.props.language,width:640,showFooter:!1,children:w.a.createElement(t,{onCancel:n.closeBraftFinder,onInsert:n.insertMedias,onChange:e.onChange,externals:e.externals,onBeforeSelect:n.bindBraftFinderHook("select-medias"),onBeforeDeselect:n.bindBraftFinderHook("deselect-medias"),onBeforeRemove:n.bindBraftFinderHook("remove-medias"),onBeforeInsert:n.bindBraftFinderHook("insert-medias"),onFileSelect:n.bindBraftFinderHook("select-files")})})}),E()(k()(k()(n)),"bindBraftFinderHook",function(e){return function(){return n.props.hooks(e,arguments.length<=0?void 0:arguments[0]).apply(void 0,arguments)}}),E()(k()(k()(n)),"insertMedias",function(e){n.props.editor.setValue(N.ContentUtils.insertMedias(n.props.editorState,e)),n.props.editor.requestFocus(),n.props.media.onInsert&&n.props.media.onInsert(e),n.closeBraftFinder()}),E()(k()(k()(n)),"closeBraftFinder",function(){n.props.media.onCancel&&n.props.media.onCancel(),n.mediaLibiraryModal&&n.mediaLibiraryModal.close()}),n}return b()(t,e),p()(t,[{key:"componentDidUpdate",value:function(){var e=this,t=this.props,n=t.controls,o=t.language;n.forEach(function(t){"modal"===t.type&&t.modal&&t.modal.id&&e.extendedModals[t.modal.id]&&e.extendedModals[t.modal.id].update(i()({},t.modal,{language:o}))})}},{key:"getControlItemClassName",value:function(e){var t="control-item button",n=e.type,o=e.command;return"inline-style"===n&&N.ContentUtils.selectionHasInlineStyle(this.props.editorState,o)?t+=" active":"block-type"===n&&N.ContentUtils.getSelectionBlockType(this.props.editorState)===o&&(t+=" active"),t}},{key:"applyControl",value:function(e,t){var n=this.props.hooks(ye[t]||t,e)(e);if(!1===n)return!1;"string"==typeof n&&(e=n),"inline-style"===t?this.props.editor.setValue(N.ContentUtils.toggleSelectionInlineStyle(this.props.editorState,e)):"block-type"===t?this.props.editor.setValue(N.ContentUtils.toggleSelectionBlockType(this.props.editorState,e)):"editor-method"===t&&this.props.editor[e]&&this.props.editor[e](),this.props.editor.requestFocus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.editor,o=t.editorState,r=t.controls,a=t.media,l=t.extendControls,c=t.language,d=t.hooks,u=t.colors,p=t.fontSizes,m=t.fontFamilies,f=t.emojis,h=t.containerNode,g=t.lineHeights,y=t.letterSpacings,b=t.textAligns,v=t.textBackgroundColor,k=t.textIndents,C=N.ContentUtils.getSelectionBlockType(o),E=function(e){return[{key:"undo",title:e.controls.undo,text:w.a.createElement("i",{className:"braft-icon-undo"}),type:"editor-method",command:"undo"},{key:"redo",title:e.controls.redo,text:w.a.createElement("i",{className:"braft-icon-redo"}),type:"editor-method",command:"redo"},{key:"remove-styles",title:e.controls.removeStyles,text:w.a.createElement("i",{className:"braft-icon-format_clear"}),type:"editor-method",command:"removeSelectionInlineStyles"},{key:"hr",title:e.controls.hr,text:w.a.createElement("i",{className:"braft-icon-hr"}),type:"editor-method",command:"insertHorizontalLine"},{key:"bold",title:e.controls.bold,text:w.a.createElement("i",{className:"braft-icon-bold"}),type:"inline-style",command:"bold"},{key:"italic",title:e.controls.italic,text:w.a.createElement("i",{className:"braft-icon-italic"}),type:"inline-style",command:"italic"},{key:"underline",title:e.controls.underline,text:w.a.createElement("i",{className:"braft-icon-underlined"}),type:"inline-style",command:"underline"},{key:"strike-through",title:e.controls.strikeThrough,text:w.a.createElement("i",{className:"braft-icon-strikethrough"}),type:"inline-style",command:"strikethrough"},{key:"superscript",title:e.controls.superScript,text:w.a.createElement("i",{className:"braft-icon-superscript"}),type:"inline-style",command:"superscript"},{key:"subscript",title:e.controls.subScript,text:w.a.createElement("i",{className:"braft-icon-subscript"}),type:"inline-style",command:"subscript"},{key:"headings",title:e.controls.headings,type:"headings"},{key:"blockquote",title:e.controls.blockQuote,text:w.a.createElement("i",{className:"braft-icon-quote"}),type:"block-type",command:"blockquote"},{key:"code",title:e.controls.code,text:w.a.createElement("i",{className:"braft-icon-code"}),type:"block-type",command:"code-block"},{key:"list-ul",title:e.controls.unorderedList,text:w.a.createElement("i",{className:"braft-icon-list"}),type:"block-type",command:"unordered-list-item"},{key:"list-ol",title:e.controls.orderedList,text:w.a.createElement("i",{className:"braft-icon-list-numbered"}),type:"block-type",command:"ordered-list-item"},{key:"link",title:e.controls.link,type:"link"},{key:"text-color",title:e.controls.color,type:"text-color"},{key:"line-height",title:e.controls.lineHeight,type:"line-height"},{key:"letter-spacing",title:e.controls.letterSpacing,type:"letter-spacing"},{key:"text-indent",title:e.controls.textIndent,type:"text-indent"},{key:"font-size",title:e.controls.fontSize,type:"font-size"},{key:"font-family",title:e.controls.fontFamily,type:"font-family"},{key:"text-align",title:e.controls.textAlign,type:"text-align"},{key:"media",title:e.controls.media,text:w.a.createElement("i",{className:"braft-icon-media"}),type:"media"},{key:"emoji",title:e.controls.emoji,text:w.a.createElement("i",{className:"braft-icon-emoji"}),type:"emoji"},{key:"clear",title:e.controls.clear,text:e.controls.clear,type:"editor-method",command:"clearEditorContent"},{key:"modal",type:"modal"},{key:"button",type:"button"},{key:"dropdown",type:"dropdown"},{key:"component",type:"component"}]}(c),S={editor:n,editorState:o,language:c,containerNode:h,hooks:d},x=[];return w.a.createElement("div",{className:"BraftEditor-controlBar"},s()(r).concat(s()(l)).map(function(t,n){var o="string"==typeof t?t:t.key;if("string"!=typeof o)return null;if(x.indexOf(o)>-1)return null;if("separator"===o.toLowerCase())return w.a.createElement("span",{key:n,className:"separator-line"});var r=E.find(function(e){return e.key.toLowerCase()===o.toLowerCase()});return"string"!=typeof t&&(r=i()({},r,t)),r?(x.push(o),"headings"===r.type?w.a.createElement(oe,Q()({key:n,current:C,onChange:function(t){return e.applyControl(t,"block-type")}},S)):"text-color"===r.type?w.a.createElement(ae,Q()({key:n,colors:u,enableBackgroundColor:v},S)):"font-size"===r.type?w.a.createElement(ie,Q()({key:n,fontSizes:p,defaultCaption:r.title},S)):"line-height"===r.type?w.a.createElement(le,Q()({key:n,lineHeights:g,defaultCaption:r.title},S)):"letter-spacing"===r.type?w.a.createElement(ue,Q()({key:n,letterSpacings:y,defaultCaption:r.title},S)):"text-indent"===r.type?w.a.createElement(pe,Q()({key:n,textIndents:k,defaultCaption:r.title},S)):"font-family"===r.type?w.a.createElement(se,Q()({key:n,fontFamilies:m,defaultCaption:r.title},S)):"emoji"===r.type?w.a.createElement(de,Q()({key:n,emojis:f,defaultCaption:r.text},S)):"link"===r.type?w.a.createElement(ne,Q()({key:n},S)):"text-align"===r.type?w.a.createElement(ce,Q()({key:n,textAligns:b},S)):"media"===r.type?a.image||a.video||a.audio?w.a.createElement("button",{type:"button",key:n,title:r.title,className:"control-item media button",onClick:e.openBraftFinder},r.text):null:"dropdown"===r.type?w.a.createElement(te,{key:n,className:"control-item extend-control-item dropdown "+r.className,caption:r.text,htmlCaption:r.html,showDropDownArrow:r.showDropDownArrow,containerNode:r.containerNode,hoverTitle:r.hoverTitle,arrowActive:r.arrowActive,autoHide:r.autoHide,disabled:r.disabled,ref:r.ref},r.component):"modal"===r.type?w.a.createElement("button",{type:"button",key:n,title:r.hoverTitle,className:"control-item extend-control-item button "+r.className,dangerouslySetInnerHTML:r.html?{__html:r.html}:null,onClick:function(t){r.modal&&r.modal.id&&(e.extendedModals[r.modal.id]?(e.extendedModals[r.modal.id].active=!0,e.extendedModals[r.modal.id].update(i()({},r.modal,{language:c}))):(e.extendedModals[r.modal.id]=ge(i()({},r.modal,{language:c})),r.modal.onCreate&&r.modal.onCreate(e.extendedModals[r.modal.id]))),r.onClick&&r.onClick(t)}},r.html?null:r.text):"component"===r.type?w.a.createElement("div",{key:n,className:"control-item component-wrapper "+r.className},r.component):"button"===r.type?w.a.createElement("button",{type:"button",key:n,title:r.hoverTitle,className:"control-item button "+r.className,dangerouslySetInnerHTML:r.html?{__html:r.html}:null,onClick:function(e){return r.onClick&&r.onClick(e)}},r.html?null:r.text):w.a.createElement("button",{type:"button",key:n,title:r.title,className:e.getControlItemClassName({type:r.type,command:r.command}),onClick:function(){return e.applyControl(r.command,r.type)}},r.text)):null}))}}]),t}(w.a.Component),ve=new I.CompositeDecorator(W),ke=function(e){function t(e){var n;d()(this,t),n=f()(this,g()(t).call(this,e)),E()(k()(k()(n)),"onChange",function(e){n.setState({editorState:e},function(){n.props.onChange&&n.props.onChange(e)})}),E()(k()(k()(n)),"getDraftInstance",function(){return n.draftInstance}),E()(k()(k()(n)),"getFinderInstance",function(){return n.braftFinder}),E()(k()(k()(n)),"getValue",function(){return n.state.editorState}),E()(k()(k()(n)),"setValue",function(e){return n.onChange(e)}),E()(k()(k()(n)),"forceRender",function(){return n.setValue(N.ContentUtils.createEditorState(n.state.editorState.getCurrentContent(),ve))}),E()(k()(k()(n)),"onTab",function(e){if("code-block"===N.ContentUtils.getSelectionBlockType(n.state.editorState))return n.insertText(" ".repeat(n.props.tabIndents),!1),e.preventDefault(),!1;n.props.onTab&&n.props.onTab(e)}),E()(k()(k()(n)),"onFocus",function(){n.isFocused=!0,n.props.onFocus&&n.props.onFocus()}),E()(k()(k()(n)),"onBlur",function(){n.isFocused=!1,n.props.onBlur&&n.props.onBlur()}),E()(k()(k()(n)),"requestFocus",function(){setTimeout(function(){return n.draftInstance.focus()},0)}),E()(k()(k()(n)),"handleKeyCommand",function(e){if("braft-save"===e)return n.props.onSave&&n.props.onSave(),"handled";var t=N.ContentUtils.handleKeyCommand(n.state.editorState,e);return t?(n.setValue(t),"handled"):"not-handled"}),E()(k()(k()(n)),"handleReturn",function(e){var t=N.ContentUtils.getSelectionBlock(n.state.editorState),o=t.getType();if("unordered-list-item"===o||"ordered-list-item"===o)return 0===t.getLength()?(n.setValue(N.ContentUtils.toggleSelectionBlockType(n.state.editorState,"unstyled")),"handled"):"not-handled";if("code-block"===o)return 13===e.which&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))?(n.setValue(N.ContentUtils.toggleSelectionBlockType(n.state.editorState,"unstyled")),"handled"):"not-handled";var r=N.ContentUtils.handleNewLine(n.state.editorState,e);return r?(n.setValue(r),"handled"):"not-handled"}),E()(k()(k()(n)),"handleDrop",function(e,t){if(window&&window.__BRAFT_DRAGING__IMAGE__){var o=N.ContentUtils.removeBlock(n.state.editorState,window.__BRAFT_DRAGING__IMAGE__.block,e);return o=N.ContentUtils.insertMedias(o,[window.__BRAFT_DRAGING__IMAGE__.mediaData]),window.__BRAFT_DRAGING__IMAGE__=null,n.setDraftProps({readOnly:!1}),n.setValue(o),"handled"}return t&&t.getText()?"not-handled":"handled"}),E()(k()(k()(n)),"handleDroppedFiles",function(e,t){return n.resolveFiles(t)}),E()(k()(k()(n)),"handlePastedFiles",function(e){return n.resolveFiles(e)}),E()(k()(k()(n)),"handlePastedText",function(e,t){if(!t||n.props.stripPastedStyles)return!1;var o=N.ColorUtils.detectColorsFromHTMLString(t);return n.setState({tempColors:s()(n.state.tempColors).concat(s()(o)).filter(function(e){return-1===n.props.colors.indexOf(e)}).filter(function(e,t,n){return n.indexOf(e)===t})},function(){n.setValue(N.ContentUtils.insertHTML(n.state.editorState,t))}),!0}),E()(k()(k()(n)),"resolveFiles",function(e){return e[0]&&e[0].type.indexOf("image")>-1&&n.props.media&&n.props.media.pasteImage?(n.braftFinder.uploadImage(e[0],function(e){n.setValue(N.ContentUtils.insertMedias(n.state.editorState,[e]))}),"handled"):"not-handled"}),E()(k()(k()(n)),"undo",function(){n.setValue(N.ContentUtils.undo(n.state.editorState))}),E()(k()(k()(n)),"redo",function(){n.setValue(N.ContentUtils.redo(n.state.editorState))}),E()(k()(k()(n)),"removeSelectionInlineStyles",function(){n.setValue(N.ContentUtils.removeSelectionInlineStyles(n.state.editorState))}),E()(k()(k()(n)),"insertHorizontalLine",function(){n.setValue(N.ContentUtils.insertHorizontalLine(n.state.editorState))}),E()(k()(k()(n)),"clearEditorContent",function(){n.setValue(N.ContentUtils.clear(n.state.editorState))}),E()(k()(k()(n)),"setEditorContainerNode",function(e){n.setState({containerNode:e})}),n.isFocused=!1,n.keyBindingFn=T(e.customKeyBindingFn),n.blockStyleFn=G(e.blockStyleFn),n.blockRenderMap=I.DefaultDraftBlockRenderMap.merge(q),e.blockRenderMapFn&&(n.blockRenderMap=e.blockRenderMapFn(n.blockRenderMap)),n.braftFinder=null;var o=N.ContentUtils.isEditorState(e.defaultValue)?e.defaultValue:N.ContentUtils.createEmptyEditorState(ve);return n.state={containerNode:null,tempColors:[],editorState:o,draftProps:{}},n}return b()(t,e),p()(t,[{key:"componentWillMount",value:function(){var e=this,t=this.props,o=t.controls,r=t.extendControls;s()(o).concat(s()(r)).find(function(e){return"media"===e||"media"===e.key})&&Promise.resolve().then(function(){var t=n(26).default;e.braftFinder=new t({language:e.props.language,uploader:e.props.media.uploadFn,validator:e.props.media.validateFn}),e.forceUpdate()}.bind(null,n)).catch(n.oe)}},{key:"componentDidMount",value:function(){var e=this.props.value;N.ContentUtils.isEditorState(e)&&this.setState({editorState:e})}},{key:"componentWillReceiveProps",value:function(e){var t=e.value;N.ContentUtils.isEditorState(t)&&this.setState({editorState:t})}},{key:"render",value:function(){var e=this,t=this.props,n=t.controls,o=t.excludeControls,r=t.extendControls,a=t.disabled,l=t.media,c=t.language,d=t.colors,u=t.hooks,p=t.fontSizes,m=t.fontFamilies,f=t.emojis,h=t.placeholder,g=t.imageControls,y=t.lineHeights,b=t.letterSpacings,v=t.textIndents,k=t.textAligns,C=t.textBackgroundColor,E=t.extendAtomics,S=t.className,N=t.style,T=t.controlBarClassName,F=t.controlBarStyle,L=t.contentClassName,A=t.contentStyle,B=t.stripPastedStyles,R=t.componentBelowControlBar;u=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[t]||function(){return n}}}(u),n=n.filter(function(e){return-1===o.indexOf(e)}),c=x[c]||x[D.language];var O=l&&l.externals?i()({},D.media.externals,l.externals):D.media.externals;(l=i()({},D.media,l,{externalMedias:O})).uploadFn||(l.video=!1,l.audio=!1);var U={editor:this,editorState:this.state.editorState,braftFinder:this.braftFinder,ref:function(t){return e.controlBarInstance=t},containerNode:this.state.containerNode,className:T,style:F,hooks:u,colors:s()(d).concat(s()(this.state.tempColors)),media:l,controls:n,language:c,extendControls:r,fontSizes:p,fontFamilies:m,emojis:f,lineHeights:y,letterSpacings:b,textIndents:v,textAligns:k,textBackgroundColor:C},H=z({editor:this,hooks:u,editorState:this.state.editorState,containerNode:this.state.containerNode,imageControls:g,language:c,extendAtomics:E},this.props.blockRendererFn),M=K({colors:s()(d).concat(s()(this.state.tempColors)),fontSizes:p,fontFamilies:m,lineHeights:y,letterSpacings:b,textIndents:v},this.props.customStyleMap),V=i()({ref:function(t){e.draftInstance=t},editorState:this.state.editorState,handleKeyCommand:this.handleKeyCommand,handleReturn:this.handleReturn,handleDrop:this.handleDrop,handleDroppedFiles:this.handleDroppedFiles,handlePastedText:this.handlePastedText,handlePastedFiles:this.handlePastedFiles,onChange:this.onChange,onTab:this.onTab,onFocus:this.onFocus,onBlur:this.onBlur,readOnly:a,blockRenderMap:this.blockRenderMap,blockStyleFn:this.blockStyleFn,keyBindingFn:this.keyBindingFn,customStyleMap:M,blockRendererFn:H,placeholder:h,stripPastedStyles:B},this.props.draftProps,this.state.draftProps);return w.a.createElement("div",{ref:this.setEditorContainerNode,className:"BraftEditor-container ".concat(S," ").concat(a?"disabled":""),style:N},w.a.createElement(be,U),R,w.a.createElement("div",{className:"BraftEditor-content ".concat(L),style:A},w.a.createElement(I.Editor,V)))}},{key:"setDraftProps",value:function(e){this.setState({draftProps:i()({},this.state.draftProps,e)})}}]),t}(w.a.Component);E()(ke,"defaultProps",D);var Ce=n(13);n.d(t,"EditorState",function(){return I.EditorState}),n.d(t,"editorDecorators",function(){return ve}),I.EditorState.prototype.toHTML=function(){return Object(Ce.convertEditorStateToHTML)(this)},I.EditorState.prototype.toRAW=function(e){return e?Object(Ce.convertEditorStateToRaw)(this):JSON.stringify(Object(Ce.convertEditorStateToRaw)(this))},I.EditorState.createFrom=function(e,t){if("object"===r()(e)&&e.blocks&&e.entityMap)return Object(Ce.convertRawToEditorState)(e,ve);if("string"!=typeof e)return I.EditorState.createEmpty(ve);try{return I.EditorState.createFrom(JSON.parse(e),t)}catch(n){return Object(Ce.convertHTMLToEditorState)(e,ve,t)}};t.default=ke},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){var n=[],o=!0,r=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(o=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);o=!0);}catch(e){r=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(r)throw a}}return n}},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=i},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,function(e,t){},,function(e,t){}])});
//# sourceMappingURL=index.js.map